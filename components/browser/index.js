!function e(t,r,n){function o(a,u){if(!r[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return o(r?r:e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){t.exports={logging:!1,devtools:!1}},{}],2:[function(e,t,r){t.exports={"default":e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":33}],3:[function(e,t,r){t.exports={"default":e("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":34}],4:[function(e,t,r){t.exports={"default":e("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":35}],5:[function(e,t,r){t.exports={"default":e("core-js/library/fn/map"),__esModule:!0}},{"core-js/library/fn/map":36}],6:[function(e,t,r){t.exports={"default":e("core-js/library/fn/math/trunc"),__esModule:!0}},{"core-js/library/fn/math/trunc":37}],7:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":38}],8:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":39}],9:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":40}],10:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":41}],11:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/get-own-property-names"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-names":42}],12:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":43}],13:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":44}],14:[function(e,t,r){t.exports={"default":e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":45}],15:[function(e,t,r){t.exports={"default":e("core-js/library/fn/set"),__esModule:!0}},{"core-js/library/fn/set":46}],16:[function(e,t,r){t.exports={"default":e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":48}],17:[function(e,t,r){t.exports={"default":e("core-js/library/fn/symbol/for"),__esModule:!0}},{"core-js/library/fn/symbol/for":47}],18:[function(e,t,r){"use strict";r["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r.__esModule=!0},{}],19:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/define-property")["default"];r["default"]=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),n(e,o.key,o)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),r.__esModule=!0},{"babel-runtime/core-js/object/define-property":9}],20:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/define-property")["default"];r["default"]=function(e,t,r){return t in e?n(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},r.__esModule=!0},{"babel-runtime/core-js/object/define-property":9}],21:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/get-own-property-descriptor")["default"];r["default"]=function(e,t,r){for(var o=!0;o;){var i=e,a=t,u=r;s=l=c=void 0,o=!1,null===i&&(i=Function.prototype);var s=n(i,a);if(void 0!==s){if("value"in s)return s.value;var c=s.get;return void 0===c?void 0:c.call(u)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;e=l,t=a,r=u,o=!0}},r.__esModule=!0},{"babel-runtime/core-js/object/get-own-property-descriptor":10}],22:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/create")["default"],o=e("babel-runtime/core-js/object/set-prototype-of")["default"];r["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=n(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o?o(e,t):e.__proto__=t)},r.__esModule=!0},{"babel-runtime/core-js/object/create":8,"babel-runtime/core-js/object/set-prototype-of":13}],23:[function(e,t,r){"use strict";r["default"]=function(e){return e&&e.__esModule?e:{"default":e}},r.__esModule=!0},{}],24:[function(e,t,r){"use strict";r["default"]=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t},r.__esModule=!0},{}],25:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/get-iterator")["default"],o=e("babel-runtime/core-js/is-iterable")["default"];r["default"]=function(){function e(e,t){var r=[],o=!0,i=!1,a=void 0;try{for(var u,s=n(e);!(o=(u=s.next()).done)&&(r.push(u.value),!t||r.length!==t);o=!0);}catch(c){i=!0,a=c}finally{try{!o&&s["return"]&&s["return"]()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(o(Object(t)))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r.__esModule=!0},{"babel-runtime/core-js/get-iterator":3,"babel-runtime/core-js/is-iterable":4}],26:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/array/from")["default"];r["default"]=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return n(e)},r.__esModule=!0},{"babel-runtime/core-js/array/from":2}],27:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=Object.freeze([]);r.empty=n,r["default"]=n},{}],28:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=Object.freeze({});r.blank=n,r["default"]=n},{}],29:[function(e,t,r){},{}],30:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){return 2*Math.PI*e};r.turns=n;var o=function(e){return e*Math.PI/180};r.degrees=o},{}],31:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&u["return"]&&u["return"]()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=e("./angle"),a=function Z(e,t,r,o){n(this,Z),this.red=e,this.green=t,this.blue=r,this.alpha=o};a.prototype.type="Color.RGBA";var u=function Q(e,t,r,o){n(this,Q),this.hue=e,this.saturation=t,this.lightness=r,this.alpha=o};u.prototype.type="Color.HSLA";var s=function(e,t,r,n){return new a(e,t,r,n)};r.rgba=s;var c=function(e,t,r){return new a(e,t,r,1)};r.rgb=c;var l=function(e,t,r,n){return new u(e-i.turns(Math.floor(e/(2*Math.PI))),t,r,n)};r.hsla=l;var f=function(e,t,r){return l(e,t,r,1)};r.hsl=f;var d=function(e){return new u(0,0,1-e,1)};r.grayscale=d;var p=function(e){for(var t=!0;t;){var r=e;if(t=!1,"Color.HSLA"===r.type)return l(r.hue+i.degrees(180),r.saturation,r.lightness,r.alpha);if("Color.RGBA"!==r.type)throw TypeError("Unsupported color structure was passed");e=y(r),t=!0}};r.complement=p;var m=function(e){if("Color.HSLA"===e.type)return e;if("Color.RGBA"===e.type)return y(e);throw TypeError("Unsupported color structure was passed")};r.toHSL=m;var v=function(e){if("Color.RGBA"===e.type)return e;if("Color.HSLA"===e.type)return b(e);throw TypeError("Unsupported color structure was passed")};r.toRGB=v;var h=function(e,t){var r=Math.floor(e);return r%t+e-r},y=function(e){var t=e.red,r=e.green,n=e.blue,o=e.alpha,a=t/255,s=r/255,c=n/255,l=Math.max(Math.max(a,s),c),f=Math.min(Math.min(a,s),c),d=l-f,p=l===a?h((s-c)/d,6):l===s?(c-a)/d+2:(a-s)/d+4,m=i.degrees(60)*p,v=(l+f)/2,y=0===v?0:d/(1-Math.abs(2*v-1));return new u(m,v,y,o)},b=function(e){var t=e.hue,r=e.saturation,n=e.lightness,u=e.alpha,s=(1-Math.abs(2*n-1))*r,c=t/i.degrees(60),l=s*(1-Math.abs(h(c,1))),f=0>c?[0,0,0]:1>c?[s,l,0]:2>c?[l,s,0]:3>c?[0,s,l]:4>c?[0,l,s]:5>c?[l,0,s]:6>c?[s,0,l]:[0,0,0],d=o(f,3),p=d[0],m=d[1],v=d[2],y=n-s/2;return new a(Math.round(255*(p+y)),Math.round(255*(m+y)),Math.round(255*(v+y)),u)},g=c(239,41,41);r.lightRed=g;var w=c(204,0,0);r.red=w;var k=c(164,0,0);r.darkRed=k;var x=c(252,175,62);r.lightOrange=x;var E=c(245,121,0);r.orange=E;var S=c(206,92,0);r.darkOrange=S;var O=c(255,233,79);r.lightYellow=O;var j=c(237,212,0);r.yellow=j;var _=c(196,160,0);r.darkYellow=_;var $=c(138,226,52);r.lightGreen=$;var C=c(115,210,22);r.green=C;var A=c(78,154,6);r.darkGreen=A;var P=c(114,159,207);r.lightBlue=P;var T=c(52,101,164);r.blue=T;var M=c(32,74,135);r.darkBlue=M;var F=c(173,127,168);r.lightPurple=F;var R=c(117,80,123);r.purple=R;var D=c(92,53,102);r.darkPurple=D;var B=c(233,185,110);r.lightBrown=B;var I=c(193,125,17);r.brown=I;var z=c(143,89,2);r.darkBrown=z;var q=c(0,0,0);r.black=q;var U=c(255,255,255);r.white=U;var N=c(238,238,236);r.lightGrey=N;var L=c(211,215,207);r.grey=L;var V=c(186,189,182);r.darkGrey=V;var W=c(136,138,133);r.lightCharcoal=W;var H=c(85,87,83);r.charcoal=H;var G=c(46,52,54);r.darkCharcoal=G},{"./angle":30}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./angle");Object.defineProperty(r,"turns",{enumerable:!0,get:function(){return n.turns}}),Object.defineProperty(r,"degrees",{enumerable:!0,get:function(){return n.degrees}});var o=e("./color");Object.defineProperty(r,"rgb",{enumerable:!0,get:function(){return o.rgb}}),Object.defineProperty(r,"rgba",{enumerable:!0,get:function(){return o.rgba}}),Object.defineProperty(r,"hsl",{enumerable:!0,get:function(){return o.hsl}}),Object.defineProperty(r,"hsla",{enumerable:!0,get:function(){return o.hsla}}),Object.defineProperty(r,"grayscale",{enumerable:!0,get:function(){return o.grayscale}}),Object.defineProperty(r,"toRGB",{enumerable:!0,get:function(){return o.toRGB}}),Object.defineProperty(r,"toHSL",{enumerable:!0,get:function(){return o.toHSL}}),Object.defineProperty(r,"lightRed",{enumerable:!0,get:function(){return o.lightRed}}),Object.defineProperty(r,"red",{enumerable:!0,get:function(){return o.red}}),Object.defineProperty(r,"darkRed",{enumerable:!0,get:function(){return o.darkRed}}),Object.defineProperty(r,"lightOrange",{enumerable:!0,get:function(){return o.lightOrange}}),Object.defineProperty(r,"orange",{enumerable:!0,get:function(){return o.orange}}),Object.defineProperty(r,"darkOrange",{enumerable:!0,get:function(){return o.darkOrange}}),Object.defineProperty(r,"lightYellow",{enumerable:!0,get:function(){return o.lightYellow}}),Object.defineProperty(r,"yellow",{enumerable:!0,get:function(){return o.yellow}}),Object.defineProperty(r,"darkYellow",{enumerable:!0,get:function(){return o.darkYellow}}),Object.defineProperty(r,"lightGreen",{enumerable:!0,get:function(){return o.lightGreen}}),Object.defineProperty(r,"green",{enumerable:!0,get:function(){return o.green}}),Object.defineProperty(r,"darkGreen",{enumerable:!0,get:function(){return o.darkGreen}}),Object.defineProperty(r,"lightBlue",{enumerable:!0,get:function(){return o.lightBlue}}),Object.defineProperty(r,"blue",{enumerable:!0,get:function(){return o.blue}}),Object.defineProperty(r,"darkBlue",{enumerable:!0,get:function(){return o.darkBlue}}),Object.defineProperty(r,"lightPurple",{enumerable:!0,get:function(){return o.lightPurple}}),Object.defineProperty(r,"purple",{enumerable:!0,get:function(){return o.purple}}),Object.defineProperty(r,"darkPurple",{enumerable:!0,get:function(){return o.darkPurple}}),Object.defineProperty(r,"lightBrown",{enumerable:!0,get:function(){return o.lightBrown}}),Object.defineProperty(r,"brown",{enumerable:!0,get:function(){return o.brown}}),Object.defineProperty(r,"darkBrown",{enumerable:!0,get:function(){return o.darkBrown}}),Object.defineProperty(r,"black",{enumerable:!0,get:function(){return o.black}}),Object.defineProperty(r,"white",{enumerable:!0,get:function(){return o.white}}),Object.defineProperty(r,"lightGrey",{enumerable:!0,get:function(){return o.lightGrey}}),Object.defineProperty(r,"grey",{enumerable:!0,get:function(){return o.grey}}),Object.defineProperty(r,"darkGrey",{enumerable:!0,get:function(){return o.darkGrey}}),Object.defineProperty(r,"lightCharcoal",{enumerable:!0,get:function(){return o.lightCharcoal}}),Object.defineProperty(r,"charcoal",{enumerable:!0,get:function(){return o.charcoal}}),Object.defineProperty(r,"darkCharcoal",{enumerable:!0,get:function(){return o.darkCharcoal}})},{"./angle":30,"./color":31}],33:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/$.core").Array.from},{"../../modules/$.core":57,"../../modules/es6.array.from":109,"../../modules/es6.string.iterator":121}],34:[function(e,t,r){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.get-iterator")},{"../modules/core.get-iterator":107,"../modules/es6.string.iterator":121,"../modules/web.dom.iterable":125}],35:[function(e,t,r){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.is-iterable")},{"../modules/core.is-iterable":108,"../modules/es6.string.iterator":121,"../modules/web.dom.iterable":125}],36:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.map"),e("../modules/es7.map.to-json"),t.exports=e("../modules/$.core").Map},{"../modules/$.core":57,"../modules/es6.map":111,"../modules/es6.object.to-string":118,"../modules/es6.string.iterator":121,"../modules/es7.map.to-json":123,"../modules/web.dom.iterable":125}],37:[function(e,t,r){e("../../modules/es6.math.trunc"),t.exports=e("../../modules/$.core").Math.trunc},{"../../modules/$.core":57,"../../modules/es6.math.trunc":112}],38:[function(e,t,r){e("../../modules/es6.object.assign"),t.exports=e("../../modules/$.core").Object.assign},{"../../modules/$.core":57,"../../modules/es6.object.assign":113}],39:[function(e,t,r){var n=e("../../modules/$");t.exports=function(e,t){return n.create(e,t)}},{"../../modules/$":82}],40:[function(e,t,r){var n=e("../../modules/$");t.exports=function(e,t,r){return n.setDesc(e,t,r)}},{"../../modules/$":82}],41:[function(e,t,r){var n=e("../../modules/$");e("../../modules/es6.object.get-own-property-descriptor"),t.exports=function(e,t){return n.getDesc(e,t)}},{"../../modules/$":82,"../../modules/es6.object.get-own-property-descriptor":114}],42:[function(e,t,r){var n=e("../../modules/$");e("../../modules/es6.object.get-own-property-names"),t.exports=function(e){return n.getNames(e)}},{"../../modules/$":82,"../../modules/es6.object.get-own-property-names":115}],43:[function(e,t,r){e("../../modules/es6.object.keys"),t.exports=e("../../modules/$.core").Object.keys},{"../../modules/$.core":57,"../../modules/es6.object.keys":116}],44:[function(e,t,r){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/$.core").Object.setPrototypeOf},{"../../modules/$.core":57,"../../modules/es6.object.set-prototype-of":117}],45:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),t.exports=e("../modules/$.core").Promise},{"../modules/$.core":57,"../modules/es6.object.to-string":118,"../modules/es6.promise":119,"../modules/es6.string.iterator":121,"../modules/web.dom.iterable":125}],46:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.set"),e("../modules/es7.set.to-json"),t.exports=e("../modules/$.core").Set},{"../modules/$.core":57,"../modules/es6.object.to-string":118,"../modules/es6.set":120,"../modules/es6.string.iterator":121,"../modules/es7.set.to-json":124,"../modules/web.dom.iterable":125}],47:[function(e,t,r){e("../../modules/es6.symbol"),t.exports=e("../../modules/$.core").Symbol["for"]},{"../../modules/$.core":57,"../../modules/es6.symbol":122}],48:[function(e,t,r){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),t.exports=e("../../modules/$.core").Symbol},{"../../modules/$.core":57,"../../modules/es6.object.to-string":118,"../../modules/es6.symbol":122}],49:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],50:[function(e,t,r){t.exports=function(){}},{}],51:[function(e,t,r){var n=e("./$.is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./$.is-object":75}],52:[function(e,t,r){var n=e("./$.cof"),o=e("./$.wks")("toStringTag"),i="Arguments"==n(function(){return arguments}());t.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=(t=Object(e))[o])?r:i?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},{"./$.cof":53,"./$.wks":105}],53:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],54:[function(e,t,r){"use strict";var n=e("./$"),o=e("./$.hide"),i=e("./$.redefine-all"),a=e("./$.ctx"),u=e("./$.strict-new"),s=e("./$.defined"),c=e("./$.for-of"),l=e("./$.iter-define"),f=e("./$.iter-step"),d=e("./$.uid")("id"),p=e("./$.has"),m=e("./$.is-object"),v=e("./$.set-species"),h=e("./$.descriptors"),y=Object.isExtensible||m,b=h?"_s":"size",g=0,w=function(e,t){if(!m(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!p(e,d)){if(!y(e))return"F";if(!t)return"E";o(e,d,++g)}return"O"+e[d]},k=function(e,t){var r,n=w(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};t.exports={getConstructor:function(e,t,r,o){var l=e(function(e,i){u(e,l,t),e._i=n.create(null),e._f=void 0,e._l=void 0,e[b]=0,void 0!=i&&c(i,r,e[o],e)});return i(l.prototype,{clear:function(){for(var e=this,t=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e._f=e._l=void 0,e[b]=0},"delete":function(e){var t=this,r=k(t,e);if(r){var n=r.n,o=r.p;delete t._i[r.i],r.r=!0,o&&(o.n=n),n&&(n.p=o),t._f==r&&(t._f=n),t._l==r&&(t._l=o),t[b]--}return!!r},forEach:function(e){for(var t,r=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!k(this,e)}}),h&&n.setDesc(l.prototype,"size",{get:function(){return s(this[b])}}),l},def:function(e,t,r){var n,o,i=k(e,t);return i?i.v=r:(e._l=i={i:o=w(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=i),n&&(n.n=i),e[b]++,"F"!==o&&(e._i[o]=i)),e},getEntry:k,setStrong:function(e,t,r){l(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?"keys"==t?f(0,r.k):"values"==t?f(0,r.v):f(0,[r.k,r.v]):(e._t=void 0,f(1))},r?"entries":"values",!r,!0),v(t)}}},{"./$":82,"./$.ctx":58,"./$.defined":59,"./$.descriptors":60,"./$.for-of":65,"./$.has":68,"./$.hide":69,"./$.is-object":75,"./$.iter-define":78,"./$.iter-step":80,"./$.redefine-all":89,"./$.set-species":93,"./$.strict-new":97,"./$.uid":104}],55:[function(e,t,r){var n=e("./$.for-of"),o=e("./$.classof");t.exports=function(e){return function(){if(o(this)!=e)throw TypeError(e+"#toJSON isn't generic");var t=[];return n(this,!1,t.push,t),t}}},{"./$.classof":52,"./$.for-of":65}],56:[function(e,t,r){"use strict";var n=e("./$"),o=e("./$.global"),i=e("./$.export"),a=e("./$.fails"),u=e("./$.hide"),s=e("./$.redefine-all"),c=e("./$.for-of"),l=e("./$.strict-new"),f=e("./$.is-object"),d=e("./$.set-to-string-tag"),p=e("./$.descriptors");t.exports=function(e,t,r,m,v,h){var y=o[e],b=y,g=v?"set":"add",w=b&&b.prototype,k={};return p&&"function"==typeof b&&(h||w.forEach&&!a(function(){(new b).entries().next()}))?(b=t(function(t,r){l(t,b,e),t._c=new y,void 0!=r&&c(r,v,t[g],t)}),n.each.call("add,clear,delete,forEach,get,has,set,keys,values,entries".split(","),function(e){var t="add"==e||"set"==e;e in w&&(!h||"clear"!=e)&&u(b.prototype,e,function(r,n){if(!t&&h&&!f(r))return"get"==e?void 0:!1;var o=this._c[e](0===r?0:r,n);return t?this:o})}),"size"in w&&n.setDesc(b.prototype,"size",{get:function(){return this._c.size}})):(b=m.getConstructor(t,e,v,g),s(b.prototype,r)),d(b,e),k[e]=b,i(i.G+i.W+i.F,k),h||m.setStrong(b,e,v),b}},{"./$":82,"./$.descriptors":60,"./$.export":63,"./$.fails":64,"./$.for-of":65,"./$.global":67,"./$.hide":69,"./$.is-object":75,"./$.redefine-all":89,"./$.set-to-string-tag":94,"./$.strict-new":97}],57:[function(e,t,r){var n=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},{}],58:[function(e,t,r){var n=e("./$.a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},{"./$.a-function":49}],59:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],60:[function(e,t,r){t.exports=!e("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":64}],61:[function(e,t,r){var n=e("./$.is-object"),o=e("./$.global").document,i=n(o)&&n(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./$.global":67,"./$.is-object":75}],62:[function(e,t,r){var n=e("./$");t.exports=function(e){var t=n.getKeys(e),r=n.getSymbols;if(r)for(var o,i=r(e),a=n.isEnum,u=0;i.length>u;)a.call(e,o=i[u++])&&t.push(o);return t}},{"./$":82}],63:[function(e,t,r){var n=e("./$.global"),o=e("./$.core"),i=e("./$.ctx"),a="prototype",u=function(e,t,r){var s,c,l,f=e&u.F,d=e&u.G,p=e&u.S,m=e&u.P,v=e&u.B,h=e&u.W,y=d?o:o[t]||(o[t]={}),b=d?n:p?n[t]:(n[t]||{})[a];d&&(r=t);for(s in r)c=!f&&b&&s in b,c&&s in y||(l=c?b[s]:r[s],y[s]=d&&"function"!=typeof b[s]?r[s]:v&&c?i(l,n):h&&b[s]==l?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[a]=e[a],t}(l):m&&"function"==typeof l?i(Function.call,l):l,m&&((y[a]||(y[a]={}))[s]=l))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,t.exports=u},{"./$.core":57,"./$.ctx":58,"./$.global":67}],64:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],65:[function(e,t,r){var n=e("./$.ctx"),o=e("./$.iter-call"),i=e("./$.is-array-iter"),a=e("./$.an-object"),u=e("./$.to-length"),s=e("./core.get-iterator-method");t.exports=function(e,t,r,c){var l,f,d,p=s(e),m=n(r,c,t?2:1),v=0;if("function"!=typeof p)throw TypeError(e+" is not iterable!");if(i(p))for(l=u(e.length);l>v;v++)t?m(a(f=e[v])[0],f[1]):m(e[v]);else for(d=p.call(e);!(f=d.next()).done;)o(d,m,f.value,t)}},{"./$.an-object":51,"./$.ctx":58,"./$.is-array-iter":73,"./$.iter-call":76,"./$.to-length":102,"./core.get-iterator-method":106}],66:[function(e,t,r){var n=e("./$.to-iobject"),o=e("./$").getNames,i={}.toString,a="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return o(e)}catch(t){return a.slice()}};t.exports.get=function(e){return a&&"[object Window]"==i.call(e)?u(e):o(n(e))}},{"./$":82,"./$.to-iobject":101}],67:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],68:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],69:[function(e,t,r){var n=e("./$"),o=e("./$.property-desc");t.exports=e("./$.descriptors")?function(e,t,r){return n.setDesc(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},{"./$":82,"./$.descriptors":60,"./$.property-desc":88}],70:[function(e,t,r){t.exports=e("./$.global").document&&document.documentElement},{"./$.global":67}],71:[function(e,t,r){t.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},{}],72:[function(e,t,r){var n=e("./$.cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./$.cof":53}],73:[function(e,t,r){var n=e("./$.iterators"),o=e("./$.wks")("iterator"),i=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},{"./$.iterators":81,"./$.wks":105}],74:[function(e,t,r){var n=e("./$.cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./$.cof":53}],75:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],76:[function(e,t,r){var n=e("./$.an-object");t.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(i){var a=e["return"];throw void 0!==a&&n(a.call(e)),i}}},{"./$.an-object":51}],77:[function(e,t,r){"use strict";var n=e("./$"),o=e("./$.property-desc"),i=e("./$.set-to-string-tag"),a={};e("./$.hide")(a,e("./$.wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=n.create(a,{next:o(1,r)}),i(e,t+" Iterator")}},{"./$":82,"./$.hide":69,"./$.property-desc":88,"./$.set-to-string-tag":94,"./$.wks":105}],78:[function(e,t,r){"use strict";var n=e("./$.library"),o=e("./$.export"),i=e("./$.redefine"),a=e("./$.hide"),u=e("./$.has"),s=e("./$.iterators"),c=e("./$.iter-create"),l=e("./$.set-to-string-tag"),f=e("./$").getProto,d=e("./$.wks")("iterator"),p=!([].keys&&"next"in[].keys()),m="@@iterator",v="keys",h="values",y=function(){return this};t.exports=function(e,t,r,b,g,w,k){c(r,t,b);var x,E,S=function(e){if(!p&&e in $)return $[e];switch(e){case v:return function(){return new r(this,e)};case h:return function(){return new r(this,e)}}return function(){return new r(this,e)}},O=t+" Iterator",j=g==h,_=!1,$=e.prototype,C=$[d]||$[m]||g&&$[g],A=C||S(g);if(C){var P=f(A.call(new e));l(P,O,!0),!n&&u($,m)&&a(P,d,y),j&&C.name!==h&&(_=!0,A=function(){return C.call(this)})}if(n&&!k||!p&&!_&&$[d]||a($,d,A),s[t]=A,s[O]=y,g)if(x={values:j?A:S(h),keys:w?A:S(v),entries:j?S("entries"):A},k)for(E in x)E in $||i($,E,x[E]);else o(o.P+o.F*(p||_),t,x);return x}},{"./$":82,"./$.export":63,"./$.has":68,"./$.hide":69,"./$.iter-create":77,"./$.iterators":81,"./$.library":84,"./$.redefine":90,"./$.set-to-string-tag":94,"./$.wks":105}],79:[function(e,t,r){var n=e("./$.wks")("iterator"),o=!1;try{var i=[7][n]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(a){}t.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i=[7],a=i[n]();a.next=function(){r=!0},i[n]=function(){return a},e(i)}catch(u){}return r}},{"./$.wks":105}],80:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],81:[function(e,t,r){t.exports={}},{}],82:[function(e,t,r){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},{}],83:[function(e,t,r){var n=e("./$"),o=e("./$.to-iobject");t.exports=function(e,t){for(var r,i=o(e),a=n.getKeys(i),u=a.length,s=0;u>s;)if(i[r=a[s++]]===t)return r}},{"./$":82,"./$.to-iobject":101}],84:[function(e,t,r){t.exports=!0},{}],85:[function(e,t,r){var n,o,i,a=e("./$.global"),u=e("./$.task").set,s=a.MutationObserver||a.WebKitMutationObserver,c=a.process,l=a.Promise,f="process"==e("./$.cof")(c),d=function(){var e,t,r;for(f&&(e=c.domain)&&(c.domain=null,e.exit());n;)t=n.domain,r=n.fn,t&&t.enter(),r(),t&&t.exit(),n=n.next;o=void 0,e&&e.enter()};if(f)i=function(){c.nextTick(d)};else if(s){var p=1,m=document.createTextNode("");new s(d).observe(m,{characterData:!0}),i=function(){m.data=p=-p}}else i=l&&l.resolve?function(){l.resolve().then(d)}:function(){u.call(a,d)};t.exports=function(e){var t={fn:e,next:void 0,domain:f&&c.domain};o&&(o.next=t),n||(n=t,i()),o=t}},{"./$.cof":53,"./$.global":67,"./$.task":99}],86:[function(e,t,r){var n=e("./$"),o=e("./$.to-object"),i=e("./$.iobject");t.exports=e("./$.fails")(function(){var e=Object.assign,t={},r={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(e){r[e]=e}),7!=e({},t)[n]||Object.keys(e({},r)).join("")!=o})?function(e,t){for(var r=o(e),a=arguments,u=a.length,s=1,c=n.getKeys,l=n.getSymbols,f=n.isEnum;u>s;)for(var d,p=i(a[s++]),m=l?c(p).concat(l(p)):c(p),v=m.length,h=0;v>h;)f.call(p,d=m[h++])&&(r[d]=p[d]);return r}:Object.assign},{"./$":82,"./$.fails":64,"./$.iobject":72,"./$.to-object":103}],87:[function(e,t,r){var n=e("./$.export"),o=e("./$.core"),i=e("./$.fails");t.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*i(function(){r(1)}),"Object",a)}},{"./$.core":57,"./$.export":63,"./$.fails":64}],88:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],89:[function(e,t,r){var n=e("./$.redefine");t.exports=function(e,t){for(var r in t)n(e,r,t[r]);return e}},{"./$.redefine":90}],90:[function(e,t,r){t.exports=e("./$.hide")},{"./$.hide":69}],91:[function(e,t,r){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},{}],92:[function(e,t,r){var n=e("./$").getDesc,o=e("./$.is-object"),i=e("./$.an-object"),a=function(e,t){if(i(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,o){try{o=e("./$.ctx")(Function.call,n(Object.prototype,"__proto__").set,2),o(t,[]),r=!(t instanceof Array)}catch(i){r=!0}return function(e,t){return a(e,t),r?e.__proto__=t:o(e,t),e}}({},!1):void 0),check:a}},{"./$":82,"./$.an-object":51,"./$.ctx":58,"./$.is-object":75}],93:[function(e,t,r){"use strict";var n=e("./$.core"),o=e("./$"),i=e("./$.descriptors"),a=e("./$.wks")("species");t.exports=function(e){var t=n[e];i&&t&&!t[a]&&o.setDesc(t,a,{configurable:!0,get:function(){return this}})}},{"./$":82,"./$.core":57,"./$.descriptors":60,"./$.wks":105}],94:[function(e,t,r){var n=e("./$").setDesc,o=e("./$.has"),i=e("./$.wks")("toStringTag");t.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},{"./$":82,"./$.has":68,"./$.wks":105}],95:[function(e,t,r){var n=e("./$.global"),o="__core-js_shared__",i=n[o]||(n[o]={});t.exports=function(e){return i[e]||(i[e]={})}},{"./$.global":67}],96:[function(e,t,r){var n=e("./$.an-object"),o=e("./$.a-function"),i=e("./$.wks")("species");t.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[i])?t:o(r)}},{"./$.a-function":49,"./$.an-object":51,"./$.wks":105}],97:[function(e,t,r){t.exports=function(e,t,r){if(!(e instanceof t))throw TypeError(r+": use the 'new' operator!");return e}},{}],98:[function(e,t,r){var n=e("./$.to-integer"),o=e("./$.defined");t.exports=function(e){return function(t,r){var i,a,u=String(o(t)),s=n(r),c=u.length;return 0>s||s>=c?e?"":void 0:(i=u.charCodeAt(s),55296>i||i>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):i:e?u.slice(s,s+2):(i-55296<<10)+(a-56320)+65536)}}},{"./$.defined":59,"./$.to-integer":100}],99:[function(e,t,r){var n,o,i,a=e("./$.ctx"),u=e("./$.invoke"),s=e("./$.html"),c=e("./$.dom-create"),l=e("./$.global"),f=l.process,d=l.setImmediate,p=l.clearImmediate,m=l.MessageChannel,v=0,h={},y="onreadystatechange",b=function(){var e=+this;if(h.hasOwnProperty(e)){var t=h[e];delete h[e],t()}},g=function(e){b.call(e.data)};d&&p||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return h[++v]=function(){u("function"==typeof e?e:Function(e),t)},n(v),v},p=function(e){delete h[e];

},"process"==e("./$.cof")(f)?n=function(e){f.nextTick(a(b,e,1))}:m?(o=new m,i=o.port2,o.port1.onmessage=g,n=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",g,!1)):n=y in c("script")?function(e){s.appendChild(c("script"))[y]=function(){s.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),t.exports={set:d,clear:p}},{"./$.cof":53,"./$.ctx":58,"./$.dom-create":61,"./$.global":67,"./$.html":70,"./$.invoke":71}],100:[function(e,t,r){var n=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},{}],101:[function(e,t,r){var n=e("./$.iobject"),o=e("./$.defined");t.exports=function(e){return n(o(e))}},{"./$.defined":59,"./$.iobject":72}],102:[function(e,t,r){var n=e("./$.to-integer"),o=Math.min;t.exports=function(e){return e>0?o(n(e),9007199254740991):0}},{"./$.to-integer":100}],103:[function(e,t,r){var n=e("./$.defined");t.exports=function(e){return Object(n(e))}},{"./$.defined":59}],104:[function(e,t,r){var n=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},{}],105:[function(e,t,r){var n=e("./$.shared")("wks"),o=e("./$.uid"),i=e("./$.global").Symbol;t.exports=function(e){return n[e]||(n[e]=i&&i[e]||(i||o)("Symbol."+e))}},{"./$.global":67,"./$.shared":95,"./$.uid":104}],106:[function(e,t,r){var n=e("./$.classof"),o=e("./$.wks")("iterator"),i=e("./$.iterators");t.exports=e("./$.core").getIteratorMethod=function(e){return void 0!=e?e[o]||e["@@iterator"]||i[n(e)]:void 0}},{"./$.classof":52,"./$.core":57,"./$.iterators":81,"./$.wks":105}],107:[function(e,t,r){var n=e("./$.an-object"),o=e("./core.get-iterator-method");t.exports=e("./$.core").getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},{"./$.an-object":51,"./$.core":57,"./core.get-iterator-method":106}],108:[function(e,t,r){var n=e("./$.classof"),o=e("./$.wks")("iterator"),i=e("./$.iterators");t.exports=e("./$.core").isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(n(t))}},{"./$.classof":52,"./$.core":57,"./$.iterators":81,"./$.wks":105}],109:[function(e,t,r){"use strict";var n=e("./$.ctx"),o=e("./$.export"),i=e("./$.to-object"),a=e("./$.iter-call"),u=e("./$.is-array-iter"),s=e("./$.to-length"),c=e("./core.get-iterator-method");o(o.S+o.F*!e("./$.iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,o,l,f=i(e),d="function"==typeof this?this:Array,p=arguments,m=p.length,v=m>1?p[1]:void 0,h=void 0!==v,y=0,b=c(f);if(h&&(v=n(v,m>2?p[2]:void 0,2)),void 0==b||d==Array&&u(b))for(t=s(f.length),r=new d(t);t>y;y++)r[y]=h?v(f[y],y):f[y];else for(l=b.call(f),r=new d;!(o=l.next()).done;y++)r[y]=h?a(l,v,[o.value,y],!0):o.value;return r.length=y,r}})},{"./$.ctx":58,"./$.export":63,"./$.is-array-iter":73,"./$.iter-call":76,"./$.iter-detect":79,"./$.to-length":102,"./$.to-object":103,"./core.get-iterator-method":106}],110:[function(e,t,r){"use strict";var n=e("./$.add-to-unscopables"),o=e("./$.iter-step"),i=e("./$.iterators"),a=e("./$.to-iobject");t.exports=e("./$.iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,r):"values"==t?o(0,e[r]):o(0,[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},{"./$.add-to-unscopables":50,"./$.iter-define":78,"./$.iter-step":80,"./$.iterators":81,"./$.to-iobject":101}],111:[function(e,t,r){"use strict";var n=e("./$.collection-strong");e("./$.collection")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(this,e);return t&&t.v},set:function(e,t){return n.def(this,0===e?0:e,t)}},n,!0)},{"./$.collection":56,"./$.collection-strong":54}],112:[function(e,t,r){var n=e("./$.export");n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},{"./$.export":63}],113:[function(e,t,r){var n=e("./$.export");n(n.S+n.F,"Object",{assign:e("./$.object-assign")})},{"./$.export":63,"./$.object-assign":86}],114:[function(e,t,r){var n=e("./$.to-iobject");e("./$.object-sap")("getOwnPropertyDescriptor",function(e){return function(t,r){return e(n(t),r)}})},{"./$.object-sap":87,"./$.to-iobject":101}],115:[function(e,t,r){e("./$.object-sap")("getOwnPropertyNames",function(){return e("./$.get-names").get})},{"./$.get-names":66,"./$.object-sap":87}],116:[function(e,t,r){var n=e("./$.to-object");e("./$.object-sap")("keys",function(e){return function(t){return e(n(t))}})},{"./$.object-sap":87,"./$.to-object":103}],117:[function(e,t,r){var n=e("./$.export");n(n.S,"Object",{setPrototypeOf:e("./$.set-proto").set})},{"./$.export":63,"./$.set-proto":92}],118:[function(e,t,r){arguments[4][29][0].apply(r,arguments)},{dup:29}],119:[function(e,t,r){"use strict";var n,o=e("./$"),i=e("./$.library"),a=e("./$.global"),u=e("./$.ctx"),s=e("./$.classof"),c=e("./$.export"),l=e("./$.is-object"),f=e("./$.an-object"),d=e("./$.a-function"),p=e("./$.strict-new"),m=e("./$.for-of"),v=e("./$.set-proto").set,h=e("./$.same-value"),y=e("./$.wks")("species"),b=e("./$.species-constructor"),g=e("./$.microtask"),w="Promise",k=a.process,x="process"==s(k),E=a[w],S=function(e){var t=new E(function(){});return e&&(t.constructor=Object),E.resolve(t)===t},O=function(){function t(e){var r=new E(e);return v(r,t.prototype),r}var r=!1;try{if(r=E&&E.resolve&&S(),v(t,E),t.prototype=o.create(E.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(r=!1),r&&e("./$.descriptors")){var n=!1;E.resolve(o.setDesc({},"then",{get:function(){n=!0}})),r=n}}catch(i){r=!1}return r}(),j=function(e,t){return i&&e===E&&t===n?!0:h(e,t)},_=function(e){var t=f(e)[y];return void 0!=t?t:e},$=function(e){var t;return l(e)&&"function"==typeof(t=e.then)?t:!1},C=function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=d(t),this.reject=d(r)},A=function(e){try{e()}catch(t){return{error:t}}},P=function(e,t){if(!e.n){e.n=!0;var r=e.c;g(function(){for(var n=e.v,o=1==e.s,i=0,u=function(t){var r,i,a=o?t.ok:t.fail,u=t.resolve,s=t.reject;try{a?(o||(e.h=!0),r=a===!0?n:a(n),r===t.promise?s(TypeError("Promise-chain cycle")):(i=$(r))?i.call(r,u,s):u(r)):s(n)}catch(c){s(c)}};r.length>i;)u(r[i++]);r.length=0,e.n=!1,t&&setTimeout(function(){var t,r,o=e.p;T(o)&&(x?k.emit("unhandledRejection",n,o):(t=a.onunhandledrejection)?t({promise:o,reason:n}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",n)),e.a=void 0},1)})}},T=function(e){var t,r=e._d,n=r.a||r.c,o=0;if(r.h)return!1;for(;n.length>o;)if(t=n[o++],t.fail||!T(t.promise))return!1;return!0},M=function(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,t.a=t.c.slice(),P(t,!0))},F=function(e){var t,r=this;if(!r.d){r.d=!0,r=r.r||r;try{if(r.p===e)throw TypeError("Promise can't be resolved itself");(t=$(e))?g(function(){var n={r:r,d:!1};try{t.call(e,u(F,n,1),u(M,n,1))}catch(o){M.call(n,o)}}):(r.v=e,r.s=1,P(r,!1))}catch(n){M.call({r:r,d:!1},n)}}};O||(E=function(e){d(e);var t=this._d={p:p(this,E,w),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{e(u(F,t,1),u(M,t,1))}catch(r){M.call(t,r)}},e("./$.redefine-all")(E.prototype,{then:function(e,t){var r=new C(b(this,E)),n=r.promise,o=this._d;return r.ok="function"==typeof e?e:!0,r.fail="function"==typeof t&&t,o.c.push(r),o.a&&o.a.push(r),o.s&&P(o,!1),n},"catch":function(e){return this.then(void 0,e)}})),c(c.G+c.W+c.F*!O,{Promise:E}),e("./$.set-to-string-tag")(E,w),e("./$.set-species")(w),n=e("./$.core")[w],c(c.S+c.F*!O,w,{reject:function(e){var t=new C(this),r=t.reject;return r(e),t.promise}}),c(c.S+c.F*(!O||S(!0)),w,{resolve:function(e){if(e instanceof E&&j(e.constructor,this))return e;var t=new C(this),r=t.resolve;return r(e),t.promise}}),c(c.S+c.F*!(O&&e("./$.iter-detect")(function(e){E.all(e)["catch"](function(){})})),w,{all:function(e){var t=_(this),r=new C(t),n=r.resolve,i=r.reject,a=[],u=A(function(){m(e,!1,a.push,a);var r=a.length,u=Array(r);r?o.each.call(a,function(e,o){var a=!1;t.resolve(e).then(function(e){a||(a=!0,u[o]=e,--r||n(u))},i)}):n(u)});return u&&i(u.error),r.promise},race:function(e){var t=_(this),r=new C(t),n=r.reject,o=A(function(){m(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o&&n(o.error),r.promise}})},{"./$":82,"./$.a-function":49,"./$.an-object":51,"./$.classof":52,"./$.core":57,"./$.ctx":58,"./$.descriptors":60,"./$.export":63,"./$.for-of":65,"./$.global":67,"./$.is-object":75,"./$.iter-detect":79,"./$.library":84,"./$.microtask":85,"./$.redefine-all":89,"./$.same-value":91,"./$.set-proto":92,"./$.set-species":93,"./$.set-to-string-tag":94,"./$.species-constructor":96,"./$.strict-new":97,"./$.wks":105}],120:[function(e,t,r){"use strict";var n=e("./$.collection-strong");e("./$.collection")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(this,e=0===e?0:e,e)}},n)},{"./$.collection":56,"./$.collection-strong":54}],121:[function(e,t,r){"use strict";var n=e("./$.string-at")(!0);e("./$.iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./$.iter-define":78,"./$.string-at":98}],122:[function(e,t,r){"use strict";var n=e("./$"),o=e("./$.global"),i=e("./$.has"),a=e("./$.descriptors"),u=e("./$.export"),s=e("./$.redefine"),c=e("./$.fails"),l=e("./$.shared"),f=e("./$.set-to-string-tag"),d=e("./$.uid"),p=e("./$.wks"),m=e("./$.keyof"),v=e("./$.get-names"),h=e("./$.enum-keys"),y=e("./$.is-array"),b=e("./$.an-object"),g=e("./$.to-iobject"),w=e("./$.property-desc"),k=n.getDesc,x=n.setDesc,E=n.create,S=v.get,O=o.Symbol,j=o.JSON,_=j&&j.stringify,$=!1,C=p("_hidden"),A=n.isEnum,P=l("symbol-registry"),T=l("symbols"),M="function"==typeof O,F=Object.prototype,R=a&&c(function(){return 7!=E(x({},"a",{get:function(){return x(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=k(F,t);n&&delete F[t],x(e,t,r),n&&e!==F&&x(F,t,n)}:x,D=function(e){var t=T[e]=E(O.prototype);return t._k=e,a&&$&&R(F,e,{configurable:!0,set:function(t){i(this,C)&&i(this[C],e)&&(this[C][e]=!1),R(this,e,w(1,t))}}),t},B=function(e){return"symbol"==typeof e},I=function(e,t,r){return r&&i(T,t)?(r.enumerable?(i(e,C)&&e[C][t]&&(e[C][t]=!1),r=E(r,{enumerable:w(0,!1)})):(i(e,C)||x(e,C,w(1,{})),e[C][t]=!0),R(e,t,r)):x(e,t,r)},z=function(e,t){b(e);for(var r,n=h(t=g(t)),o=0,i=n.length;i>o;)I(e,r=n[o++],t[r]);return e},q=function(e,t){return void 0===t?E(e):z(E(e),t)},U=function(e){var t=A.call(this,e);return t||!i(this,e)||!i(T,e)||i(this,C)&&this[C][e]?t:!0},N=function(e,t){var r=k(e=g(e),t);return!r||!i(T,t)||i(e,C)&&e[C][t]||(r.enumerable=!0),r},L=function(e){for(var t,r=S(g(e)),n=[],o=0;r.length>o;)i(T,t=r[o++])||t==C||n.push(t);return n},V=function(e){for(var t,r=S(g(e)),n=[],o=0;r.length>o;)i(T,t=r[o++])&&n.push(T[t]);return n},W=function(e){if(void 0!==e&&!B(e)){for(var t,r,n=[e],o=1,i=arguments;i.length>o;)n.push(i[o++]);return t=n[1],"function"==typeof t&&(r=t),(r||!y(t))&&(t=function(e,t){return r&&(t=r.call(this,e,t)),B(t)?void 0:t}),n[1]=t,_.apply(j,n)}},H=c(function(){var e=O();return"[null]"!=_([e])||"{}"!=_({a:e})||"{}"!=_(Object(e))});M||(O=function(){if(B(this))throw TypeError("Symbol is not a constructor");return D(d(arguments.length>0?arguments[0]:void 0))},s(O.prototype,"toString",function(){return this._k}),B=function(e){return e instanceof O},n.create=q,n.isEnum=U,n.getDesc=N,n.setDesc=I,n.setDescs=z,n.getNames=v.get=L,n.getSymbols=V,a&&!e("./$.library")&&s(F,"propertyIsEnumerable",U,!0));var G={"for":function(e){return i(P,e+="")?P[e]:P[e]=O(e)},keyFor:function(e){return m(P,e)},useSetter:function(){$=!0},useSimple:function(){$=!1}};n.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=p(e);G[e]=M?t:D(t)}),$=!0,u(u.G+u.W,{Symbol:O}),u(u.S,"Symbol",G),u(u.S+u.F*!M,"Object",{create:q,defineProperty:I,defineProperties:z,getOwnPropertyDescriptor:N,getOwnPropertyNames:L,getOwnPropertySymbols:V}),j&&u(u.S+u.F*(!M||H),"JSON",{stringify:W}),f(O,"Symbol"),f(Math,"Math",!0),f(o.JSON,"JSON",!0)},{"./$":82,"./$.an-object":51,"./$.descriptors":60,"./$.enum-keys":62,"./$.export":63,"./$.fails":64,"./$.get-names":66,"./$.global":67,"./$.has":68,"./$.is-array":74,"./$.keyof":83,"./$.library":84,"./$.property-desc":88,"./$.redefine":90,"./$.set-to-string-tag":94,"./$.shared":95,"./$.to-iobject":101,"./$.uid":104,"./$.wks":105}],123:[function(e,t,r){var n=e("./$.export");n(n.P,"Map",{toJSON:e("./$.collection-to-json")("Map")})},{"./$.collection-to-json":55,"./$.export":63}],124:[function(e,t,r){var n=e("./$.export");n(n.P,"Set",{toJSON:e("./$.collection-to-json")("Set")})},{"./$.collection-to-json":55,"./$.export":63}],125:[function(e,t,r){e("./es6.array.iterator");var n=e("./$.iterators");n.NodeList=n.HTMLCollection=n.Array},{"./$.iterators":81,"./es6.array.iterator":110}],126:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){for(var n=(Math.min(t.length,r.length),[]),o=0;o<t.length&&o<r.length;)n[o]=e(t[o],r[o]),o+=1;return n};r.zip=n},{}],127:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&u["return"]&&u["return"]()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=e("color-structure"),i=e("./array-zip"),a=function(e,t,r,n,o,i){return t(r,n,e(Math.min(i/o,1)))};r.ease=a;var u=function(e,t,r){return e+(t-e)*r};r["float"]=u;var s=function(e,t,r){return{x:u(e.x,t.x,r),y:u(e.y,t.y,r)}};r.point2D=s;var c=function(e,t,r){return{x:u(e.x,t.x,r),y:u(e.y,t.y,r),z:u(e.z,t.z,r)}};r.point3D=c;var l=function(e,t,r){var n=o.toRGB(e),i=o.toRGB(t);return o.rgba(Math.round(u(n.red,i.red,r)),Math.round(u(n.green,i.green,r)),Math.round(u(n.blue,i.blue,r)),u(n.alpha,i.alpha,r))};r.color=l;var f=function(e){return function(t,r,o){var i=n(t,2),a=i[0],u=i[1],s=n(r,2),c=s[0],l=s[1];return[e(a,c,o),e(u,l,o)]}};r.pair=f;var d=function(e){return function(t){return 1-e(1-t)}};r.invert=d;var p=function(e){return function(t){return e(1-t)}};r.flip=p;var m=function(e,t){return function(r){return.5>r?e(2*r)/2:.5+t(2*(r-.5))/2}};r.inOut=m;var v=function(e){return function(t){return e(.5>t?2*t:1-2*(t-.5))}};r.retour=v;var h=function(e){return function(t,r){return e(1,r/t-Math.floor(r/t))}};r.cycle=h;var y=function(e){return e};r.linear=y;var b=function(e){return Math.pow(e,2)};r.easeInQuad=b;var g=d(b);r.easeOutQuad=g;var w=m(b,g);r.easeInOutQuad=w;var k=function(e){return Math.pow(e,3)};r.easeInCubic=k;var x=d(k);r.easeOutCubic=x;var E=m(k,x);r.easeInOutCubic=E;var S=function(e){return Math.pow(e,4)};r.easeInQuart=S;var O=d(b);r.easeOutQuart=O;var j=m(S,O);r.easeInOutQuart=j;var _=function(e){return Math.pow(e,5)};r.easeInQuint=_;var $=d(_);r.easeOutQuint=$;var C=m(_,$);r.easeInOutQuint=C;var A=function(e){return Math.sin(e*(Math.PI/2))};r.easeOutSine=A;var P=d(A);r.easeInSine=P;var T=m(P,A);r.easeInOutSine=T;var M=function(e){return Math.pow(2,10*(e-1))};r.easeInExpo=M;var F=d(M);r.easeOutExpo=F;var R=m(M,F);r.easeInOutExpo=R;var D=function(e){return Math.sqrt(1-Math.pow(e-1,2))};r.easeOutCirc=D;var B=d(D);r.easeInCirc=B;var I=m(B,D);r.easeInOutCirc=I;var z=function(e){return e*e*(2.70158*e-1.70158)};r.easeInBack=z;var q=d(z);r.easeOutBack=q;var U=m(z,q);r.easeInOutBack=U;var N=function(e){var t=7.5625,r=e-1.5/2.75,n=e-2.25/2.75,o=e-2.65/2.75;return 1/2.75>e?t*e*e:2/2.75>e?t*r*r+.75:2.5/2.75>e?t*n*n+.9375:t*o*o+.984375};r.easeOutBounce=N;var L=d(N);r.easeInBounce=L;var V=m(L,N);r.easeInOutBounce=V;var W=function(e){var t=.075,r=.3,n=e-1;return-(Math.pow(2,10*n)*Math.sin(2*(n-t)*Math.PI/r))};r.easeInElastic=W;var H=d(W);r.easeOutElastic=H;var G=m(W,H);r.easeInOutElastic=G;var Z=f(u),Q=function(e,t,r,o){return function(a){var u=function(e,t){return Z(e,t,a)},s=function(e){for(var t=!0;t;){var r=e;if(o=a=s=c=void 0,t=!1,1===r.length){var o=n(r,1),a=n(o[0],2),s=a[0],c=a[1];return c}e=i.zip(u,r,r.slice(1)),t=!0}};return s([[0,0],[e,t],[r,o],[1,1]])}};r.bezier=Q},{"./array-zip":126,"color-structure":32}],128:[function(e,t,r){(function(r){var n="undefined"!=typeof r?r:"undefined"!=typeof window?window:{},o=e("min-document");if("undefined"!=typeof document)t.exports=document;else{var i=n["__GLOBAL_DOCUMENT_CACHE@4"];i||(i=n["__GLOBAL_DOCUMENT_CACHE@4"]=o),t.exports=i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":29}],129:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){var t=Object.create(null);if(null!=e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t};r.dictionary=n,r["default"]=n},{}],130:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("object-as-dictionary"),o=n.dictionary({className:"class",htmlFor:"for",acceptCharset:"accept-charset",httpEquiv:"http-equiv",clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}),i="allowFullScreen allowTransparency capture cellPadding cellSpacing charSet\nchallenge classID className cols colSpan contentEditable contextMenu\ndir encType  form formAction formEncType formMethod formTarget frameBorder\nheight hidden inputMode is keyParams keyType list loop manifest marginHeight\nmarginWidth maxLength media method nonce role rows rowSpan scrolling seamless\nsize sizes span srcSet start width wmode wrap about datatype inlist prefix\nproperty resource typeof vocab autoCapitalize autoCorrect itemProp\nitemProp itemScope itemType itemRef itemID security unselectable\n\nclipPath cx cy d dx dy fill fillOpacity fontFamily\nfontSize fx fy gradientTransform gradientUnits markerEnd\nmarkerMid markerStart offset opacity patternContentUnits\npatternUnits points preserveAspectRatio r rx ry spreadMethod\nstopColor stopOpacity stroke  strokeDasharray strokeLinecap\nstrokeOpacity strokeWidth textAnchor transform version\nviewBox x1 x2 x xlinkActuate xlinkArcrole xlinkHref xlinkRole\nxlinkShow xlinkTitle xlinkType xmlBase xmlLang xmlSpace y1 y2 y".split(/\s+/).reduce(function(e,t){return e[t]=null!=o[t]?o[t]:t.toLowerCase(),e},n.dictionary());r.supportedAttributes=i},{"object-as-dictionary":129}],131:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=e("object-as-dictionary"),a=i.dictionary({DoubleClick:"dblclick"}),u=["Copy","Cut","Paste","KeyDown","KeyPress","KeyUp","Focus","Blur","Change","Input","Submit","Click","ContextMenu","DoubleClick","Drag","DragEnd","DragEnter","DragExit","DragLeave","DragOver","DragStart","Drop","MouseDown","MouseEnter","MouseLeave","MouseMove","MouseOut","MouseOver","MouseUp","TouchStart","TouchMove","TouchCancel","TouchEnd","Scroll","Wheel","Abort","CanPlay","CanPlayThrough","DurationChange","Emptied","Encrypted","Ended","Error","LoadedData","LoadedMetadata","LoadStart","Pause","Play","Playing","Progress","RateChange","Seeked","Seeking","Stalled","Suspend","TimeUpdate","VolumeChange","Waiting","Load","Error","BeforeInput","CompositionEnd","CompositionStart","CompositionUpdate"].reduce(function(e,t){var r=null==a[t]?t.toLowerCase():a[t];return e["on"+t]={type:r,capture:!1},e["on"+t+"Capture"]={type:r,capture:!0},e},i.dictionary());r.supportedEvents=u;var s=function(e){return function(t){var r=t.currentTarget,n=t.type,o=r["on"+n+e];"function"==typeof o&&o(t),null!=o&&"function"==typeof o.handleEvent&&o.handleEvent(t)}},c=s("capture"),l=s("bubble"),f=function(){function e(t){n(this,e),this.handler=t}return o(e,[{key:"hook",value:function(t,r,n){var o=u[r];if(null!=o){var i=o.type,a=o.capture,s=a?"capture":"bubble";if(!(n instanceof e)){var f=a?c:l;t.addEventListener(i,f,a)}t["on"+i+s]=this.handler}}},{key:"unhook",value:function(t,r,n){var o=u[r];if(null!=o&&!(n instanceof e)){var i=o.type,a=o.capture,s=a?"capture":"bubble",c="on"+i+s,l=t[c];null!=l&&t.removeEventListener(i,l,a),delete t[c]}}}]),e}();r.EventHandler=f;var d=function(e){var t=e.reflexEventListener;if(null==t){var r=new f(e);return e.reflexEventListener=r,r}return t};r.eventHandler=d},{"object-as-dictionary":129}],132:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("object-as-dictionary"),o=n.dictionary({autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autoSave",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"});r.supportedProperties=o},{"object-as-dictionary":129}],133:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("virtual-dom/diff"),u=n(a),s=e("virtual-dom/create-element"),c=n(s),l=e("virtual-dom/patch"),f=n(l),d=e("./text"),p=e("./node"),m=e("./thunk"),v=0,h=1,y=2,b=function(){function e(){o(this,e),this.state=v,this.requests=[],this.execute=this.execute.bind(this)}return i(e,[{key:"schedule",value:function(e){-1===this.requests.indexOf(e)&&(this.state===v&&window.requestAnimationFrame(this.execute),this.requests.push(e),this.state=h)}},{key:"execute",value:function(e){switch(this.state){case v:throw Error("Unexpected frame request");case h:window.requestAnimationFrame(this.execute),this.state=y,this.dispatch(this.requests.splice(0),0,e);break;case y:this.state=v}}},{key:"dispatch",value:function(e,t,r){var n=e.length;try{for(;n>t;){var o=e[t];t+=1,o(r)}}finally{n>t&&this.dispatch(e,t,r)}}}]),e}(),g=new b,w=function(){function e(t){var r=t.target,n=t.timeGroupName;o(this,e),this.state=v,this.target=r,this.mount=1!==r.children.length?null:null==r.children[0].reflexTree?null:r.children[0],this.address=this.receive.bind(this),this.execute=this.execute.bind(this),this.timeGroupName=null==n?null:n,this.node=p.node,this.thunk=m.thunk,this.text=d.text}return i(e,[{key:"toString",value:function(){return"Renderer({target: "+this.target+"})"}},{key:"receive",value:function(e){this.value!==e&&(this.value=e,g.schedule(this.execute))}},{key:"execute",value:function(e){var t=this.timeGroupName;null!=t&&console.time("render "+t);var r=performance.now();this.value.renderWith(this);var n=performance.now(),o=n-r;o>16&&console.warn("Render took "+o+"ms & will cause frame drop"),null!=t&&console.time("render "+t)}},{key:"render",value:function(e){var t=this.mount,r=this.target;if(t)f["default"](t,u["default"](t.reflexTree,e)),t.reflexTree=e;else{var n=c["default"](e);n.reflexTree=e,r.innerHTML="",this.mount=n,r.appendChild(n)}}}]),e}();r.Renderer=w},{"./node":134,"./text":135,"./thunk":136,"virtual-dom/create-element":145,"virtual-dom/diff":146,"virtual-dom/patch":148}],134:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=e("virtual-dom/vnode/is-vnode"),a=(n(i),e("virtual-dom/vnode/is-widget")),u=n(a),s=e("virtual-dom/vnode/is-thunk"),c=n(s),l=e("virtual-dom/vnode/is-vhook"),f=n(l),d=e("virtual-dom/vnode/version"),p=n(d),m=e("virtual-dom/virtual-hyperscript/hooks/soft-set-hook"),v=n(m),h=e("./text"),y=e("blanks/lib/array"),b=e("blanks/lib/object"),g=e("./hooks/event-handler"),w=e("./hooks/attribute"),k=e("./hooks/property"),x=function S(e,t,r,n){o(this,S),this.tagName=e,this.namespace=t,this.key=null!=r.key?String(r.key):null,this.children=n;var i=n.length||0,a=0,s=!1,l=!1,d=!1,p=null,m=null!=r.attributes?r.attributes:null;for(var y in r)if(r.hasOwnProperty(y)){var b=r[y];if(f["default"](b))null==p&&(p={}),p[y]=b;else if(null!=g.supportedEvents[y]){if(null==p&&(p={}),null!=b){var x=g.eventHandler(b);p[y]=x,r[y]=x}}else if("value"!==y||null==b||"input"!==e.toLowerCase()&&"textarea"!==e.toLowerCase())null!=w.supportedAttributes[y]?(null==m&&(m={}),null!==b&&b!==!1&&(m[w.supportedAttributes[y]]=b===!0?"":b),delete r[y]):null!=k.supportedProperties[y]?(r[k.supportedProperties[y]]=b,delete r[y]):(0===y.indexOf("data-")||0===y.indexOf("aria-"))&&(null==m&&(m={}),m[y]=b,delete r[y]);else{null==p&&(p={});var E=new v["default"](b);p[y]=E,r[y]=E}}null!=m&&(r.attributes=m);for(var O=0;i>O;){var j=n[O];"string"==typeof j?n[O]=new h.VirtualText(j):"LazyTree"===j.$type?(n[O]=j.force(),O-=1):j instanceof S?(a+=j.count,!s&&j.hasWidgets&&(s=!0),!l&&j.hasThunks&&(l=!0),d||null==j.hooks&&!j.descendantHooks||(d=!0)):!s&&u["default"](j)?s=!0:!l&&c["default"](j)&&(l=!0),O+=1}this.count=i+a,this.hasWidgets=s,this.hasThunks=l,this.properties=r,this.hooks=p};r.VirtualNode=x,x.prototype.$type="VirtualNode",x.prototype.type="VirtualNode",x.prototype.version=p["default"];var E=function(e,t,r){return new x(e,null,null==t?b.blank:t,null==r?y.empty:r)};r.node=E},{"./hooks/attribute":130,"./hooks/event-handler":131,"./hooks/property":132,"./text":135,"blanks/lib/array":27,"blanks/lib/object":28,"virtual-dom/virtual-hyperscript/hooks/soft-set-hook":155,"virtual-dom/vnode/is-thunk":157,"virtual-dom/vnode/is-vhook":158,"virtual-dom/vnode/is-vnode":159,"virtual-dom/vnode/is-widget":161,"virtual-dom/vnode/version":162}],135:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=e("virtual-dom/vnode/version"),a=n(i),u=function c(e){o(this,c),this.text=e};r.VirtualText=u,u.prototype.$type="VirtualText",u.prototype.type="VirtualText",u.prototype.version=a["default"];var s=function(e){return new u(e)};r.text=s},{"virtual-dom/vnode/version":162}],136:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e,t){return function(r){return e[t](r)}},u=function(){function e(t,r,n){o(this,e),this.key=t,this.view=r,this.args=n,this.addressBook=null,this.value=null}return i(e,[{key:"render",value:function(t){if(t instanceof e&&null!=t.value){s&&console.time(this.key+".receive");var r=this.view,o=this.args,i=this.key,u=t.args,c=t.addressBook,l=t.value;this.addressBook=c,this.args=u,this.value=l;var f=o.length,d=0,p=r!==t.view||i!==t.key;for(u.length!==f&&(p=!0,u.length=f,c.length=f);f>d;){var m=o[d],v=u[d];if(m!==v){var h="function"==typeof m,y="function"==typeof v;h&&y?c[d]=m:(p=!0,h?(c[d]=m,u[d]=a(c,d)):u[d]=m)}d+=1}s&&console.timeEnd(i+".receive"),p&&(s&&console.time(i+".render"),this.value=r.apply(void 0,n(u)),s&&console.timeEnd(i+".render"))}else{s&&console.time(this.key+".render");for(var c=[],u=this.args,r=this.view,i=this.key,f=u.length,d=0;f>d;){var v=u[d];"function"==typeof v?(c[d]=v,u[d]=a(c,d)):u[d]=v,d+=1}this.addressBook=c,this.value=r.apply(void 0,n(u)),s&&console.timeEnd(i+".render")}return this.value}}]),e}();r.Thunk=u,u.prototype.type="Thunk",u.prototype.$type="Thunk";var s=null,c=function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;r>o;o++)n[o-2]=arguments[o];return new u(e,t,n)};r.thunk=c},{}],137:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&u["return"]&&u["return"]()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=e("./dom"),i=(e("./task"),e("./signal")),a=e("./effects"),u=function(e){return e[0]},s=function(e){return e[1]},c=function(e,t){return[e,a.none]},l=function(e){var t=e.initial,r=e.view,l=e.update,f=e.step,d=i.mailbox(),p=d.address,m=d.signal,v=null!=l?a.nofx(l):null!=f?f:c,h=[].concat(t,[a.none]);if(v===c)throw TypeError("start must be passed either step or update function");var y=function(e,t){{var r=n(e,2),o=r[0];r[1]}return null!=t?v(o,t):[o,a.none]},b=function(e){return new o.VirtualRoot(r,e,p)},g=i.reductions(y,h,m),w=i.map(u,g);return{address:p,model:w,task:i.map(s,g),view:i.map(b,w)}};r.start=l},{"./dom":138,"./effects":139,"./signal":142,"./task":143}],138:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=null,u=function(){function e(t,r,n){o(this,e),this.view=t,this.model=r,this.address=n}return i(e,[{key:"renderWith",value:function(e){var t=a;a=e;try{a.render(this.view(this.model,this.address))}finally{a=t}}}]),e}();r.VirtualRoot=u,u.prototype.$type="VirtualRoot";var s=function(){function e(t,r,n){o(this,e),this.tagName=t,this.properties=r,this.children=n,this.key=null==r?null:r.key}return i(e,[{key:"force",value:function(){if(null==a)throw TypeError("LazyTree may only be forced from with in the Root.renderWith(driver) call");return a.node(this.tagName,this.properties,this.children)}}]),e}();r.LazyNode=s,s.prototype.$type="LazyTree";var c=function(){function e(t,r,n){o(this,e),this.key=t,this.view=r,this.args=n}return i(e,[{key:"force",value:function(){var e;if(null==a)throw TypeError("LazyTree may only be forced from with in the Root.renderWith(driver) call");return(e=a).thunk.apply(e,[this.key,this.view].concat(n(this.args)))}}]),e}();c.prototype.$type="LazyTree";var l=function(e){return null==a?e:null==a.text?e:a.text(e)};r.text=l;var f=function(e,t,r){return null==a?new s(e,t,r):a.node(e,t,r)};r.node=f;var d=function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;r>o;o++)n[o-2]=arguments[o];

var i;return null==a?new c(e,t,n):(i=a).thunk.apply(i,[e,t].concat(n))};r.thunk=d},{}],139:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("./task"),u=n(a),s=u.succeed,c=u.perform,l=u.send,f=u.io,d=(u.future,u.Task,function C(){o(this,C)});r.Never=d,d.prototype.$type="Effects.Never";var p=function(){function e(){o(this,e)}return i(e,[{key:"map",value:function(e){return m}},{key:"send",value:function(e){return s()}}]),e}();r.None=p,p.prototype.$type="Effects.None";var m=new p;r.none=m;var v=0,h=1,y=2,b=function(){function e(){o(this,e),this.state=v,this.requests=[],this.execute=this.execute.bind(this)}return i(e,[{key:"schedule",value:function(e){this.state===v&&window.requestAnimationFrame(this.execute),this.requests.push(e),this.state=h}},{key:"execute",value:function(e){switch(this.state){case v:throw Error("Unexpected frame request");case h:window.requestAnimationFrame(this.execute),this.state=y,this.dispatch(this.requests.splice(0),0,e);break;case y:this.state=v}}},{key:"dispatch",value:function(e,t,r){var n=e.length;try{for(;n>t;){var o=e[t];t+=1,o(r)}}finally{n>t&&this.dispatch(e,t,r)}}}]),e}(),g=new b,w=function(){function e(t){o(this,e),this.tag=t}return i(e,[{key:"map",value:function(t){var r=this;return new e(function(e){return t(r.tag(e))})}},{key:"send",value:function(e){var t=f(function(e){return g.schedule(function(t){return e(s(t))})}).map(this.tag).chain(function(t){return l(e,t)});return c(t),s()}}]),e}();w.prototype.$type="Effects.Tick";var k=function(){function e(t){o(this,e),this.task=t}return i(e,[{key:"map",value:function(t){return new e(this.task.map(t))}},{key:"send",value:function(e){var t=this.task.chain(function(t){return l(e,t)});return c(t),s()}}]),e}();k.prototype.$type="Effects.Task";var x=function(){function e(t){o(this,e),this.effects=t}return i(e,[{key:"map",value:function(t){return new e(this.effects.map(function(e){return e.map(t)}))}},{key:"send",value:function(e){for(var t=this.effects,r=t.length,n=0;r>n;)t[n].send(e),n+=1;return s()}}]),e}();x.prototype.$type="Effects.Batch";var E=function(e){return new k(e)};r.task=E;var S=function(e){return new w(e)};r.tick=S;var O=function(e){return new k(s(e))};r.receive=O;var j=function(e){return new x(e)};r.batch=j;var _=function(e){return function(t,r){return[e(t,r),m]}};r.nofx=_;var $=function(e){return function(t){return void c(t.send(e))}};r.service=$},{"./task":143}],140:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./dom"),o=Object.create(null);r.html=o,["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","g","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){var t=function(t,r){return n.node(e,t,r)};o[e]=t})},{"./dom":138}],141:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./effects"),i=n(o),a=e("./task"),u=n(a),s=e("./dom"),c=n(s);Object.defineProperty(r,"send",{enumerable:!0,get:function(){return a.send}}),Object.defineProperty(r,"thunk",{enumerable:!0,get:function(){return s.thunk}}),Object.defineProperty(r,"node",{enumerable:!0,get:function(){return s.node}}),Object.defineProperty(r,"text",{enumerable:!0,get:function(){return s.text}});var l=e("./html");Object.defineProperty(r,"html",{enumerable:!0,get:function(){return l.html}});var f=e("./signal");Object.defineProperty(r,"forward",{enumerable:!0,get:function(){return f.forward}}),Object.defineProperty(r,"mailbox",{enumerable:!0,get:function(){return f.mailbox}});var d=e("./application");Object.defineProperty(r,"start",{enumerable:!0,get:function(){return d.start}}),r.Effects=i,r.Task=u,r.DOM=c},{"./application":137,"./dom":138,"./effects":139,"./html":140,"./signal":142,"./task":143}],142:[function(e,t,r){(function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(r){t(this,e),this.value=r,this.isBlocked=!1,this.addressBook=null,this.queue=null,this.address=null}return n(e,null,[{key:"Address",value:function(e){return null==e.address?(e.address=e.receive.bind(e),e.address):e.address}},{key:"notify",value:function(t,r,n,o){try{for(;o>n;){var i=r[n];null!=i&&i(t),n+=1}}finally{o>n&&e.notify(t,r,n+1,o)}}},{key:"connect",value:function(e,t){if(null==e.addressBook)e.addressBook=[t];else{var r=e.addressBook;r.indexOf(t)<0&&r.push(t)}}}]),n(e,[{key:"receive",value:function(t){if(this.isBlocked)null==this.queue?this.queue=[t]:this.queue.push(t);else{this.isBlocked=!0;try{if(this.value=t,null!=this.addressBook){var r=this.addressBook;e.notify(t,r,0,r.length)}}finally{this.isBlocked=!1,null!=this.queue&&this.queue.length>0&&this.receive(t=this.queue.shift())}}}},{key:"subscribe",value:function(t){e.connect(this,t),t(this.value)}},{key:"connect",value:function(e){if(null==this.addressBook)this.addressBook=[e];else{var t=this.addressBook;t.indexOf(e)<0&&t.push(e)}}}]),e}();r.Signal=o,o.prototype.$type="Signal.Signal";var i=function f(e){t(this,f),this.signal=new o(e),this.address=o.Address(this.signal)};i.prototype.$type="Signal.Mailbox";var a=function(e){return new i(e)};r.mailbox=a;var u=function(e,t){var r=function(r){return e(t(r))};return r.to=e,r.tag=t,r};null==e["reflex/address"]&&(e["reflex/address"]=0);var s=function(t,r){var n=null!=t.id?t.id:t.id=e["reflex/address"]++,o="reflex/address/"+n;return r[o]||(r[o]=u(t,r))};r.forward=s;var c=function(e,t,r){var n=new o(t);return r.connect(s(o.Address(n),function(t){return e(n.value,t)})),n};r.reductions=c;var l=function(e,t){var r=new o(e(t.value));return t.connect(s(o.Address(r),e)),r};r.map=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],143:[function(e,t,r){"use strict";function n(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):n(e,t))}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;u=c=s=void 0,n=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,r=a,n=!0}},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(){function e(){i(this,e)}return u(e,[{key:"chain",value:function(e){return new m(this,e)}},{key:"map",value:function(e){return new m(this,function(t){return h(e(t))})}},{key:"catch",value:function(e){return new v(this,e)}}]),e}();r.Task=s,s.prototype.$type="Task.Task";var c=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),u(t,[{key:"resume",value:function(e){this.task=e}}]),t}(s),l=function(e){function t(e){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.value=e}return o(t,e),t}(s),f=function(e){function t(e){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.value=e}return o(t,e),t}(s),d=function(e){function t(e){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.request=e}return o(t,e),t}(s),p=function(e){function t(e){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(t){return void e().then(h,y).then(t)})}return o(t,e),t}(d),m=function(e){function t(e,r){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.task=e,this.resume=r}return o(t,e),t}(s),v=function(e){function t(e,r){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.task=e,this.resume=r}return o(t,e),t}(s),h=function(e){return new l(e)};r.succeed=h;var y=function(e){return new f(e)};r.fail=y;var b=function(e){return new d(e)};r.io=b;var g=function(e){return new p(e)};r.future=g;var w=function(e,t){return new m(e,t)};r.chain=w;var k=function(e,t){return new v(e,t)};r.recover=k;var x=function(e){return b(function(t){var r=setTimeout(O,0,e);t(h(r))})};r.spawn=x;var E=function(e){return b(function(t){setTimeout(function(){return t(h(void 0))},e)})};r.sleep=E;var S=function(){return void 0},O=function(e){return A(new _(e),S)};r.perform=O;var j=function(e,t){return A(new _(e),t)};r.execute=j;var _=function M(e){i(this,M),this.task=e};_.prototype.$type="Task.Routine.Running";var $=function F(e){i(this,F),this.task=e};$.prototype.$type="Task.Routine.Done";var C=function R(e){i(this,R),this.task=e};C.prototype.$type="Task.Routine.Blocked";var A=function(e,t){for(var r=new _(e.task);r instanceof _;)r=P(e,r.task,t);r instanceof C&&(e.task=r.task),r instanceof $&&t()};r.run=A;var P=function D(e,t,r){if(t instanceof l)return new $(t);if(t instanceof f)return new $(t);if(t instanceof c)return null!=t.task?new _(t.task):new C(t);if(t instanceof d){var n=function(){var n=!1,o=!1,i=new c;return t.request(function(t){o=!0,i.resume(t),n&&A(e,r)}),n=!o,{v:o?new _(i):new C(i)}}();if("object"==typeof n)return n.v}if(t instanceof m||t instanceof v){for(var o=new _(t.task);o instanceof _;)o=D(e,o.task,r);if(o instanceof $){var i=o.task;return new _(t instanceof m&&i instanceof l?t.resume(i.value):t instanceof v&&i instanceof f?t.resume(i.value):i)}if(t instanceof m)return new C(new m(o.task,t.resume));if(t instanceof v)return new C(new v(o.task,t.resume))}return new _(t)},T=function(e,t){return b(function(r){return r(h(e(t)))})};r.send=T},{}],144:[function(e,t,r){!function(){function e(t,n){if(t=t?t:"",n=n||{},t instanceof e)return t;if(!(this instanceof e))return new e(t,n);var o=r(t);this._originalInput=t,this._r=o.r,this._g=o.g,this._b=o.b,this._a=o.a,this._roundA=q(100*this._a)/100,this._format=n.format||o.format,this._gradientType=n.gradientType,this._r<1&&(this._r=q(this._r)),this._g<1&&(this._g=q(this._g)),this._b<1&&(this._b=q(this._b)),this._ok=o.ok,this._tc_id=I++}function r(e){var t={r:0,g:0,b:0},r=1,o=!1,a=!1;return"string"==typeof e&&(e=F(e)),"object"==typeof e&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(t=n(e.r,e.g,e.b),o=!0,a="%"===String(e.r).substr(-1)?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=P(e.s),e.v=P(e.v),t=u(e.h,e.s,e.v),o=!0,a="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=P(e.s),e.l=P(e.l),t=i(e.h,e.s,e.l),o=!0,a="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=S(r),{ok:o,format:e.format||a,r:U(255,N(t.r,0)),g:U(255,N(t.g,0)),b:U(255,N(t.b,0)),a:r}}function n(e,t,r){return{r:255*O(e,255),g:255*O(t,255),b:255*O(r,255)}}function o(e,t,r){e=O(e,255),t=O(t,255),r=O(r,255);var n,o,i=N(e,t,r),a=U(e,t,r),u=(i+a)/2;if(i==a)n=o=0;else{var s=i-a;switch(o=u>.5?s/(2-i-a):s/(i+a),i){case e:n=(t-r)/s+(r>t?6:0);break;case t:n=(r-e)/s+2;break;case r:n=(e-t)/s+4}n/=6}return{h:n,s:o,l:u}}function i(e,t,r){function n(e,t,r){return 0>r&&(r+=1),r>1&&(r-=1),1/6>r?e+6*(t-e)*r:.5>r?t:2/3>r?e+(t-e)*(2/3-r)*6:e}var o,i,a;if(e=O(e,360),t=O(t,100),r=O(r,100),0===t)o=i=a=r;else{var u=.5>r?r*(1+t):r+t-r*t,s=2*r-u;o=n(s,u,e+1/3),i=n(s,u,e),a=n(s,u,e-1/3)}return{r:255*o,g:255*i,b:255*a}}function a(e,t,r){e=O(e,255),t=O(t,255),r=O(r,255);var n,o,i=N(e,t,r),a=U(e,t,r),u=i,s=i-a;if(o=0===i?0:s/i,i==a)n=0;else{switch(i){case e:n=(t-r)/s+(r>t?6:0);break;case t:n=(r-e)/s+2;break;case r:n=(e-t)/s+4}n/=6}return{h:n,s:o,v:u}}function u(e,t,r){e=6*O(e,360),t=O(t,100),r=O(r,100);var n=z.floor(e),o=e-n,i=r*(1-t),a=r*(1-o*t),u=r*(1-(1-o)*t),s=n%6,c=[r,a,i,i,u,r][s],l=[u,r,r,a,i,i][s],f=[i,i,u,r,r,a][s];return{r:255*c,g:255*l,b:255*f}}function s(e,t,r,n){var o=[A(q(e).toString(16)),A(q(t).toString(16)),A(q(r).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function c(e,t,r,n){var o=[A(T(n)),A(q(e).toString(16)),A(q(t).toString(16)),A(q(r).toString(16))];return o.join("")}function l(t,r){r=0===r?0:r||10;var n=e(t).toHsl();return n.s-=r/100,n.s=j(n.s),e(n)}function f(t,r){r=0===r?0:r||10;var n=e(t).toHsl();return n.s+=r/100,n.s=j(n.s),e(n)}function d(t){return e(t).desaturate(100)}function p(t,r){r=0===r?0:r||10;var n=e(t).toHsl();return n.l+=r/100,n.l=j(n.l),e(n)}function m(t,r){r=0===r?0:r||10;var n=e(t).toRgb();return n.r=N(0,U(255,n.r-q(255*-(r/100)))),n.g=N(0,U(255,n.g-q(255*-(r/100)))),n.b=N(0,U(255,n.b-q(255*-(r/100)))),e(n)}function v(t,r){r=0===r?0:r||10;var n=e(t).toHsl();return n.l-=r/100,n.l=j(n.l),e(n)}function h(t,r){var n=e(t).toHsl(),o=(q(n.h)+r)%360;return n.h=0>o?360+o:o,e(n)}function y(t){var r=e(t).toHsl();return r.h=(r.h+180)%360,e(r)}function b(t){var r=e(t).toHsl(),n=r.h;return[e(t),e({h:(n+120)%360,s:r.s,l:r.l}),e({h:(n+240)%360,s:r.s,l:r.l})]}function g(t){var r=e(t).toHsl(),n=r.h;return[e(t),e({h:(n+90)%360,s:r.s,l:r.l}),e({h:(n+180)%360,s:r.s,l:r.l}),e({h:(n+270)%360,s:r.s,l:r.l})]}function w(t){var r=e(t).toHsl(),n=r.h;return[e(t),e({h:(n+72)%360,s:r.s,l:r.l}),e({h:(n+216)%360,s:r.s,l:r.l})]}function k(t,r,n){r=r||6,n=n||30;var o=e(t).toHsl(),i=360/n,a=[e(t)];for(o.h=(o.h-(i*r>>1)+720)%360;--r;)o.h=(o.h+i)%360,a.push(e(o));return a}function x(t,r){r=r||6;for(var n=e(t).toHsv(),o=n.h,i=n.s,a=n.v,u=[],s=1/r;r--;)u.push(e({h:o,s:i,v:a})),a=(a+s)%1;return u}function E(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function S(e){return e=parseFloat(e),(isNaN(e)||0>e||e>1)&&(e=1),e}function O(e,t){$(e)&&(e="100%");var r=C(e);return e=U(t,N(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),z.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function j(e){return U(1,N(0,e))}function _(e){return parseInt(e,16)}function $(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function C(e){return"string"==typeof e&&-1!=e.indexOf("%")}function A(e){return 1==e.length?"0"+e:""+e}function P(e){return 1>=e&&(e=100*e+"%"),e}function T(e){return Math.round(255*parseFloat(e)).toString(16)}function M(e){return _(e)/255}function F(e){e=e.replace(D,"").replace(B,"").toLowerCase();var t=!1;if(V[e])e=V[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=H.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=H.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=H.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=H.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=H.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=H.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=H.hex8.exec(e))?{a:M(r[1]),r:_(r[2]),g:_(r[3]),b:_(r[4]),format:t?"name":"hex8"}:(r=H.hex6.exec(e))?{r:_(r[1]),g:_(r[2]),b:_(r[3]),format:t?"name":"hex"}:(r=H.hex3.exec(e))?{r:_(r[1]+""+r[1]),g:_(r[2]+""+r[2]),b:_(r[3]+""+r[3]),format:t?"name":"hex"}:!1}function R(e){var t,r;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==r&&"large"!==r&&(r="small"),{level:t,size:r}}var D=/^[\s,#]+/,B=/\s+$/,I=0,z=Math,q=z.round,U=z.min,N=z.max,L=z.random;e.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,n,o,i,a=this.toRgb();return e=a.r/255,t=a.g/255,r=a.b/255,n=.03928>=e?e/12.92:Math.pow((e+.055)/1.055,2.4),o=.03928>=t?t/12.92:Math.pow((t+.055)/1.055,2.4),i=.03928>=r?r/12.92:Math.pow((r+.055)/1.055,2.4),.2126*n+.7152*o+.0722*i},setAlpha:function(e){return this._a=S(e),this._roundA=q(100*this._a)/100,this},toHsv:function(){var e=a(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=a(this._r,this._g,this._b),t=q(360*e.h),r=q(100*e.s),n=q(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=o(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=o(this._r,this._g,this._b),t=q(360*e.h),r=q(100*e.s),n=q(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return s(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return c(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:q(this._r),g:q(this._g),b:q(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+q(this._r)+", "+q(this._g)+", "+q(this._b)+")":"rgba("+q(this._r)+", "+q(this._g)+", "+q(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:q(100*O(this._r,255))+"%",g:q(100*O(this._g,255))+"%",b:q(100*O(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+q(100*O(this._r,255))+"%, "+q(100*O(this._g,255))+"%, "+q(100*O(this._b,255))+"%)":"rgba("+q(100*O(this._r,255))+"%, "+q(100*O(this._g,255))+"%, "+q(100*O(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":this._a<1?!1:W[s(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var r="#"+c(this._r,this._g,this._b,this._a),n=r,o=this._gradientType?"GradientType = 1, ":"";if(t){var i=e(t);n=i.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+r+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0,o=!t&&n&&("hex"===e||"hex6"===e||"hex3"===e||"name"===e);return o?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(p,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(f,arguments)},greyscale:function(){return this._applyModification(d,arguments)},spin:function(){return this._applyModification(h,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(y,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(w,arguments)},triad:function(){return this._applyCombination(b,arguments)},tetrad:function(){return this._applyCombination(g,arguments)}},e.fromRatio=function(t,r){if("object"==typeof t){var n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]="a"===o?t[o]:P(t[o]));t=n}return e(t,r)},e.equals=function(t,r){return t&&r?e(t).toRgbString()==e(r).toRgbString():!1},e.random=function(){return e.fromRatio({r:L(),g:L(),b:L()})},e.mix=function(t,r,n){n=0===n?0:n||50;var o,i=e(t).toRgb(),a=e(r).toRgb(),u=n/100,s=2*u-1,c=a.a-i.a;o=s*c==-1?s:(s+c)/(1+s*c),o=(o+1)/2;var l=1-o,f={r:a.r*o+i.r*l,g:a.g*o+i.g*l,b:a.b*o+i.b*l,a:a.a*u+i.a*(1-u)};return e(f)},e.readability=function(t,r){var n=e(t),o=e(r);return(Math.max(n.getLuminance(),o.getLuminance())+.05)/(Math.min(n.getLuminance(),o.getLuminance())+.05)},e.isReadable=function(t,r,n){var o,i,a=e.readability(t,r);switch(i=!1,o=R(n),o.level+o.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},e.mostReadable=function(t,r,n){var o,i,a,u,s=null,c=0;n=n||{},i=n.includeFallbackColors,a=n.level,u=n.size;for(var l=0;l<r.length;l++)o=e.readability(t,r[l]),o>c&&(c=o,s=e(r[l]));return e.isReadable(t,s,{level:a,size:u})||!i?s:(n.includeFallbackColors=!1,e.mostReadable(t,["#fff","#000"],n))};var V=e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},W=e.hexNames=E(V),H=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",r="(?:"+t+")|(?:"+e+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",o="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+o),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof t&&t.exports?t.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):window.tinycolor=e}()},{}],145:[function(e,t,r){var n=e("./vdom/create-element.js");t.exports=n},{"./vdom/create-element.js":150}],146:[function(e,t,r){var n=e("./vtree/diff.js");t.exports=n},{"./vtree/diff.js":165}],147:[function(e,t,r){"use strict";t.exports=function(e){return"object"==typeof e&&null!==e}},{}],148:[function(e,t,r){var n=e("./vdom/patch.js");t.exports=n},{"./vdom/patch.js":153}],149:[function(e,t,r){function n(e,t,r){for(var n in t){var a=t[n];void 0===a?o(e,n,a,r):s(a)?(o(e,n,a,r),a.hook&&a.hook(e,n,r?r[n]:void 0)):u(a)?i(e,t,r,n,a):e[n]=a}}function o(e,t,r,n){if(n){var o=n[t];if(s(o))o.unhook&&o.unhook(e,t,r);else if("attributes"===t)for(var i in o)e.removeAttribute(i);else if("style"===t)for(var a in o)e.style[a]="";else e[t]="string"==typeof o?"":null}}function i(e,t,r,n,o){var i=r?r[n]:void 0;if("attributes"!==n){if(i&&u(i)&&a(i)!==a(o))return void(e[n]=o);u(e[n])||(e[n]={});var s="style"===n?"":void 0;for(var c in o){var l=o[c];e[n][c]=void 0===l?s:l}}else for(var f in o){var d=o[f];void 0===d?e.removeAttribute(f):e.setAttribute(f,d)}}function a(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var u=e("is-object"),s=e("../vnode/is-vhook.js");t.exports=n},{"../vnode/is-vhook.js":158,"is-object":147}],150:[function(e,t,r){function n(e,t){var r=t?t.document||o:o,l=t?t.warn:null;if(e=c(e).a,s(e))return e.init();if(u(e))return r.createTextNode(e.text);if(!a(e))return l&&l("Item is not a valid virtual dom node",e),null;var f=null===e.namespace?r.createElement(e.tagName):r.createElementNS(e.namespace,e.tagName),d=e.properties;i(f,d);for(var p=e.children,m=0;m<p.length;m++){var v=n(p[m],t);v&&f.appendChild(v)}return f}var o=e("global/document"),i=e("./apply-properties"),a=e("../vnode/is-vnode.js"),u=e("../vnode/is-vtext.js"),s=e("../vnode/is-widget.js"),c=e("../vnode/handle-thunk.js");t.exports=n},{"../vnode/handle-thunk.js":156,"../vnode/is-vnode.js":159,"../vnode/is-vtext.js":160,"../vnode/is-widget.js":161,"./apply-properties":149,"global/document":128}],151:[function(e,t,r){function n(e,t,r,n){return r&&0!==r.length?(r.sort(a),o(e,t,r,n,0)):{}}function o(e,t,r,n,a){if(n=n||{},e){i(r,a,a)&&(n[a]=e);var s=t.children;if(s)for(var c=e.childNodes,l=0;l<t.children.length;l++){a+=1;var f=s[l]||u,d=a+(f.count||0);i(r,a,d)&&o(c[l],f,r,n,a),a=d}}return n}function i(e,t,r){if(0===e.length)return!1;for(var n,o,i=0,a=e.length-1;a>=i;){if(n=(a+i)/2>>0,o=e[n],i===a)return o>=t&&r>=o;if(t>o)i=n+1;else{if(!(o>r))return!0;a=n-1}}return!1}function a(e,t){return e>t?1:-1}var u={};t.exports=n},{}],152:[function(e,t,r){function n(e,t,r){var n=e.type,c=e.vNode,p=e.patch;switch(n){case m.REMOVE:return o(t,c);case m.INSERT:return i(t,p,r);case m.VTEXT:return a(t,c,p,r);case m.WIDGET:return u(t,c,p,r);case m.VNODE:return s(t,c,p,r);case m.ORDER:return l(t,p),t;case m.PROPS:return d(t,p,c.properties),t;case m.THUNK:return f(t,r.patch(t,p,r));default:return t}}function o(e,t){var r=e.parentNode;return r&&r.removeChild(e),c(e,t),null}function i(e,t,r){var n=r.render(t,r);return e&&e.appendChild(n),e}function a(e,t,r,n){var o;if(3===e.nodeType)e.replaceData(0,e.length,r.text),o=e;else{var i=e.parentNode;o=n.render(r,n),i&&o!==e&&i.replaceChild(o,e)}return o}function u(e,t,r,n){var o,i=v(t,r);o=i?r.update(t,e)||e:n.render(r,n);var a=e.parentNode;return a&&o!==e&&a.replaceChild(o,e),i||c(e,t),o}function s(e,t,r,n){var o=e.parentNode,i=n.render(r,n);return o&&i!==e&&o.replaceChild(i,e),i}function c(e,t){"function"==typeof t.destroy&&p(t)&&t.destroy(e)}function l(e,t){for(var r,n,o,i=e.childNodes,a={},u=0;u<t.removes.length;u++)n=t.removes[u],r=i[n.from],n.key&&(a[n.key]=r),e.removeChild(r);for(var s=i.length,c=0;c<t.inserts.length;c++)o=t.inserts[c],r=a[o.key],e.insertBefore(r,o.to>=s++?null:i[o.to])}function f(e,t){return e&&t&&e!==t&&e.parentNode&&e.parentNode.replaceChild(t,e),t}var d=e("./apply-properties"),p=e("../vnode/is-widget.js"),m=e("../vnode/vpatch.js"),v=e("./update-widget");t.exports=n},{"../vnode/is-widget.js":161,"../vnode/vpatch.js":163,"./apply-properties":149,"./update-widget":154}],153:[function(e,t,r){function n(e,t,r){return r=r||{},r.patch=r.patch&&r.patch!==n?r.patch:o,r.render=r.render||c,r.patch(e,t,r)}function o(e,t,r){var n=a(t);if(0===n.length)return e;var o=l(e,t.a,n),s=e.ownerDocument;r.document||s===u||(r.document=s);for(var c=0;c<n.length;c++){var f=n[c];e=i(e,o[f],t[f],r)}return e}function i(e,t,r,n){if(!t)return e;var o;if(s(r))for(var i=0;i<r.length;i++)o=f(r[i],t,n),t===e&&(e=o);else o=f(r,t,n),t===e&&(e=o);return e}function a(e){var t=[];for(var r in e)"a"!==r&&t.push(Number(r));return t}var u=e("global/document"),s=e("x-is-array"),c=e("./create-element"),l=e("./dom-index"),f=e("./patch-op");t.exports=n},{"./create-element":150,"./dom-index":151,"./patch-op":152,"global/document":128,"x-is-array":166}],154:[function(e,t,r){function n(e,t){return o(e)&&o(t)?"name"in e&&"name"in t?e.id===t.id:e.init===t.init:!1}var o=e("../vnode/is-widget.js");t.exports=n},{"../vnode/is-widget.js":161}],155:[function(e,t,r){"use strict";function n(e){return this instanceof n?void(this.value=e):new n(e)}t.exports=n,n.prototype.hook=function(e,t){e[t]!==this.value&&(e[t]=this.value)}},{}],156:[function(e,t,r){function n(e,t){var r=e,n=t;return s(t)&&(n=o(t,e)),s(e)&&(r=o(e,null)),{a:r,b:n}}function o(e,t){var r=e.vnode;if(r||(r=e.vnode=e.render(t)),!(i(r)||a(r)||u(r)))throw new Error("thunk did not return a valid node");return r}var i=e("./is-vnode"),a=e("./is-vtext"),u=e("./is-widget"),s=e("./is-thunk");t.exports=n},{"./is-thunk":157,"./is-vnode":159,"./is-vtext":160,"./is-widget":161}],157:[function(e,t,r){function n(e){return e&&"Thunk"===e.type}t.exports=n},{}],158:[function(e,t,r){function n(e){return e&&("function"==typeof e.hook&&!e.hasOwnProperty("hook")||"function"==typeof e.unhook&&!e.hasOwnProperty("unhook"));

}t.exports=n},{}],159:[function(e,t,r){function n(e){return e&&"VirtualNode"===e.type&&e.version===o}var o=e("./version");t.exports=n},{"./version":162}],160:[function(e,t,r){function n(e){return e&&"VirtualText"===e.type&&e.version===o}var o=e("./version");t.exports=n},{"./version":162}],161:[function(e,t,r){function n(e){return e&&"Widget"===e.type}t.exports=n},{}],162:[function(e,t,r){t.exports="2"},{}],163:[function(e,t,r){function n(e,t,r){this.type=Number(e),this.vNode=t,this.patch=r}var o=e("./version");n.NONE=0,n.VTEXT=1,n.VNODE=2,n.WIDGET=3,n.PROPS=4,n.ORDER=5,n.INSERT=6,n.REMOVE=7,n.THUNK=8,t.exports=n,n.prototype.version=o,n.prototype.type="VirtualPatch"},{"./version":162}],164:[function(e,t,r){function n(e,t){var r;for(var u in e){u in t||(r=r||{},r[u]=void 0);var s=e[u],c=t[u];if(s!==c)if(i(s)&&i(c))if(o(c)!==o(s))r=r||{},r[u]=c;else if(a(c))r=r||{},r[u]=c;else{var l=n(s,c);l&&(r=r||{},r[u]=l)}else r=r||{},r[u]=c}for(var f in t)f in e||(r=r||{},r[f]=t[f]);return r}function o(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var i=e("is-object"),a=e("../vnode/is-vhook");t.exports=n},{"../vnode/is-vhook":158,"is-object":147}],165:[function(e,t,r){function n(e,t){var r={a:e};return o(e,t,r,0),r}function o(e,t,r,n){if(e!==t){var o=r[n],u=!1;if(k(e)||k(t))s(e,t,r,n);else if(null==t)w(e)||(a(e,r,n),o=r[n]),o=v(o,new y(y.REMOVE,e,t));else if(b(t))if(b(e))if(e.tagName===t.tagName&&e.namespace===t.namespace&&e.key===t.key){var c=E(e.properties,t.properties);c&&(o=v(o,new y(y.PROPS,e,c))),o=i(e,t,r,o,n)}else o=v(o,new y(y.VNODE,e,t)),u=!0;else o=v(o,new y(y.VNODE,e,t)),u=!0;else g(t)?g(e)?e.text!==t.text&&(o=v(o,new y(y.VTEXT,e,t))):(o=v(o,new y(y.VTEXT,e,t)),u=!0):w(t)&&(w(e)||(u=!0),o=v(o,new y(y.WIDGET,e,t)));o&&(r[n]=o),u&&a(e,r,n)}}function i(e,t,r,n,i){for(var a=e.children,u=d(a,t.children),s=u.children,c=a.length,l=s.length,f=c>l?c:l,p=0;f>p;p++){var m=a[p],h=s[p];i+=1,m?o(m,h,r,i):h&&(n=v(n,new y(y.INSERT,null,h))),b(m)&&m.count&&(i+=m.count)}return u.moves&&(n=v(n,new y(y.ORDER,e,u.moves))),n}function a(e,t,r){l(e,t,r),u(e,t,r)}function u(e,t,r){if(w(e))"function"==typeof e.destroy&&(t[r]=v(t[r],new y(y.REMOVE,e,null)));else if(b(e)&&(e.hasWidgets||e.hasThunks))for(var n=e.children,o=n.length,i=0;o>i;i++){var a=n[i];r+=1,u(a,t,r),b(a)&&a.count&&(r+=a.count)}else k(e)&&s(e,null,t,r)}function s(e,t,r,o){var i=x(e,t),a=n(i.a,i.b);c(a)&&(r[o]=new y(y.THUNK,null,a))}function c(e){for(var t in e)if("a"!==t)return!0;return!1}function l(e,t,r){if(b(e)){if(e.hooks&&(t[r]=v(t[r],new y(y.PROPS,e,f(e.hooks)))),e.descendantHooks||e.hasThunks)for(var n=e.children,o=n.length,i=0;o>i;i++){var a=n[i];r+=1,l(a,t,r),b(a)&&a.count&&(r+=a.count)}}else k(e)&&s(e,null,t,r)}function f(e){var t={};for(var r in e)t[r]=void 0;return t}function d(e,t){var r=m(t),n=r.keys,o=r.free;if(o.length===t.length)return{children:t,moves:null};var i=m(e),a=i.keys,u=i.free;if(u.length===e.length)return{children:t,moves:null};for(var s=[],c=0,l=o.length,f=0,d=0;d<e.length;d++){var v,h=e[d];h.key?n.hasOwnProperty(h.key)?(v=n[h.key],s.push(t[v])):(v=d-f++,s.push(null)):l>c?(v=o[c++],s.push(t[v])):(v=d-f++,s.push(null))}for(var y=c>=o.length?t.length:o[c],b=0;b<t.length;b++){var g=t[b];g.key?a.hasOwnProperty(g.key)||s.push(g):b>=y&&s.push(g)}for(var w,k=s.slice(),x=0,E=[],S=[],O=0;O<t.length;){var j=t[O];for(w=k[x];null===w&&k.length;)E.push(p(k,x,null)),w=k[x];w&&w.key===j.key?(x++,O++):j.key?(w&&w.key&&n[w.key]!==O+1?(E.push(p(k,x,w.key)),w=k[x],w&&w.key===j.key?x++:S.push({key:j.key,to:O})):S.push({key:j.key,to:O}),O++):w&&w.key&&E.push(p(k,x,w.key))}for(;x<k.length;)w=k[x],E.push(p(k,x,w&&w.key));return E.length!==f||S.length?{children:s,moves:{removes:E,inserts:S}}:{children:s,moves:null}}function p(e,t,r){return e.splice(t,1),{from:t,key:r}}function m(e){for(var t={},r=[],n=e.length,o=0;n>o;o++){var i=e[o];i.key?t[i.key]=o:r.push(o)}return{keys:t,free:r}}function v(e,t){return e?(h(e)?e.push(t):e=[e,t],e):t}var h=e("x-is-array"),y=e("../vnode/vpatch"),b=e("../vnode/is-vnode"),g=e("../vnode/is-vtext"),w=e("../vnode/is-widget"),k=e("../vnode/is-thunk"),x=e("../vnode/handle-thunk"),E=e("./diff-props");t.exports=n},{"../vnode/handle-thunk":156,"../vnode/is-thunk":157,"../vnode/is-vnode":159,"../vnode/is-vtext":160,"../vnode/is-widget":161,"../vnode/vpatch":163,"./diff-props":164,"x-is-array":166}],166:[function(e,t,r){function n(e){return"[object Array]"===i.call(e)}var o=Array.isArray,i=Object.prototype.toString;t.exports=o||n},{}],167:[function(e,t,r){t.exports={name:"browser.html",description:"Experimental Servo browser built in HTML",version:"0.1.2",homepage:"https://github.com/mozilla/browser.html",repository:{type:"git",url:"https://github.com/mozilla/browser.html.git",web:"https://github.com/mozilla/browser.html"},bugs:{url:"http://github.com/mozilla/browser.html/issues/"},browser:{driver:"./src/driver/virtual-dom/index.js"},scripts:{live:"gulp live",start:"gulp develop",server:"gulp server",gecko:"gulp gecko",servo:"gulp servo",deploy:"./.bin/deploy.sh",build:"NODE_ENV=production gulp build","build-cargo":"NODE_ENV=production gulp cargo","build-server":"gulp build-server","live-server":"gulp live-server"},dependencies:{eased:"0.0.4",pouchdb:"4.0.0",reflex:"0.1.1","reflex-virtual-dom-driver":"0.0.5",tinycolor2:"1.1.2"},devDependencies:{"babel-core":"5.8.23","babel-runtime":"5.8.20",babelify:"6.1.3",browserify:"11.0.1","browserify-hmr":"0.3.1",ecstatic:"0.8.0","flow-bin":"0.20.1","graphene-marionette-client":"1.0.0","graphene-marionette-runner":"0.0.9",gulp:"3.9.0","gulp-sequence":"0.4.1","gulp-sourcemaps":"1.5.2","gulp-uglify":"1.2.0","gulp-util":"3.0.6","gulp-watch":"4.3.5",hotify:"0.0.1",jscs:"1.8.1",mocha:"2.2.4","vinyl-buffer":"1.0.0","vinyl-source-stream":"1.1.0",watchify:"3.3.1"},contributors:["The Browserhtml Project Developers"],license:"MPL-2.0"}},{}],168:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/sliced-to-array")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("../common/prelude"),a=e("reflex"),u=e("./assistant/history"),s=o(u),c=e("./assistant/search"),l=o(c),f=e("../common/style"),d=e("../common/cursor"),p=(e("../common/url-helper"),e("../common/unknown")),m=o(p),v=i.tagged("Open");r.Open=v;var h=i.tagged("Close");r.Close=h;var y=i.tagged("Expand");r.Expand=y;var b=i.tagged("Unselect");r.Unselect=b;var g=i.tagged("Reset");r.Reset=g;var w=i.tagged("SuggestNext");r.SuggestNext=w;var k=i.tagged("SuggestPrevious");r.SuggestPrevious=k;var x=i.tag("Suggest");r.Suggest=x;var E=i.tag("Query");r.Query=E;var S=i.tag("Execute");r.Execute=S;var O=i.tag("Activate");r.Activate=O;var j=function(e){return"Suggest"===e.type?x(e.source):i.tagged("Search",e)},_=i.tag("History"),$=function(){return A({isOpen:!1,isExpanded:!1})};r.init=$;var C=function(e){return $()},A=function(e){var t=null,r=l.init(t,5),o=n(r,2),u=o[0],c=o[1],f=s.init(t,5),d=n(f,2),p=d[0],m=d[1],v=a.Effects.batch([c.map(j),m.map(_)]),h=[i.merge(e,{query:t,search:u,history:p,selected:-1}),v];return h},P=function(e){return[i.merge(e,{isOpen:!0,isExpanded:!0}),a.Effects.none]},T=function(e){return[i.merge(e,{isOpen:!0,isExpanded:!1}),a.Effects.none]},M=function(e){return A(i.merge(e,{isOpen:!1,isExpanded:!1}))},F=function(e){return[i.merge(e,{selected:-1}),a.Effects.none]},R=function(e,t){return e.query===t?[e,a.Effects.none]:i.batch(q,i.merge(e,{query:t}),[j(l.Query(t)),_(s.Query(t))])},D=d.cursor({get:function(e){return e.search},set:function(e,t){return i.merge(e,{search:t})},update:l.update,tag:j}),B=d.cursor({get:function(e){return e.history},set:function(e,t){return i.merge(e,{history:t})},update:s.update,tag:_}),I=function(e){return D(e,l.SelectNext)},z=function(e){return D(e,l.SelectPrevious)},q=function(e,t){return"Open"===t.type?T(e):"Close"===t.type?M(e):"Expand"===t.type?P(e):"Reset"===t.type?C(e):"Unselect"===t.type?F(e):"SuggestNext"===t.type?I(e):"SuggestPrevious"===t.type?z(e):"Query"===t.type?R(e,t.source):"History"===t.type?B(e,t.source):"Search"===t.type?D(e,t.source):"Suggest"===t.type?[e,a.Effects.none]:m.update(e,t)};r.update=q;var U=f.StyleSheet.create({base:{background:"#fff",left:"0px",position:"absolute",top:"0px",width:"100%"},expanded:{height:"100%"},shrinked:{minHeight:"120px"},open:{},closed:{display:"none"},results:{listStyle:"none",margin:"90px auto 40px",padding:"0px",width:"480px"}}),N=function(e,t){return a.html.div({className:"assistant",style:f.Style(U.base,e.isExpanded?U.expanded:U.shrinked,e.isOpen?U.open:U.closed)},[a.html.ol({className:"assistant-results",style:U.results},[s.view(e.history,a.forward(t,_)),l.view(e.search,a.forward(t,j))])])};r.view=N},{"../common/cursor":200,"../common/prelude":208,"../common/style":214,"../common/unknown":217,"../common/url-helper":218,"./assistant/history":169,"./assistant/search":172,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/helpers/sliced-to-array":25,reflex:141}],169:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/create")["default"],o=e("babel-runtime/core-js/promise")["default"],i=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a=e("reflex"),u=e("../../common/prelude"),s=(e("../../common/style"),e("../../common/result")),c=(i(s),e("./page")),l=(i(c),e("./top-hit")),f=(i(l),e("./title")),d=i(f),p=e("./url"),m=i(p),v=e("./icon"),h=i(v),y=e("./suggestion"),b=i(y),g=e("../../common/unknown"),w=i(g),k=u.tag("Abort"),x=u.tag("Query");r.Query=x;var E=u.tag("UpdateMatches"),S=(n(null),function(e){return a.Task.future(function(){return new o(function(e){})})}),O=function(e,t,r){return a.Task.future(function(){return new o(function(e){})})},j=function(e,t){return[{query:e,size:0,queryID:0,limit:t,selected:null,matches:{},items:[]},a.Effects.none]};r.init=j;var _=function(e){return[u.merge(e,{selected:null}),a.Effects.none]},$=function(e){return null==e.selected?[0===e.size?e:u.merge(e,{selected:0}),a.Effects.none]:e.selected===e.size-1?_(e):[u.merge(e,{selected:e.selected+1}),a.Effects.none]},C=function(e){return null==e.selected?[0===e.size?e:u.merge(e,{selected:e.size-1}),a.Effects.none]:0==e.selected?_(e):[u.merge(e,{selected:e.selected-1}),a.Effects.none]},A=function(e,t){return e.query===t?[e,a.Effects.none]:[u.merge(e,{query:t,queryID:e.queryID+1}),a.Effects.batch([a.Effects.task(S(e.queryID)).map(k),a.Effects.task(O(e.queryID+1,t,e.limit)).map(E)])]},P=function(e,t){return t.isOk?T(e,t.value):[e,a.Effects.task(w.error(t.error))]},T=function(e,t){var r=t.map(function(e){return e.uri}),n={};return t.forEach(function(e){return n[e.uri]=e}),[M(e,{matches:n,items:r}),a.Effects.none]},M=function(e,t){var r=t.matches,n=t.items,o=e.selected;if(null!=e.selected){var i=e.items[e.selected];null==r[i]&&(r[i]=e.matches[i],n.unshift(i)),o=n.indexOf(i)}var a=Math.min(e.limit,n.length);return u.merge(e,{size:a,selected:o,items:n,matches:r})},F=function(e,t){return"Query"===t.type?A(e,t.source):"SelectNext"===t.type?$(e):"SelectPrevious"===t.type?C(e):"Unselect"===t.type?_(e):"UpdateMatches"===t.type?P(e,t.source):w.update(e,t)};r.update=F;var R=function(e,t,r){return[h.view("",r),d.view(e.title,r),m.view(e)]},D=function(e,t){return a.html.embed(null,e.items.map(function(r,n){return b.view(e.selected===n,R(e.matches[r],a.forward(t,byURI(r)),e.selected===n))}))};r.render=D;var B=function(e,t){return a.thunk("history",D,e,t)};r.view=B},{"../../common/prelude":208,"../../common/result":209,"../../common/style":214,"../../common/unknown":217,"./icon":170,"./page":171,"./suggestion":173,"./title":174,"./top-hit":175,"./url":176,"babel-runtime/core-js/object/create":8,"babel-runtime/core-js/promise":14,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],170:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("reflex"),o=(e("../../common/prelude"),e("../../common/style")),i=o.StyleSheet.create({base:{color:"rgba(0,0,0,0.7)",fontFamily:"FontAwesome",fontSize:"17px",left:"13px",position:"absolute",top:"0"},selected:{color:"#fff"},unselected:{}}),a=function(e,t){return n.html.span({className:"assistant icon",style:o.Style(i.base,t?i.selected:i.unselected)},[e])};r.render=a;var u=function(e,t){return n.thunk(""+e,a,e,t)};r.view=u},{"../../common/prelude":208,"../../common/style":214,reflex:141}],171:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=(e("../../common/prelude"),e("../../common/style"),e("./title")),a=n(i),u=e("./icon"),s=n(u),c=e("./url"),l=n(c),f=e("./suggestion"),d=n(f),p=function(e,t,r){return[s.view("",r),a.view(e.title,r),l.view(e)]},m=function(e,t){return d.view(e,t,p)};r.render=m;var v=function(e,t){return o.thunk(e.id,m,e,t)};r.view=v},{"../../common/prelude":208,"../../common/style":214,"./icon":170,"./suggestion":173,"./title":174,"./url":176,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],172:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/create")["default"],o=e("babel-runtime/core-js/promise")["default"],i=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a=e("reflex"),u=e("../../common/prelude"),s=(e("../../common/style"),e("../../common/selector")),c=e("../../common/result"),l=i(c),f=e("./title"),d=i(f),p=e("./icon"),m=i(p),v=e("./suggestion"),h=i(v),y=e("../../common/unknown"),b=i(y),g=u.tag("Abort"),w=u.tagged("SelectNext");r.SelectNext=w;var k=u.tagged("SelectPrevious");r.SelectPrevious=k;var x=u.tag("Suggest");r.Suggest=x;var E=u.tag("Query");r.Query=E;var S=u.tag("Execute");r.Execute=S;var O=u.tag("Activate");r.Activate=O;var j=u.tag("UpdateMatches"),_=function(e){return function(t){return u.tagged("ByURI",{uri:e,action:t})}},$=function(e){var t=e.target;return l.error(Error("Network request to "+t.url+" has failed: "+t.statusText))},C=function(e){return l.error(Error("Can not decode "+e.respose+" received from "+e.url))},A=function(e){return Array.isArray(e)?l.ok(e.map(P)):l.error(Error("Can not decode non array matches "+e))},P=function(e){return{title:e,uri:"https://duckduckgo.com/?q="+encodeURIComponent(e)}},T=function(e){var t=e.target;return"json"!==t.responseType?l.error(Error("Can not decode "+t.responseType+" type response from "+t.url)):null==t.response?C(t):null==t.response[1]?C(t):A(t.response[1])},M=n(null),F=function(e){return a.Task.io(function(t){null!=M[e]&&(M[e].abort(),delete M[e])})},R=function(e,t,r){return a.Task.future(function(){return new o(function(r){var n=new XMLHttpRequest({mozSystem:!0});M[e]=n;var o="http://ac.duckduckgo.com/ac/?q="+t+"&type=list";n.open("GET",o,!0),n.responseType="json",n.url=o,n.onerror=function(t){delete M[e],r($(t))},n.onload=function(t){delete M[e],r(T(t))},n.send()})})},D=function(e,t){return[{query:e,size:0,queryID:0,limit:t,selected:-1,matches:{},items:[]},a.Effects.none]};r.init=D;var B=function(e){return[u.merge(e,{selected:-1}),a.Effects.none]},I=function(e){return[e,a.Effects.receive(x({match:e.matches[e.items[e.selected]].title,hint:null}))]},z=function(e){return I(u.merge(e,{selected:s.indexOfOffset(e.selected,1,e.size,!0)}))},q=function(e){return I(u.merge(e,{selected:s.indexOfOffset(e.selected,-1,e.size,!0)}))},U=function(e,t){return e.query===t?[e,a.Effects.none]:""===t.trim()?[u.merge(e,{query:"",selected:-1,matches:{},items:[]}),a.Effects.task(F(e.queryID)).map(g)]:[u.merge(e,{query:t,queryID:e.queryID+1}),a.Effects.batch([a.Effects.task(F(e.queryID)).map(g),a.Effects.task(R(e.queryID+1,t,e.limit)).map(j)])]},N=function(e,t){return t.isOk?L(e,t.value):[e,a.Effects.task(b.error(t.error))]},L=function(e,t){var r=t[0],n=e.query;null!=r&&null!=n&&(r.title.toLowerCase().startsWith(n.toLowerCase())||t.unshift(P(n)));var o=t.map(function(e){return e.uri}),i={};t.forEach(function(e){return i[e.uri]=e});var a=Math.min(e.limit,o.length),s=0;return I(u.merge(e,{matches:i,items:o,size:a,selected:s}))},V=function(e,t){t.uri,t.action;return[e,a.Effects.none]},W=function(e){return[e,e.selected<0?a.Effects.none:a.Effects.receive(Load(e.matches[e.items[e.selected]].uri))]},H=function(e,t){return"Query"===t.type?U(e,t.source):"SelectNext"===t.type?z(e):"SelectPrevious"===t.type?q(e):"Unselect"===t.type?B(e):"UpdateMatches"===t.type?N(e,t.source):"ByURI"===t.type?V(e,t.source):"Activate"===t.type?W(e):b.update(e,t)};r.update=H;var G=function(e,t,r){return[m.view("",r),d.view(e.title,r)]},Z=function(e,t){return a.html.embed(null,e.items.slice(0,e.limit).map(function(r,n){return h.view(e.selected===n,G(e.matches[r],a.forward(t,_(r)),e.selected===n))}))};r.render=Z;var Q=function(e,t){return a.thunk("search",Z,e,t)};r.view=Q},{"../../common/prelude":208,"../../common/result":209,"../../common/selector":211,"../../common/style":214,"../../common/unknown":217,"./icon":170,"./suggestion":173,"./title":174,"babel-runtime/core-js/object/create":8,"babel-runtime/core-js/promise":14,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],173:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=(e("../../common/prelude"),e("../../common/style")),a=e("./title"),u=(n(a),e("./icon")),s=(n(u),i.StyleSheet.create({base:{lineHeight:"40px",overflow:"hidden",paddingLeft:"35px",paddingRight:"10px",position:"relative",whiteSpace:"nowrap",textOverflow:"ellipsis",borderBottom:"1px solid",borderTop:"1px solid"},unselected:{borderBottomColor:"rgba(0,0,0,0.08)",borderTopColor:"transparent"},selected:{background:"#4A90E2",borderBottomColor:"transparent",borderTopColor:"transparent",borderRadius:"3px"}})),c=function(e,t){return o.html.li({className:"assistant suggestion",style:i.Style(s.base,e?s.selected:s.unselected)},t)};r.render=c;var l=c;r.view=l},{"../../common/prelude":208,"../../common/style":214,"./icon":170,"./title":174,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],174:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("reflex"),o=(e("../../common/prelude"),e("../../common/style")),i=o.StyleSheet.create({base:{color:"rgba(0,0,0,0.7)",fontSize:"14px"},selected:{color:"#fff"},unselected:{}}),a=function(e,t){return n.html.span({className:"assistant title",style:o.Style(i.base,t?i.selected:i.unselected)},[null==e?"Untitled":""+e])};r.render=a;var u=function(e,t){return n.thunk(""+e,a,e,t)};r.view=u},{"../../common/prelude":208,"../../common/style":214,reflex:141}],175:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=(e("../../common/prelude"),e("../../common/style"),e("./title")),a=n(i),u=e("./suggestion"),s=n(u),c=function(e,t,r){return[a.view(e.title,r)]},l=function(e,t){return s.view(e,t,c)};r.render=l;var f=function(e,t){return o.thunk(e.id,l,e,t)};r.view=f},{"../../common/prelude":208,"../../common/style":214,"./suggestion":173,"./title":174,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],176:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=(e("../../common/prelude"),e("../../common/style")),a=e("../../common/url-helper"),u=n(a),s=i.StyleSheet.create({base:{color:"#4A90E2",fontSize:"14px"},selected:{color:"rgba(255,255,255,0.7)"},unselected:{}}),c=function(e){return e.preventDefault()},l=function(e){return o.html.a({className:"assistant url",style:i.Style(s.base,e.isSelected?s.selected:s.unselected),href:e.uri,onClick:c},[" - "+u.prettify(e.uri)])};r.render=l;var f=function(e){return o.thunk(e.id,l,e)};r.view=f},{"../../common/prelude":208,"../../common/style":214,"../../common/url-helper":218,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],177:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/define-property")["default"],o=e("babel-runtime/helpers/sliced-to-array")["default"],i=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a,u=e("../../package.json"),s=e("../../browserhtml.json"),c=i(s),l=e("reflex"),f=e("./shell"),d=i(f),p=e("./input"),m=i(p),v=e("./assistant"),h=i(v),y=e("./sidebar"),b=i(y),g=e("./web-views"),w=i(g),k=e("./overlay"),x=i(k),E=e("./updater"),S=i(E),O=e("../common/devtools"),j=i(O),_=e("../common/runtime"),$=i(_),C=e("../common/url-helper"),A=i(C),P=e("../common/unknown"),T=i(P),M=e("../common/focusable"),F=(i(M),e("../common/os")),R=i(F),D=e("../common/keyboard"),B=i(D),I=e("../common/stopwatch"),z=i(I),q=e("eased"),U=i(q),N=e("../common/prelude"),L=e("../common/cursor"),V=e("../common/style"),W=e("../lang/functional"),H=e("driver"),G=function(){var e=j.init({isActive:c.devtools}),t=o(e,2),r=t[0],n=t[1],i=S.init(),a=o(i,2),s=a[0],f=a[1],p=m.init(!1,!1,""),v=o(p,2),y=v[0],g=v[1],k=d.init(),E=o(k,2),O=E[0],_=E[1],C=w.init(),A=o(C,2),P=A[0],T=A[1],M=b.init(),F=o(M,2),R=F[0],D=F[1],B=h.init(),I=o(B,2),z=I[0],q=I[1],U=x.init(!1,!1),N=o(U,2),L=N[0],V=N[1],W={version:u.version,mode:"create-web-view",shell:O,input:y,assistant:z,webViews:P,sidebar:R,overlay:L,updater:s,devtools:r,display:{rightOffset:0},isExpanded:!0},H=l.Effects.batch([n.map(Y),g.map(K),_.map(J),T.map(X),f.map(te),D.map(Z),q.map(ee),V.map(Q),l.Effects.receive(fe),l.Effects.task($.receive("mozbrowseropenwindow")).map(Qe)]);return[W,H]};r.init=G;var Z=function(e){return"CreateWebView"===e.type?fe:"ActivateTab"===e.type?Xe(e.id):"CloseTab"===e.type?Ye(e.id):"Tabs"===e.type?Je(e.source.id,e.source):"Attach"===e.type?ye:"Detach"===e.type?be:{type:"Sidebar",action:e}},Q=function(e){return"Click"===e.type?ge:{type:"Overlay",action:e}},K=function(e){return"Submit"===e.type?we:"Abort"===e.type?ke:"Blur"===e.type?Oe:"Query"===e.type?Ke(e.source):"SuggestNext"===e.type?je:"SuggestPrevious"===e.type?_e:N.tagged("Input",e)},X=function(e){return"ShowTabs"===e.type?me:"Create"===e.type?fe:"Edit"===e.type?de:"SelectRelative"===e.type?{type:"SelectTab",source:e}:"ActivateSelected"===e.type?{type:"ActivateTab",source:e}:"ActivateByID"===e.type?{type:"ActivateTabByID",source:e}:{type:"WebViews",source:e}},J=function(e){return"Focus"===e.type?{type:"Focus",source:e}:{type:"Shell",source:e}},Y=function(e){return{type:"Devtools",action:e}},ee=function(e){return"Suggest"===e.type?$e(e.source):N.tagged("Assistant",e)},te=function(e){return{type:"Updater",source:e}},re=L.cursor({get:function(e){return e.input},set:function(e,t){return N.merge(e,{input:t})},update:m.update,tag:K}),ne=L.cursor({get:function(e){return e.webViews},set:function(e,t){return N.merge(e,{webViews:t})},update:w.update,tag:X}),oe=L.cursor({get:function(e){return e.shell},set:function(e,t){return N.merge(e,{shell:t})},update:d.update,tag:J}),ie=L.cursor({get:function(e){return e.devtools},set:function(e,t){return N.merge(e,{devtools:t})},update:j.update,tag:Y}),ae=L.cursor({get:function(e){return e.assistant},set:function(e,t){return N.merge(e,{assistant:t})},update:h.update,tag:ee}),ue=L.cursor({get:function(e){return e.sidebar},set:function(e,t){return N.merge(e,{sidebar:t})},tag:Z,update:b.update}),se=L.cursor({get:function(e){return e.overlay},set:function(e,t){return N.merge(e,{overlay:t})},tag:Q,update:x.update}),ce=L.cursor({get:function(e){return e.updater},set:function(e,t){return N.merge(e,{updater:t})},tag:te,update:S.update}),le={type:"Reloaded"},fe={type:"CreateWebView"};r.CreateWebView=fe;var de={type:"EditWebView"};r.EditWebView=de;var pe={type:"ShowWebView"};r.ShowWebView=pe;var me={type:"ShowTabs"};r.ShowTabs=me;var ve={type:"SelectWebView"};r.SelectWebView=ve;var he={type:"OpenWebView"};r.OpenWebView=he;var ye={type:"AttachSidebar",source:b.Attach};r.AttachSidebar=ye;var be={type:"DetachSidebar",source:b.Detach};r.DetachSidebar=be;var ge={type:"OverlayClicked"};r.OverlayClicked=ge;var we={type:"SubmitInput"};r.SubmitInput=we;var ke={type:"ExitInput",source:m.Abort};r.ExitInput=ke;var xe={type:"Escape"};r.Escape=xe;var Ee={type:"Unload"};r.Unload=Ee;var Se={type:"ReloadRuntime"};r.ReloadRuntime=Se;var Oe={type:"BlurInput",source:m.Blur};r.BlurInput=Oe;var je=N.tagged("SuggestNext");r.SuggestNext=je;var _e=N.tagged("SuggestPrevious");r.SuggestPrevious=_e;var $e=N.tag("Suggest");r.Suggest=$e;var Ce={type:"Expand"};r.Expand=Ce;var Ae={type:"Expanded"};r.Expanded=Ae;var Pe={type:"Shrink"};r.Shrink=Pe;var Te={type:"Shrinked"};r.Shrinked=Te;var Me=X(w.ZoomIn);r.ZoomIn=Me;var Fe=X(w.ZoomOut);r.ZoomOut=Fe;var Re=X(w.ResetZoom);r.ResetZoom=Re;var De=X(w.Reload);r.Reload=De;var Be=X(w.CloseActive);r.CloseWebView=Be;var Ie=X(w.GoBack);r.GoBack=Ie;var ze=X(w.GoForward);r.GoForward=ze;var qe=X(w.SelectNext);r.SelectNext=qe;var Ue=X(w.SelectPrevious);r.SelectPrevious=Ue;var Ne=X(w.ActivateSelected);r.ActivateSeleted=Ne;var Le=X(w.Focus);r.FocusWebView=Le;var Ve=W.compose(X,w.NavigateTo);r.NavigateTo=Ve;var We=X(w.Unfold),He=X(w.Fold),Ge=W.compose(X,w.Open),Ze={type:"ReceiveOpenURLNotification"},Qe=function(e){var t=e.url;return{type:"OpenURL",uri:t}},Ke=N.tag("Query"),Xe=W.compose(X,w.ActivateByID);r.ActivateWebViewByID=Xe;var Je=W.compose(X,w.ActionByID),Ye=W.compose(X,w.CloseByID),et=Y(j.Toggle);r.ToggleDevtools=et;var tt=J(d.Blur);r.Blur=tt;var rt=J(d.Focus);r.Focus=rt;var nt=K(m.Show),ot=K(m.Hide),it=K(m.Enter),at=W.compose(K,m.EnterSelection),ut=K(m.Focus);r.FocusInput=ut;var st=ee(h.Open),ct=ee(h.Close),lt=ee(h.Expand),ft=(W.compose(ee,h.Query),Z(b.Open)),dt=Z(b.Close),pt={type:"Sidebar",action:b.Attach},mt={type:"Sidebar",action:b.Detach},vt=Q(x.Hide),ht=Q(x.Show),yt=Q(x.Fade),bt={type:"LiveReload"};r.LiveReload=bt;var gt=function(e){return{type:"ResizeAnimation",action:e}},wt="linux"==R.platform()?"alt":"accel",kt=B.bindings((a={"accel l":N.always(de),"accel t":N.always(fe),"accel 0":N.always(Re),"accel -":N.always(Fe),"accel =":N.always(Me),"accel shift =":N.always(Me),"accel w":N.always(Be),"accel shift ]":N.always(qe),"accel shift [":N.always(Ue),"control tab":N.always(qe),"control shift tab":N.always(Ue),"accel r":N.always(De),escape:N.always(xe)},n(a,wt+" left",N.always(Ie)),n(a,wt+" right",N.always(ze)),n(a,"accel alt i",N.always(et)),n(a,"accel alt ",N.always(et)),n(a,"F12",N.always(et)),n(a,"F5",N.always(Se)),n(a,"meta control r",N.always(Se)),a)),xt=B.bindings({control:N.always(Ne),accel:N.always(Ne)}),Et=function(e){return N.batch(Vt,N.merge(e,{mode:"show-web-view"}),[ot,ct,dt,vt,He,Le])},St=function(e){return N.batch(Vt,N.merge(e,{mode:"create-web-view"}),[nt,lt,dt,vt,He,it])},Ot=function(e){return N.batch(Vt,N.merge(e,{mode:"edit-web-view"}),[nt,st,dt,ht,He,at(w.getActiveURI(e.webViews,""))])},jt=function(e){return N.batch(Vt,N.merge(e,{mode:"show-tabs"}),[ot,ct,ft,ht,We])},_t=function(e,t){return N.batch(Vt,N.merge(e,{mode:"select-web-view"}),[ot,ct,ft,We,yt])},$t=function(e){return Vt(e,Ve(A.read(e.input.value)))},Ct=function(e){return Vt(e,Ge({uri:A.read(e.input.value),inBackground:!1,name:"",features:""}))},At=function(e,t){return N.batch(Vt,e,[Ge({uri:t,inBackground:!1,name:"",features:""}),pe,Ze])},Pt=function(e){return[e,l.Effects.task($.receive("mozbrowseropenwindow")).map(Qe)]},Tt=function(e){return N.batch(Vt,e,[ct,Le])},Mt=function(e){return N.batch(Vt,N.merge(e,{mode:"show-web-view"}),[pt,Pe,dt,vt,He,Le])},Ft=function(e){return N.batch(Vt,e,[mt,Ce])},Rt=function(e){return[e,l.Effects.task($.reload).map(le)]},Dt=function(e,t){return ae(e,h.Query(e.input.value))},Bt=function(e){return e.isExpanded?[e,l.Effects.none]:zt(N.merge(e,{isExpanded:!0}))},It=function(e){return e.isExpanded?zt(N.merge(e,{isExpanded:!1})):[e,l.Effects.none]},zt=function(e){var t=z.update(e.resizeAnimation,z.Start),r=o(t,2),n=r[0],i=r[1];return[N.merge(e,{resizeAnimation:n}),i.map(gt)]},qt=function(e){{var t=z.update(e.resizeAnimation,z.End),r=o(t,2),n=r[0];r[1]}return[N.merge(e,{resizeAnimation:n}),l.Effects.none]},Ut=qt,Nt=qt,Lt=function(e,t){var r=z.update(e.resizeAnimation,t),n=o(r,2),i=n[0],a=n[1],u=200,s=e.isExpanded?[50,0]:[0,50],c=o(s,2),f=c[0],d=c[1],p=u>i.elapsed?[N.merge(e,{resizeAnimation:i,display:N.merge(e.display,{rightOffset:U.ease(U.easeOutCubic,U["float"],f,d,u,i.elapsed)})}),a.map(gt)]:[N.merge(e,{resizeAnimation:i,display:N.merge(e.display,{rightOffset:d})}),l.Effects.receive(e.isExpanded?Ae:Te)];return p},Vt=function(e,t){return"SubmitInput"===t.type?$t(e):"OpenWebView"===t.type?Ct(e):"OpenURL"===t.type?At(e,t.uri):"ReceiveOpenURLNotification"===t.type?Pt(e):"ExitInput"===t.type?Tt(e):"CreateWebView"===t.type?St(e):"EditWebView"===t.type?Ot(e):"ShowWebView"===t.type?Et(e):"ShowTabs"===t.type?jt(e):"SelectWebView"===t.type?_t(e):"Escape"===t.type?jt(e):"AttachSidebar"===t.type?Mt(e):"DetachSidebar"===t.type?Ft(e):"ReloadRuntime"===t.type?Rt(e):"Expand"===t.type?Bt(e):"Shrink"===t.type?It(e):"ResizeAnimation"===t.type?Lt(e,t.action):"Expanded"===t.type?Nt(e):"Shrinked"===t.type?Ut(e):"Input"===t.type?re(e,t.source):"Suggest"===t.type?re(e,m.Suggest({query:e.assistant.query,match:t.source.match,hint:t.source.hint})):"BlurInput"===t.type?re(e,t.source):"WebViews"===t.type?ne(e,t.source):"SelectTab"===t.type?ne(e,t.source):"ActivateTabByID"===t.type?ne(e,t.source):"ActivateTab"===t.type?ne(e,t.source):"Shell"===t.type?oe(e,t.source):"Focus"===t.type?oe(e,t.source):"Assistant"===t.type?ae(e,t.source):"Query"===t.type?Dt(e):"SuggestNext"===t.type?ae(e,h.SuggestNext):"SuggestPrevious"===t.type?ae(e,h.SuggestPrevious):"Devtools"===t.type?ie(e,t.action):"Sidebar"===t.type?ue(e,t.action):"Overlay"===t.type?se(e,t.action):"Updater"===t.type?ce(e,t.source):"Failure"===t.type?[e,l.Effects.task(T.error(t.error))]:"Reloaded"===t.type?[e,l.Effects.none]:"LiveReload"===t.type?[e,l.Effects.none]:T.update(e,t)};r.update=Vt;var Wt=V.StyleSheet.create({root:{background:"#24303D",perspective:"1000px",width:"100%",height:"100%",overflow:"hidden",position:"absolute",MozWindowDragging:"drag"},content:{position:"absolute",perspective:"1000px",height:"100%",width:"100%"}}),Ht=function(e,t){return l.html.div({className:"root",style:Wt.root,tabIndex:1,onKeyDown:H.onWindow(t,kt),onKeyUp:H.onWindow(t,xt),onBlur:H.onWindow(t,N.always(tt)),onFocus:H.onWindow(t,N.always(rt)),onUnload:H.onWindow(t,N.always(Ee))},[l.html.div({className:"browser-content",style:V.Style(Wt.content,{width:"calc(100% - "+e.display.rightOffset+"px)"})},[l.thunk("web-views",w.view,e.webViews,l.forward(t,X)),l.thunk("overlay",x.view,e.overlay,l.forward(t,Q)),l.thunk("assistant",h.view,e.assistant,l.forward(t,ee)),l.thunk("input",m.view,e.input,l.forward(t,K)),l.thunk("updater",S.view,e.updater,l.forward(t,te)),l.thunk("devtools",j.view,e.devtools,l.forward(t,Y))]),l.thunk("sidebar",b.view,e.sidebar,e.webViews,l.forward(t,Z)),l.thunk("shell",d.view,e.shell,l.forward(t,J))])};r.view=Ht},{"../../browserhtml.json":1,"../../package.json":167,"../common/cursor":200,"../common/devtools":201,"../common/focusable":204,"../common/keyboard":206,"../common/os":207,"../common/prelude":208,"../common/runtime":210,"../common/stopwatch":213,"../common/style":214,"../common/unknown":217,"../common/url-helper":218,"../lang/functional":220,"./assistant":168,"./input":179,"./overlay":180,"./shell":183,"./sidebar":185,"./updater":189,"./web-views":197,"babel-runtime/helpers/define-property":20,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/helpers/sliced-to-array":25,driver:219,eased:127,reflex:141}],178:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"],o=e("reflex"),i=e("./perspective-ui"),a=n(i),u=(e("../../package.json"),e("../../browserhtml.json")),s=n(u),c=e("driver"),l=function(e){return function(t,r){console.log(">>> Action:",r),null!=console.group&&console.group();var n=e(t,r);return null!=console.groupEnd&&console.groupEnd(),
console.log("<<< Model:",n[0]),console.log("<<< Effects:",n[1]),n}},f=null!=window.application;f&&window.application.address(a.LiveReload);var d=o.start({initial:f?window.application.model.value:a.init(),step:s.logging?l(a.update):a.update,view:a.view}),p=new c.Renderer({target:document.body});d.view.subscribe(p.address),d.task.subscribe(o.Effects.service(function(e){"Driver.Execute"===e.type?p.execute():d.address(e)})),window.application=d},{"../../browserhtml.json":1,"../../package.json":167,"./perspective-ui":182,"babel-runtime/helpers/interop-require-wildcard":24,driver:219,reflex:141}],179:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/sliced-to-array")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("reflex"),a=e("driver"),u=e("../lang/functional"),s=e("../common/prelude"),c=e("../common/cursor"),l=e("../common/focusable"),f=o(l),d=e("../common/editable"),p=o(d),m=e("../common/keyboard"),v=o(m),h=e("../common/unknown"),y=o(h),b=e("../common/style"),g={value:"",isFocused:!1,selection:null,isVisible:!1};r.initial=g;var w=s.tag("Query");r.Query=w;var k=s.tag("Suggest");r.Suggest=k;var x=s.tagged("SuggestNext");r.SuggestNext=x;var E=s.tagged("SuggestPrevious");r.SuggestPrevious=E;var S={type:"Submit"};r.Submit=S;var O={type:"Abort"};r.Abort=O;var j={type:"Enter"};r.Enter=j;var _={type:"Focus",source:f.Focus};r.Focus=_;var $={type:"Blur",source:f.Blur};r.Blur=$;var C={type:"Show"};r.Show=C;var A={type:"Hide"};r.Hide=A;var P=function(e){return{type:"EnterSelection",value:e}};r.EnterSelection=P;var T=function(e){return"Focus"===e.type?_:"Blur"===e.type?$:{type:"Focusable",source:e}},M=function(e){return{type:"Editable",source:e}},F=(M(p.Clear),c.cursor({tag:T,update:f.update})),R=c.cursor({tag:M,update:p.update}),D=function(e){var t=F(e,f.Focus),r=n(t,2),o=r[0],a=r[1],u=R(o,p.Clear),s=n(u,2),c=s[0],l=s[1];return[c,i.Effects.batch([a,l])]},B=function(e,t){return I(e,t,0,t.length)},I=function(e,t,r,o){var a=F(e,f.Focus),u=n(a,2),s=u[0],c=u[1],l=R(s,p.Change(t,{start:r,end:o,direction:"forward"})),d=n(l,2),m=d[0],v=d[1];return[m,i.Effects.batch([c,v])]},z=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],r=arguments.length<=2||void 0===arguments[2]?"":arguments[2];return[{value:r,isFocused:t,isVisible:e,selection:null},i.Effects.none]};r.init=z;var q=function(e,t){{var r=t.query,n=t.match;t.hint}return I(e,n,n.toLowerCase().startsWith(r.toLowerCase())?r.length:n.length,n.length)};r.suggest=q;var U=function(e,t){return"Abort"===t.type?F(e,f.Blur):"Submit"===t.type?[e,i.Effects.none]:"Enter"===t.type?D(s.merge(e,{isVisible:!0})):"Focus"===t.type?F(s.merge(e,{isFocused:!0,isVisible:!0}),t.source):"Blur"===t.type?F(e,t.source):"EnterSelection"===t.type?B(s.merge(e,{isVisible:!0}),t.value):"Focusable"===t.type?F(e,t.source):"Editable"===t.type?R(e,t.source):"Change"===t.type?R(e,p.Change(t.value,t.selection)):"Show"===t.type?[s.merge(e,{isVisible:!0}),i.Effects.none]:"Hide"===t.type?[s.merge(e,{isVisible:!1}),i.Effects.none]:"SuggestNext"===t.type?[e,i.Effects.none]:"SuggestPrevious"===t.type?[e,i.Effects.none]:"Suggest"===t.type?q(e,t.source):y.update(e,t)};r.update=U;var N=v.bindings({up:s.always(E),"control p":s.always(E),down:s.always(x),"control n":s.always(x),enter:s.always(S),escape:s.always(O)}),L=function(e){return{start:e.selectionStart,end:e.selectionEnd,direction:e.selectionDirection}},V=function(e){var t=e.target;return{type:"Change",value:t.value,selection:L(t)}},W=u.compose(M,function(e){var t=e.target;return p.Select(L(t))}),H=480,G=40,Z=32,Q=b.StyleSheet.create({combobox:{height:G,left:"50%",marginLeft:-1*(H/2)+"px",position:"absolute",top:"40px",width:H+"px"},field:{backgroundColor:"#EBEEF2",borderRadius:"5px",borderWidth:"3px",borderStyle:"solid",borderColor:"transparent",display:"block",fontSize:"14px",MozAppearance:"none",height:G-6+"px",lineHeight:G-6+"px",margin:0,padding:"0 "+Z+"px",width:H-6-2*Z+"px"},fieldFocused:{backgroundColor:"#fff",borderColor:"#3D91F2"},inactive:{opacity:0,pointerEvents:"none"},searchIcon:{color:"rgba(0,0,0,0.7)",fontFamily:"FontAwesome",fontSize:"16px",left:"13px",lineHeight:"40px",position:"absolute",top:0},hidden:{opacity:0,pointerEvents:"none"}}),K=function(e,t){return i.html.div({className:"input-combobox",style:b.Style(Q.combobox,!e.isVisible&&Q.hidden),onInput:i.forward(t,w)},[i.html.span({className:"input-search-icon",style:Q.searchIcon},[""]),i.html.input({className:"input-field",placeholder:"Search or enter address",style:b.Style(Q.field,e.isFocused&&Q.fieldFocused),type:"text",value:e.value,isFocused:a.focus(e.isFocused),selection:a.selection(e.selection),onInput:a.on(t,V),onSelect:a.on(t,W),onFocus:a.on(t,s.always(_)),onBlur:a.on(t,s.always($)),onKeyDown:a.on(t,N)})])};r.view=K},{"../common/cursor":200,"../common/editable":202,"../common/focusable":204,"../common/keyboard":206,"../common/prelude":208,"../common/style":214,"../common/unknown":217,"../lang/functional":220,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/helpers/sliced-to-array":25,driver:219,reflex:141}],180:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/sliced-to-array")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("reflex"),a=e("../common/prelude"),u=e("../common/cursor"),s=e("../common/style"),c=e("eased"),l=o(c),f=e("../common/stopwatch"),d=o(f),p=e("../common/unknown"),m=o(p),v=.1,h=0,y=300,b=function(e){var t=e.isCapturing,r=e.isVisible;return{isCapturing:t,isVisible:r,animation:null,display:r?{opacity:v}:{opacity:h}}};r.Model=b;var g=a.always({type:"Click"});r.Click=g;var w={type:"Show"};r.Show=w;var k={type:"Hide"};r.Hide=k;var x={type:"Fade"};r.Fade=x;var E=function(e){return{type:"Animation",action:e}},S=a.always({type:"Shown"}),O=a.always({type:"Hidden"}),j=a.always({type:"Faded"}),_=function(e,t){return[b({isVisible:e,isCapturing:t}),i.Effects.none]};r.init=_;var $=u.cursor({tag:E,get:function(e){return e.animation},set:function(e,t){return a.merge(e,{animation:t})},update:d.update}),C=function(e,t){var r=$(e,t.action),o=n(r,2),i=o[0].animation,u=o[1],s=e.isVisible?[h,v]:[v,h],c=n(s,2),f=c[0],d=c[1];return y>i.elapsed?[a.merge(e,{animation:i,display:{opacity:l.ease(l.easeOutQuad,l["float"],f,d,y,i.elapsed)}}),u]:[a.merge(e,{animation:i,display:{opacity:d}}),u.map(e.isVisible?S:e.isCapturing?j:O)]},A=function(e,t){return"Animation"===t.type?C(e,t):"Shown"===t.type?$(e,d.End):"Hidden"===t.type?$(e,d.End):"Faded"===t.type?$(e,d.End):"Show"===t.type?e.isVisible?[a.merge(e,{isCapturing:!0}),i.Effects.none]:$(a.merge(e,{isVisible:!0,isCapturing:!0}),d.Start):"Hide"===t.type?e.isVisible?$(a.merge(e,{isVisible:!1,isCapturing:!1}),d.Start):[a.merge(e,{isCapturing:!1}),i.Effects.none]:"Fade"===t.type?e.isVisible?$(a.merge(e,{isVisible:!1,isCapturing:!0}),d.Start):[a.merge(e,{isCapturing:!0}),i.Effects.none]:"Click"===t.type?[e,i.Effects.none]:m.update(e,t)};r.update=A;var P=s.StyleSheet.create({overlay:{background:"rgb(0, 0, 0)",position:"absolute",width:"100%",height:"100%"}}),T=function(e,t){return i.html.div({className:"overlay",style:s.Style(P.overlay,{opacity:e.display.opacity,pointerEvents:e.isCapturing?"all":"none"}),onClick:i.forward(t,g)})};r.view=T},{"../common/cursor":200,"../common/prelude":208,"../common/stopwatch":213,"../common/style":214,"../common/unknown":217,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/helpers/sliced-to-array":25,eased:127,reflex:141}],181:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/promise")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"],i=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a=e("tinycolor2"),u=o(a),s=e("reflex"),c=e("../common/url-helper"),l=i(c),f={"facebook.com":{background:"#3a5795",foreground:"#fff"},"sina.com.cn":{background:"#ff8500",foreground:"#fff"},"reddit.com":{background:"#f0f0f0",foreground:"#336699"},"instagram.com":{background:"#125688",foreground:"#fff"},"imgur.com":{background:"#2b2b2b",foreground:"#fff"},"cnn.com":{background:"#0c0c0c",foreground:"#fff"},"slideshare.net":{background:"#313131",foreground:"#fff"},"deviantart.com":{background:"#475c4d",foreground:"#fff"},"soundcloud.com":{background:"#333333",foreground:"#FF5500"},"mashable.com":{background:"#00aeef",foreground:"#fff"},"daringfireball.net":{background:"#4a525a",foreground:"#fff"},"firewatchgame.com":{background:"#2d102b",foreground:"#ef4338"},"whatliesbelow.com":{background:"#74888b",foreground:"#fff"},"supertimeforce.com":{background:"#051224",foreground:"#2ebcec"},"github.com":{background:"rgb(245, 245, 245)",foreground:"rgb(51, 51, 51)"}},d=function(e){return parseInt(e,16)>8388607.5},p=function(e){var t=u["default"](e);return t.isDark()||!d(t.toHex())};r.isDark=p;var m={isDark:!1,foreground:null,background:null};r.blank=m;var v=function(e,t){return{background:e,foreground:t,isDark:p(e)}};r.create=v;var h=function(e){return s.Task.future(function(){var t=l.getDomainName(e);return n.resolve(null==t?null:f[t])})};r.requestCuratedColor=h},{"../common/url-helper":218,"babel-runtime/core-js/promise":14,"babel-runtime/helpers/interop-require-default":23,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141,tinycolor2:144}],182:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=e("../common/prelude"),a=e("./browser"),u=n(a),s=u.LiveReload;r.LiveReload=s;var c=u.init;r.init=c;var l=function(e,t){return"create-web-view"===e.mode?"ExitInput"===t.type?e.webViews.order.length>0?u.update(e,u.ShowWebView):[e,o.Effects.none]:"SubmitInput"===t.type?i.batch(u.update,e,[u.OpenWebView,u.ShowWebView]):"Focus"===t.type?i.batch(u.update,e,[t,u.FocusInput]):u.update(e,t):"edit-web-view"===e.mode?"ExitInput"===t.type?u.update(e,u.ShowWebView):"OverlayClicked"===t.type?u.update(e,u.ShowWebView):"SubmitInput"===t.type?i.batch(u.update,e,[t,u.ShowWebView]):"Focus"===t.type?i.batch(u.update,e,[t,u.FocusInput]):u.update(e,t):"show-web-view"===e.mode?"Escape"===t.type?u.update(e,u.ShowTabs):"SelectTab"===t.type?i.batch(u.update,e,[t,u.SelectWebView]):"Focus"===t.type?i.batch(u.update,e,[t,u.FocusWebView]):u.update(e,t):"show-tabs"===e.mode?"Escape"===t.type?u.update(e,u.ShowWebView):"FocusWebView"===t.type?u.update(e,u.ShowWebView):"OverlayClicked"===t.type?u.update(e,u.ShowWebView):"ActivateTabByID"===t.type?i.batch(u.update,e,[t,u.ShowWebView]):"SelectTab"===t.type?i.batch(u.update,e,[t,u.SelectWebView]):u.update(e,t):"select-web-view"===e.mode?"ActivateTab"===t.type?i.batch(u.update,e,[t,u.ShowWebView]):u.update(e,t):Unknown.update(e,t)};r.update=l;var f=u.view;r.view=f},{"../common/prelude":208,"./browser":177,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],183:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/sliced-to-array")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("reflex"),a=e("../common/prelude"),u=e("../common/cursor"),s=e("../common/focusable"),c=(o(s),e("../common/target")),l=(o(c),e("../common/runtime")),f=o(l),d=e("./shell/controls"),p=o(d),m=e("../common/unknown"),v=o(m),h=i.Task.io(function(e){return i.Task.succeed(document.hasFocus())}),y=function(){var e=p.init(!1,!1,!1),t=n(e,2),r=t[0],o=t[1];return[{isFocused:!1,isMinimized:!1,isMaximized:!1,controls:r},i.Effects.batch([o,i.Effects.task(h).map(function(e){return e?b:g})])]};r.init=y;var b={type:"Focus"};r.Focus=b;var g={type:"Blur"};r.Blur=g;var w={type:"Close"};r.Close=w;var k={type:"Minimize"};r.Minimize=k;var x={type:"ToggleFullscreen"};r.ToggleFullscreen=x;var E=function(e){return{type:"Closed",result:e}},S=function(e){return{type:"Minimized",result:e}},O=function(e){return{type:"FullscreenToggled",result:e}},j=function(e){return"CloseWindow"===e.type?w:"MinimizeWindow"===e.type?k:"ToggleWindowFullscreen"===e.type?x:{type:"Controls",source:e}},_=u.cursor({get:function(e){return e.controls},set:function(e,t){return a.merge(e,{controls:t})},update:p.update,tag:j}),$=function(e){return _(a.merge(e,{isFocused:!0,isMinimized:!1}),p.Enable)},C=function(e){return _(a.merge(e,{isFocused:!1}),p.Disable)},A=function(e,t){return t.isOk?[a.merge(e,{isMinimized:!0}),i.Effects.none]:[e,i.Effects.task(v.error(t.error))]},P=function(e,t){return t.isOk?_(a.merge(e,{isMaximized:!e.isMaximized}),p.FullscreenToggled):[e,i.Effects.task(v.error(t.error))]},T=function(e,t){return t.isOk?[e,i.Effects.none]:[e,i.Effects.task(v.error(t.error))]},M=function(e){return[e,i.Effects.task(f.quit).map(E)]},F=function(e){return[e,i.Effects.task(f.minimize).map(S)]},R=function(e){return[e,i.Effects.task(f.toggleFullscreen).map(O)]},D=function(e,t){return"Focus"===t.type?$(e):"Blur"===t.type?C(e):"Minimize"===t.type?F(e):"Minimized"===t.type?A(e,t.result):"Close"===t.type?M(e):"Closed"===t.type?T(e,t.result):"ToggleFullscreen"===t.type?R(e):"FullscreenToggled"===t.type?P(e,t.result):"Controls"===t.type?_(e,t.source):v.update(e,t)};r.update=D;var B=function(e,t){return p.view(e.controls,i.forward(t,j))};r.view=B},{"../common/cursor":200,"../common/focusable":204,"../common/prelude":208,"../common/runtime":210,"../common/target":215,"../common/unknown":217,"./shell/controls":184,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/helpers/sliced-to-array":25,reflex:141}],184:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/sliced-to-array")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("reflex"),a=e("../../common/style"),u=e("../../common/target"),s=(o(u),e("../../common/button")),c=o(s),l=e("../../common/toggle"),f=o(l),d=e("../../common/unknown"),p=o(d),m=e("../../lang/functional"),v=e("../../common/prelude"),h=e("../../common/cursor"),y={type:"CloseWindow"};r.CloseWindow=y;var b={type:"MinimizeWindow"};r.MinimizeWindow=b;var g={type:"ToggleWindowFullscreen"};r.ToggleWindowFullscreen=g;var w={type:"FullscreenToggled"};r.FullscreenToggled=w;var k={type:"Ignore"};r.Ignore=k;var x={type:"Over"};r.Over=x;var E={type:"Out"};r.Out=E;var S={type:"Enable"};r.Enable=S;var O={type:"Disable"};r.Disable=O;var j=function(e){return"Target"===e.type?k:"Focusable"===e.type?k:e},_=m.compose(function(e){return e===k?k:"Press"===e.type?y:{type:"CloseButton",source:e}},j),$=m.compose(function(e){return e===k?k:"Press"===e.type?b:{type:"MinimizeButton",source:e}},j),C=m.compose(function(e){return e===k?k:"Press"===e.type?g:{type:"ToggleButton",source:e}},j),A=function(e){var t=e.close,r=e.minimize,n=e.toggle;return{close:t,minimize:r,toggle:n}};r.Model=A;var P=h.cursor({get:function(e){return e.close},set:function(e,t){return v.merge(e,{close:t})},update:c.update,tag:_}),T=h.cursor({get:function(e){return e.minimize},set:function(e,t){return v.merge(e,{minimize:t})},update:c.update,tag:$}),M=h.cursor({get:function(e){return e.toggle},set:function(e,t){return v.merge(e,{toggle:t})},update:f.update,tag:C}),F=function(e,t,r){var n=!1,o=!1,a=c.Model({isDisabled:e,isPointerOver:t,isFocused:n,isActive:o,text:""}),u=c.Model({isDisabled:e,isPointerOver:t,isFocused:n,isActive:o,text:""}),s=f.Model({isDisabled:e,isFocused:n,isActive:o,isPointerOver:t,isChecked:r});return[{close:a,minimize:u,toggle:s},i.Effects.none]};r.init=F;var R=function(e,t){var r=c.update(e.close,t),o=n(r,2),a=o[0],u=o[1],s=c.update(e.minimize,t),l=n(s,2),d=l[0],p=l[1],m=f.update(e.toggle,f.ButtonAction(t)),h=n(m,2),y=h[0],b=h[1];return[v.merge(e,{close:a,minimize:d,toggle:y}),i.Effects.batch([u.map(_),p.map($),b.map(C)])]},D=function(e,t){return"Over"===t.type?R(e,c.Over):"Out"===t.type?R(e,c.Out):"Enable"===t.type?R(e,c.Enable):"Disable"===t.type?R(e,c.Disable):"FullscreenToggled"===t.type?M(e,f.Press):"Ignore"===t.type?[e,i.Effects.none]:"CloseButton"===t.type?P(e,t.source):"MinimizeButton"===t.type?T(e,t.source):"ToggleButton"===t.type?[e,i.Effects.none]:p.update(e,t)};r.update=D;var B=a.StyleSheet.create({container:{height:"12px",position:"absolute",width:"50px",top:"8px",left:"8px",zIndex:200},button:{backgroundColor:"transparent",backgroundImage:"url(css/window-controls.sprite.png)",backgroundRepeat:"no-repeat",backgroundSize:"25px auto",width:"12px",height:"12px",left:0,position:"absolute",top:0},disabledButton:{backgroundPosition:"0 -300px"},closeButton:{left:0},minimizeButton:{left:"20px"},toggleButton:{left:"40px"}}),I=c.view("window-close-button",a.StyleSheet.create({base:a.Style(B.button,B.closeButton),disabled:B.disabledButton,enabled:{backgroundPosition:"0 -150px"},over:{backgroundPosition:"0 0"}})),z=c.view("window-minimize-button",a.StyleSheet.create({base:a.Style(B.button,B.minimizeButton),disabled:B.disabledButton,enabled:{backgroundPosition:"0 -200px"},over:{backgroundPosition:"0 -50px"}})),q=f.view("window-toggle-fullscreen-button",a.StyleSheet.create({base:a.Style(B.button,B.toggleButton),disabled:B.disabledButton,enabled:{backgroundPosition:"0 -250px"},over:{backgroundPosition:"0 -100px"}})),U=function(e,t){return i.html.div({key:"window-controls",className:"window-controls",style:B.container,onMouseOver:i.forward(t,v.always(x)),onMouseOut:i.forward(t,v.always(E))},[I(e.close,i.forward(t,_)),z(e.minimize,i.forward(t,$)),q(e.toggle,i.forward(t,C))])};r.view=U},{"../../common/button":198,"../../common/cursor":200,"../../common/prelude":208,"../../common/style":214,"../../common/target":215,"../../common/toggle":216,"../../common/unknown":217,"../../lang/functional":220,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/helpers/sliced-to-array":25,reflex:141}],185:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/sliced-to-array")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("reflex"),a=e("../common/style"),u=e("./sidebar/toolbar"),s=o(u),c=e("./sidebar/tabs"),l=o(c),f=e("../common/prelude"),d=e("../common/cursor"),p=e("../common/unknown"),m=o(p),v=e("../common/stopwatch"),h=o(v),y=e("eased"),b=o(y),g=a.StyleSheet.create({base:{backgroundColor:"#24303D",height:"100%",position:"absolute",right:0,top:0,width:"320px",boxSizing:"border-box",zIndex:2}}),w=function(){var e=s.init(),t=n(e,2),r=t[0],o=t[1];return[{isAttached:!1,isOpen:!1,animation:null,display:{x:550,shadow:.5,spacing:16,toolbarOpacity:1,titleOpacity:1,tabWidth:288},toolbar:r},o.map(T)]};r.init=w;var k={type:"CreateWebView"};r.CreateWebView=k;var x={type:"Attach"};r.Attach=x;var E={type:"Detach"};r.Detach=E;var S={type:"Open"};r.Open=S;var O={type:"Close"};r.Close=O;var j={type:"Activate"};r.Activate=j;var _=function(e){return{type:"CloseTab",id:e}};r.CloseTab=_;var $=function(e){return{type:"ActivateTab",id:e}};r.ActivateTab=$;var C=function(e){return"Close"===e.type?_(e.id):"Activate"===e.type?$(e.id):{type:"Tabs",source:e}},A=function(e){return{type:"Animation",action:e}},P=f.always({type:"AnimationEnd"}),T=function(e){return"Attach"===e.type?x:"Detach"===e.type?E:"CreateWebView"===e.type?k:{type:"Toolbar",source:e,action:e}},M=d.cursor({get:function(e){return e.toolbar},set:function(e,t){return f.merge(e,{toolbar:t})},tag:T,update:s.update}),F=d.cursor({tag:A,get:function(e){return e.animation},set:function(e,t){return f.merge(e,{animation:t})},update:h.update}),R=function(e,t,r){return f.merge(e,{x:b["float"](e.x,t.x,r),shadow:b["float"](e.shadow,t.shadow,r),spacing:b["float"](e.spacing,t.spacing,r),toolbarOpacity:b["float"](e.toolbarOpacity,t.toolbarOpacity,r),titleOpacity:b["float"](e.titleOpacity,t.titleOpacity,r),tabWidth:b["float"](e.tabWidth,t.tabWidth,r)})},D={open:{x:0,shadow:.5,spacing:16,toolbarOpacity:1,titleOpacity:1,tabWidth:288},attached:{x:270,shadow:0,spacing:9,toolbarOpacity:0,titleOpacity:0,tabWidth:32},closed:{x:550,shadow:.5,spacing:16,toolbarOpacity:1,titleOpacity:1,tabWidth:288}},B=function(e){return e.isOpen?D.open:e.isAttached?D.attached:D.closed},I=function(e){return e.isOpen?550:200},z=function(e,t){var r=F(e,t.action),o=n(r,2),i=o[0].animation,a=o[1],u=I(e),s=e.isOpen?e.isAttached?D.attached:D.closed:D.open,c=B(e);return u>i.elapsed?[f.merge(e,{animation:i,display:b.ease(b.easeOutCubic,R,s,c,u,i.elapsed)}),a]:[f.merge(e,{animation:i,display:c}),a.map(P)]},q=function(e){return e.isOpen?[e,i.Effects.none]:F(f.merge(e,{isOpen:!0}),h.Start)},U=function(e){return e.isOpen?F(f.merge(e,{isOpen:!1}),h.Start):[e,i.Effects.none]},N=function(e){return e.isAttached?[e,i.Effects.none]:M(f.merge(e,{isAttached:!0}),s.Attach)},L=function(e){return e.isAttached?M(f.merge(e,{isAttached:!1}),s.Detach):[e,i.Effects.none]},V=function(e,t){return"Open"===t.type?q(e):"Close"===t.type?U(e):"Attach"===t.type?N(e):"Detach"===t.type?L(e):"Animation"===t.type?z(e,t):"AnimationEnd"===t.type?F(e,h.End):"Toolbar"===t.type?M(e,t.action):m.update(e,t)};r.update=V;var W=function(e,t,r){return i.html.div({key:"sidebar",className:"sidebar",style:a.Style(g.base,{transform:"translateX("+e.display.x+"px)",boxShadow:"rgba(0, 0, 0, "+e.display.shadow+") -50px 0 80px",paddingLeft:e.display.spacing+"px",paddingRight:e.display.spacing+"px"})},[i.thunk("tabs",l.view,t,i.forward(r,C,e.display),e.display),i.thunk("sidebar-toolbar",s.view,e.toolbar,i.forward(r,T),e.display)])};r.view=W},{"../common/cursor":200,"../common/prelude":208,"../common/stopwatch":213,"../common/style":214,"../common/unknown":217,"./sidebar/tabs":187,"./sidebar/toolbar":188,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/helpers/sliced-to-array":25,eased:127,reflex:141}],186:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=e("../../common/style"),a=e("./toolbar"),u=(n(a),e("../../common/image")),s=n(u),c=e("../../common/target"),l=n(c),f=e("../../common/unknown"),d=n(f),p=e("../../common/prelude"),m=e("../web-view/util"),v=e("../../common/cursor"),h={type:"Close"};r.Close=h;var y={type:"Select"};r.Select=y;var b={type:"Activate"};r.Activate=b;var g=function(e){return{type:"Target",source:e}},w=v.cursor({update:l.update,tag:g}),k=g(l.Out),x=g(l.Over),E=function(){return[{isPointerOver:!1},o.Effects.none]};r.init=E;var S=function(e,t){return"Target"===t.type?w(e,t.source):d.update(e,t)};r.update=S;var O=i.StyleSheet.create({base:{MozWindowDragging:"no-drag",borderRadius:"5px",height:"32px",color:"#fff",overflow:"hidden"},container:{height:"32px",lineHeight:"32px",width:"288px",color:"#fff",fontSize:"14px",overflow:"hidden",position:"relative"},selected:{backgroundColor:"#3D91F2"},unselected:{},title:{display:"block",margin:"0 10px 0 32px",overflow:"hidden",width:"246px",textOverflow:"ellipsis",whiteSpace:"nowrap"},closeMask:{background:"linear-gradient(\n      to right,\n      rgba(36,48,61,0) 0%,\n      rgba(36,48,61,1) 20%,\n      rgba(36,48,61,1) 100%)",width:"32px",height:"32px",position:"absolute",paddingLeft:"10px",right:0,top:0,transition:"transform 400ms cubic-bezier(0.215, 0.610, 0.355, 1.000),\n                opacity 300ms ease-out"},closeMaskSelected:{background:"linear-gradient(\n      to right,\n      rgba(61,145,242,0) 0%,\n      rgba(61,145,242,1) 20%,\n      rgba(61,145,242,1) 100%)"},closeMaskUnselected:{},closeMaskHidden:{opacity:0,transform:"translateX(16px)",pointerEvents:"none"},closeMaskVisible:{},closeIcon:{color:"#fff",fontFamily:"FontAwesome",fontSize:"12px",width:"32px",height:"32px",lineHeight:"32px",textAlign:"center"}}),j=s.view("favicon",i.StyleSheet.create({base:{borderRadius:"3px",left:"8px",position:"absolute",top:"8px",width:"16px",height:"16px"}})),_=function(e,t){var r=e.isSelected,n=e.tab;return o.html.div({className:"tab-close-mask",style:i.Style(O.closeMask,r?O.closeMaskSelected:O.closeMaskUnselected,n.isPointerOver?O.closeMaskVisible:O.closeMaskHidden)},[o.html.div({className:"tab-close-icon",style:O.closeIcon,onClick:function(e){e.stopPropagation(),t(h)}},[""])])},$=function(e,t,r){var n=r.tabWidth,a=r.titleOpacity;return o.html.div({className:"sidebar-tab",style:i.Style(O.base,e.isSelected?O.selected:O.unselected,{width:n+"px"}),onMouseOver:o.forward(t,p.always(x)),onMouseOut:o.forward(t,p.always(k)),onClick:o.forward(t,p.always(b))},[o.html.div({className:"sidebar-tab-inner",style:O.container},[j({uri:m.readFaviconURI(e)},t),o.html.div({className:"sidebar-tab-title",style:i.Style(O.title,{opacity:a})},[m.readTitle(e,"Untitled")]),o.thunk("close",_,e,t)])])};r.view=$},{"../../common/cursor":200,"../../common/image":205,"../../common/prelude":208,"../../common/style":214,"../../common/target":215,"../../common/unknown":217,"../web-view/util":196,"./toolbar":188,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],187:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=(e("../../common/prelude"),e("../../common/style")),a=(e("../../common/cursor"),e("./toolbar")),u=n(a),s=e("./tab"),c=n(s),l=e("../../common/unknown"),f=(n(l),i.StyleSheet.create({base:{width:"100%",height:"calc(100% - "+u.styleSheet.base.height+")",paddingTop:"32px",overflowY:"scroll",boxSizing:"border-box"}})),d=function(e){return{type:"Close",id:e}};r.Close=d;var p=function(e){return{type:"Activate",id:e}};r.Activate=p;var m=function(e){return function(t){return"Close"===t.type?d(e):"Activate"===t.type?p(e):{type:"Tab",id:e,source:t}}};r.ByID=m;var v=function(e,t,r){return o.html.div({className:"sidebar-tabs-scrollbox",style:f.base},e.order.map(function(n){return o.thunk(n,c.view,e.entries[n],o.forward(t,m(n)),r)}))};r.view=v},{"../../common/cursor":200,"../../common/prelude":208,"../../common/style":214,"../../common/unknown":217,"./tab":186,"./toolbar":188,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],188:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/sliced-to-array")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("reflex"),a=e("../../common/style"),u=e("../../common/toggle"),s=o(u),c=e("../../common/button"),l=o(c),f=e("../../common/prelude"),d=e("../../common/cursor"),p=e("../../common/unknown"),m=o(p),v={type:"Attach"};r.Attach=v;var h={type:"Detach"};r.Detach=h;var y={type:"CreateWebView"};r.CreateWebView=y;var b=function(e){return"Check"===e.type?v:"Uncheck"===e.type?h:{type:"Toggle",action:e}},g=function(e){return"Press"===e.type?y:{type:"CloseButton",source:e}},w=d.cursor({get:function(e){return e.pin},set:function(e,t){return f.merge(e,{pin:t})},tag:b,update:s.update}),k=d.cursor({get:function(e){return e.close},set:function(e,t){return f.merge(e,{close:t})},tag:g,update:l.update}),x=function(){var e=s.init(),t=n(e,2),r=t[0],o=t[1],a=l.init(!1,!1,!1,!1,""),u=n(a,2),c=u[0],f=u[1];return[{pin:r,close:c},i.Effects.batch([o.map(b),f.map(g)])]};r.init=x;var E=function(e){var t=e.pin,r=e.close;return{pin:t,close:r}};r.Model=E;var S=function(e,t){return"Attach"===t.type?w(e,s.Check):"Detach"===t.type?w(e,s.Uncheck):"Toggle"===t.type?w(e,t.action):"CloseButton"===t.type?k(e,t.source):m.update(e,t)};r.update=S;var O=a.StyleSheet.create({base:{left:"0",height:"48px",position:"absolute",bottom:"0",width:"100%"},invisible:{opacity:0,pointerEvents:"none"}});r.styleSheet=O;var j=s.view("pin-button",a.StyleSheet.create({base:{cursor:"pointer",height:"32px",width:"32px",margin:"8px",borderRadius:"5px",backgroundRepeat:"no-repeat",backgroundColor:"transparent",backgroundPosition:"center",backgroundImage:"url(css/pin.png)",backgroundSize:null==window.devicePixelRatio?"24px 36px":24/window.devicePixelRatio+"px "+36/window.devicePixelRatio+"px"},checked:{backgroundColor:"#3D91F2"}})),_=l.view("create-tab-button",a.StyleSheet.create({base:{MozWindowDragging:"no-drag",color:"rgba(255,255,255,0.8)",fontFamily:"FontAwesome",fontSize:"18px",lineHeight:"32px",position:"absolute",textAlign:"center",bottom:"8px",right:"8px",width:"32px",height:"32px",background:"transparent"}})),$=function(e,t,r){return i.html.div({key:"sidebar-toolbar",className:"sidebar-toolbar",style:a.Style(O.base,0===r.toolbarOpacity?O.invisible:{opacity:r.toolbarOpacity})},[i.thunk("pin",j,e.pin,i.forward(t,b)),i.thunk("close",_,e.close,i.forward(t,g))])};r.view=$},{"../../common/button":198,"../../common/cursor":200,"../../common/prelude":208,"../../common/style":214,"../../common/toggle":216,"../../common/unknown":217,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/helpers/sliced-to-array":25,reflex:141}],189:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/promise")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("reflex"),a=e("../lang/functional"),u=e("../common/prelude"),s=e("../common/result"),c=o(s),l=e("../common/runtime"),f=o(l),d=e("../common/unknown"),p=o(d),m=e("../common/url-helper"),v=o(m),h=e("../polyfill/fetch"),y=(o(h),e("../common/style")),b=1e3,g=60*b,w="https://api.github.com/repos/mozilla/browser.html/contents/HEAD?ref=refs/heads/gh-pages",k={type:"ApplyUpdates"},x={type:"RuntimeUpdateAvailable"},E=function(e){return{type:"ApplicationVersionFetched",version:e}},S=function(e){return{type:"AvailableApplicationVersionFetched",response:e}},O={type:"CheckApplicationUpdate"};r.CheckApplicationUpdate=O;var j={type:"CheckRuntimeUpdate"};r.CheckRuntimeUpdate=j;var _=function(e){return{type:"Report",result:e}},$=function(e,t,r,n){return{eTag:e,pollInterval:t,time:r,version:n}},C=function(e){return null==e||null==e.content?c.error("Unable to decode fetched application version from response:\n "+JSON.stringify(json,2,2)):c.ok(atob(e.content.toString()))},A=function(e){var t=e.headers.get("ETag"),r=e.headers.get("X-Poll-Interval"),n="string"==typeof r?parseInt(r)*b:null,o=Date.now(),i=200===e.status?e.json().then(C).then(a.partial($,t,n,o)):304===e.status?$(t,n,o,c.ok(null)):$(t,n,o,c.error(Error("Failed to check remote updates "+e.statusText)));return i},P=function(e,t){return i.Task.future(function(){var r=null==t?{}:{"If-None-Match":t},n=fetch(e,{headers:r}).then(A).then(c.ok,c.error);return n})};r.fetchAvailableApplicationVersion=P;var T=f.receive("update-available").map(u.always(x));r.receiveRuntimeUpdateAvailableNotification=T;var M=f.send({type:"force-update-check"});r.checkRuntimeUpdate=M;var F=function(e){return 200===e.status?e.text().then(c.ok,c.error):c.error(Error("Can't reach HEAD: "+e.statusText))},R=function(e){return i.Task.future(function(){var t=v.resolve(e,"HEAD"),r=v.parse(t),o=r.hostname,i="0.0.0.0"===o||"127.0.0.1"===o||"localhost"===o,a=i?n.resolve(c.ok(null)):fetch(t).then(F);return a})},D=function(e){var t=e.runtime;return t.isUpdateAvailable},B=function(e){var t=e.application;return null==t.version?!1:null==t.availableVersion?!1:t.version!==t.availableVersion},I=function(){var e=arguments.length<=0||void 0===arguments[0]?w:arguments[0],t=arguments.length<=1||void 0===arguments[1]?location.href:arguments[1];return[{application:{applicationURI:t,updateURI:e,eTag:null,pollInterval:10*g,lastChecked:null,version:null,availableVersion:null},runtime:{isUpdateAvailable:!1}},i.Effects.batch([i.Effects.task(T),i.Effects.task(R(t)).map(E),i.Effects.task(P(e,null)).map(S)])]};r.init=I;var z=function(e){return[e,i.Effects.task(M).map(c.ok).map(_)]},q=function(e){return[e,i.Effects.batch([i.Effects.task(P(e.application.updateURI,e.eTag)).map(S),null==e.application.version?i.Effects.task(R(e.application.applicationURI)).map(E):i.Effects.none])]},U=function(e){return[u.merge(e,{runtime:u.merge(e.runtime,{isUpdateAvailable:!0})}),i.Effects.none]},N=function(e,t){return t.isOk?[u.merge(e,{
application:u.merge(e.application,{version:t.value})}),i.Effects.none]:[e,i.Effects.task(p.error(t.error))]},L=function(e,t){return t.isOk?V(e,t.value):[e,i.Effects.task(p.error(version.error))]},V=function(e,t){return[u.merge(e,{application:u.merge(e.application,{eTag:null==t.eTag?e.application.eTag:t.eTag,lastChecked:t.time,pollInterval:null==t.pollInterval?e.application.pollInterval:t.pollInterval,availableVersion:t.version.isError?e.application.availableVersion:null==t.version.value?e.application.availableVersion:t.version.value})}),t.version.isOk?i.Effects.none:i.Effects.task(p.error(t.version.error))]},W=function(e){return[e,B(e)?D(e)?i.Effects.task(f.cleanRestart).map(_):i.Effects.task(f.cleanReload).map(_):D(e)?i.Effects.task(f.restart).map(_):i.Effects.none]},H=function(e,t){return[e,t.isOk?i.Effects.none:i.Effects.task(p.error(t.error))]},G=function(e,t){return"CheckRuntimeUpdate"===t.type?z(e):"RuntimeUpdateAvailable"===t.type?U(e):"CheckApplicationUpdate"===t.type?q(e):"AvailableApplicationVersionFetched"===t.type?L(e,t.response):"ApplicationVersionFetched"===t.type?N(e,t.version):"ApplyUpdates"===t.type?W(e):"Report"===t.type?H(e,t.result):p.update(e,t)};r.update=G;var Z=y.StyleSheet.create({base:{position:"fixed",bottom:"10px",width:"400px",left:"calc(50vw - 200px)",backgroundColor:"rgba(36,60,83,0.95)",borderRadius:"4px",padding:"8px",color:"white",transition:"opacity 500ms ease-in",fontWeight:"200",cursor:"default"},visible:{},hidden:{opacity:0,pointerEvents:"none"},button:{padding:"8px 20px",backgroundColor:"rgb(115,206,113)",color:"inherit",borderRadius:"4px","float":"right",cursor:"pointer"},message:{"float":"left",padding:"8px"}}),Q=function(e,t){return i.html.div({style:y.Style(Z.base,D(e)?Z.visible:B(e)?Z.visible:Z.hidden)},[i.html.div({key:"bannerMessage",style:Z.message},["Hey! An update just for you!"]),i.html.button({key:"bannerButton",style:Z.button,onClick:i.forward(t,u.always(k))},[D(e)?"Apply (restart required)":"Apply"])])};r.view=Q},{"../common/prelude":208,"../common/result":209,"../common/runtime":210,"../common/style":214,"../common/unknown":217,"../common/url-helper":218,"../lang/functional":220,"../polyfill/fetch":221,"babel-runtime/core-js/promise":14,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],190:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/sliced-to-array")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("reflex"),a=e("../common/prelude"),u=e("../common/cursor"),s=e("../lang/functional"),c=e("driver"),l=e("./web-view/shell"),f=o(l),d=e("./web-view/progress"),p=o(d),m=e("./web-view/navigation"),v=o(m),h=e("./web-view/security"),y=o(h),b=e("./web-view/page"),g=o(b),w=e("./sidebar/tab"),k=o(w),x=e("../common/unknown"),E=o(x),S=e("../common/stopwatch"),O=o(S),j=e("../common/style"),_=e("./web-view/util"),$=o(c),C=e("../common/url-helper"),A=o(C),P=e("../common/focusable"),T=(o(P),e("eased")),M=o(T),F={type:"Select"};r.Select=F;var R={type:"Unselect"};r.Unselect=R;var D={type:"Selected"};r.Selected=D;var B={type:"Unselected"};r.Unselected=B;var I={type:"Activate"};r.Activate=I;var z={type:"Activated"};r.Activated=z;var q={type:"Deactivate"};r.Deactivate=q;var U={type:"Deactivated"};r.Deactivated=U;var N={type:"Close"};r.Close=N;var L={type:"Closed"};r.Closed=L;var V={type:"Edit"};r.Edit=V;var W={type:"ShowTabs"};r.ShowTabs=W;var H={type:"Create"};r.Create=H;var G={type:"Focus"};r.Focus=G;var Z=function(e){return{type:"Load",uri:e}};r.Load=Z;var Q=function(e){var t=e.frameElement,r=e.uri,n=e.name,o=e.features;return $.element.use(t),{type:"Open!WithMyIFrameAndInTheCurrentTick",isForced:!0,options:{uri:r,name:n,features:o,inBackground:!1}}};r.OpenSyncWithMyIFrame=Q;var K=function(e){return{type:"ModalPrompt",detail:e}};r.ModalPrompt=K;var X=function(e){return{type:"Authentificate",detail:e}};r.Authentificate=X;var J=function(e){return{type:"Error",detail:e}};r.ReportError=J;var Y=function(e){return{type:"LoadStart",time:e}};r.LoadStart=Y;var ee=function(e){return{type:"LoadEnd",time:e}};r.LoadEnd=ee;var te=function(e,t){return{type:"LocationChanged",uri:e,time:t}};r.LocationChanged=te;var re=function(e){return{type:"ContextMenu",detail:e}};r.ContextMenu=re;var ne=function(e){return{type:"Shell",action:e}},oe=ne(f.Focus),ie=ne(f.Blur),ae=ne(f.ZoomIn);r.ZoomIn=ae;var ue=ne(f.ZoomOut);r.ZoomOut=ue;var se=ne(f.ResetZoom);r.ResetZoom=se;var ce=ne(f.MakeVisibile);r.MakeVisibile=ce;var le=ne(f.MakeNotVisible);r.MakeNotVisible=le;var fe=function(e){return{type:"Navigation",action:e}},de=fe(v.Stop);r.Stop=de;var pe=fe(v.Reload);r.Reload=pe;var me=fe(v.GoBack);r.GoBack=me;var ve=fe(v.GoForward);r.GoForward=ve;var he=function(e){return{type:"Security",action:e}},ye=s.compose(he,y.Changed),be=function(e){return{type:"Page",action:e}},ge=be(g.FirstPaint),we=be(g.DocumentFirstPaint),ke=s.compose(be,g.TitleChanged),xe=s.compose(be,g.IconChanged),Ee=s.compose(be,g.MetaChanged),Se=(s.compose(be,g.Scrolled),s.compose(be,g.OverflowChanged)),Oe=function(e){return"Close"===e.type?N:"Select"===e.type?F:"Activate"===e.type?I:{type:"Tab",source:e}},je=function(e){return{type:"Progress",action:e}},_e=function(e){return function(t){return"End"===t.type?e:{type:"Animation",action:t}}},$e=function(e){return"End"===e.type?D:{type:"SelectAnimation",action:e}},Ce=u.cursor({get:function(e){return e.progress},set:function(e,t){return a.merge(e,{progress:t})},tag:je,update:function(e,t){return p.update(e,"LoadStart"===t.type?p.Start(t.time):"LoadEnd"===t.type?p.LoadEnd(t.time):t)}}),Ae=u.cursor({get:function(e){return e.page},set:function(e,t){return a.merge(e,{page:t})},tag:be,update:function(e,t){return g.update(e,"LoadStart"===t.type?g.LoadStart:"LoadEnd"===t.type?g.LoadEnd:t)}}),Pe=u.cursor({get:function(e){return e.tab},set:function(e,t){return a.merge(e,{tab:t})},tag:Oe,update:k.update}),Te=u.cursor({get:function(e){return e.shell},set:function(e,t){return a.merge(e,{shell:t})},tag:ne,update:f.update}),Me=u.cursor({get:function(e){return e.security},set:function(e,t){return a.merge(e,{security:t})},tag:he,update:y.update}),Fe=u.cursor({get:function(e){return e.navigation},set:function(e,t){return a.merge(e,{navigation:t})},tag:fe,update:v.update}),Re=(u.cursor({get:function(e){return e.animation},set:function(e,t){return a.merge(e,{animation:t})},tag:_e,update:O.update}),function(e,t){var r=O.update(e.animation,t),o=n(r,2),u=o[0],s=o[1],c=0,l=1,f=200;return f>u.elapsed?[a.merge(e,{animation:u,display:{opacity:M.ease(M.easeOutCubic,M["float"],c,l,f,u.elapsed)}}),s.map($e)]:[a.merge(e,{animation:null,display:{opacity:l}}),i.Effects.receive(O.End).map($e)]}),De=function(e,t){var r=f.init(e,!t.inBackground),o=n(r,2),a=o[0],u=o[1],s=v.init(e,t.uri),c=n(s,2),l=c[0],d=c[1],m=g.init(t.uri),h=n(m,2),b=h[0],w=h[1],x=y.init(),E=n(x,2),S=E[0],j=E[1],_=p.init(),$=n(_,2),C=$[0],A=$[1],P=O.init(),T=n(P,2),M=T[0],F=T[1],R=k.init(),D=n(R,2),B=D[0],z=D[1];return[{id:e,name:t.name,features:t.name,isSelected:!1,isActive:!1,display:{opacity:t.inBackground?0:1},shell:a,security:S,navigation:l,page:b,tab:B,progress:C,animation:M},i.Effects.batch([u.map(ne),w.map(be),z.map(Oe),j.map(he),d.map(fe),A.map(je),F.map(_e),t.inBackground?i.Effects.none:i.Effects.receive(I)])]};r.init=De;var Be=function(e){var t=O.update(e.animation,O.Start),r=n(t,2),o=r[0],i=r[1];return[a.merge(e,{animation:o}),i.map($e)]},Ie=function(e){return e.isSelected?[e,i.Effects.none]:Be(a.merge(e,{isSelected:!0}))},ze=function(e){return e.isSelected?[a.merge(e,{isSelected:!1,display:{opacity:1}}),i.Effects.none]:[e,i.Effects.none]},qe=function(e){return e.isActive?[e,i.Effects.none]:[a.merge(e,{isActive:!0,isSelected:!0}),i.Effects.receive(z)]},Ue=function(e){return Te(e,f.Focus)},Ne=function(e){return e.isActive?[a.merge(e,{isActive:!1}),i.Effects.receive(U)]:[e,i.Effects.none]},Le=function(e){return[e,i.Effects.none]},Ve=function(e){return e.isActive?Te(e,f.Focus):qe(e)},We=function(e,t){return Fe(e,v.Load(t))},He=function(e,t){return a.batch(Xe,e,[je(p.Start(t)),be(g.LoadStart),he(y.LoadStart)])},Ge=function(e,t){return a.batch(Xe,e,[je(p.LoadEnd(t)),be(g.LoadEnd)])},Ze=function(e,t){return a.batch(Xe,e,[je(p.Connect(t))])},Qe=function(e,t){return a.batch(Xe,e,[fe(v.LocationChanged(t)),be(g.LocationChanged(t))])},Ke=function(e){return[e,i.Effects.receive(L)]},Xe=function(e,t){return"Select"===t.type?Ie(e):"Selected"===t.type?[e,i.Effects.none]:"Unselect"===t.type?ze(e):"Unselected"===t.type?[e,i.Effects.none]:"Activate"===t.type?qe(e):"Activated"===t.type?Ue(e):"Deactivate"===t.type?Ne(e):"Deactivated"===t.type?Le(e):"Focus"===t.type?Ve(e):"Load"===t.type?We(e,t.uri):"LoadStart"===t.type?He(e,t.time):"LoadEnd"===t.type?Ge(e,t.time):"Connect"===t.type?Ze(e,t.time):"LocationChanged"===t.type?Qe(e,t.uri):"Close"===t.type?Ke(e):"ZoomIn"===t.type?Te(e,f.ZoomIn(e.id)):"ZoomOut"===t.type?Te(e,f.ZoomOut(e.id)):"ResetZoom"===t.type?Te(e,f.ResetZoom(e.id)):"SelectAnimation"===t.type?Re(e,t.action):"Progress"===t.type?Ce(e,t.action):"Shell"===t.type?Te(e,t.action):"Page"===t.type?Ae(e,t.action):"Tab"===t.type?Pe(e,t.source):"Security"===t.type?Me(e,t.action):"Navigation"===t.type?Fe(e,t.action):E.update(e,t)};r.update=Xe;var Je="27px",Ye="21px",et="250px",tt=j.StyleSheet.create({webview:{position:"absolute",top:0,left:0,width:"100%",height:"100%",mozUserSelect:"none",cursor:"default",zIndex:2},webviewActive:{},webviewSelected:{zIndex:3},webviewInactive:{pointerEvents:"none",zIndex:1},iframe:{display:"block",position:"absolute",top:Je,left:0,width:"100%",height:"calc(100% - "+Je+")",mozUserSelect:"none",borderWidth:0,backgroundColor:"white",MozWindowDragging:"no-drag"},topbar:{backgroundColor:"white",position:"absolute",top:0,left:0,width:"100%",height:Je},combobox:{MozWindowDragging:"no-drag",position:"absolute",left:"50%",top:0,height:Ye,lineHeight:Ye,width:et,marginTop:"calc("+Je+" / 2 - "+Ye+" / 2)",marginLeft:"calc("+et+" / -2)",borderRadius:"5px",cursor:"text"},lightText:{color:"rgba(0, 0, 0, 0.8)"},darkText:{color:"rgba(255, 255, 255, 0.8)"},titleContainer:{fontSize:"13px",position:"absolute",top:0,left:0,paddingLeft:"30px",paddingRight:"30px",width:"calc(100% - 60px)",textAlign:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},iconSearch:{fontFamily:"FontAwesome",fontSize:"14px",left:"5px",position:"absolute"},iconSecure:{fontFamily:"FontAwesome",marginRight:"6px"},iconInsecure:{display:"none"},iconShowTabs:{MozWindowDragging:"no-drag",backgroundImage:"url(css/hamburger.sprite.png)",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"50px auto",position:"absolute",height:"13px",right:"8px",top:"7px",width:"14px"},iconShowTabsDark:{backgroundPosition:"0 -50px"},iconShowTabsBright:null,iconCreateTab:{MozWindowDragging:"no-drag",color:"rgba(0,0,0,0.8)",fontFamily:"FontAwesome",fontSize:"18px",lineHeight:"32px",position:"absolute",textAlign:"center",bottom:0,right:0,width:"30px",height:"32px"},iconCreateTabDark:{color:"rgba(255,255,255,0.8)"},iconCreateTabBright:null}),rt=function(e,t){return i.html.iframe({id:"web-view-"+e.id,src:e.navigation.initiatedURI,"data-current-uri":e.navigation.currentURI,"data-name":e.name,"data-features":e.features,element:$.element,style:tt.iframe,attributes:{mozbrowser:!0,remote:!0,mozapp:A.isPrivileged(e.navigation.currentURI)?A.getManifestURL().href:void 0,mozallowfullscreen:!0},isFocused:$.focus(e.shell.isFocused),onBlur:c.on(t,a.always(ie)),onFocus:c.on(t,a.always(oe)),onMozBrowserClose:c.on(t,a.always(N)),onMozBrowserOpenWindow:c.on(t,ut),onMozBrowserOpenTab:c.on(t,st),onMozBrowserContextMenu:c.on(t,ct),onMozBrowserError:c.on(t,dt),onMozBrowserLoadStart:c.on(t,mt),onMozBrowserConnected:c.on(t,vt),onMozBrowserLoadEnd:c.on(t,ht),onMozBrowserFirstPaint:c.on(t,yt),onMozBrowserDocumentFirstPaint:c.on(t,bt),onMozBrowserLocationChange:c.on(t,pt),onMozBrowserMetaChange:c.on(t,kt),onMozBrowserIconChange:c.on(t,wt),onMozBrowserLocationChange:c.on(t,pt),onMozBrowserSecurityChange:c.on(t,Et),onMozBrowserTitleChange:c.on(t,gt),onMozBrowserShowModalPrompt:c.on(t,lt),onMozBrowserUserNameAndPasswordRequired:c.on(t,ft),onMozBrowserScrollAreaChanged:c.on(t,xt)})},nt=function(e,t){var r=_.isDark(e);return i.html.div({className:r?"webview webview-is-dark web-view-"+e.id:"webview web-view-"+e.id,style:j.Style(tt.webview,e.isActive?tt.webviewActive:e.isSelected?tt.webviewSelected:tt.webviewInactive,e.display)},[rt(e,t),i.html.div({className:"webview-topbar",style:j.Style(tt.topbar,null!=e.page.pallet.background?{backgroundColor:e.page.pallet.background}:null)},[i.html.div({className:"webview-combobox",style:j.Style(tt.combobox,r?tt.darkText:tt.lightText),onClick:i.forward(t,a.always(V))},[i.html.span({className:"webview-search-icon",style:tt.iconSearch},[""]),i.html.div({className:"webview-title-container",style:tt.titleContainer},[i.html.span({className:"webview-security-icon",style:e.security.secure?tt.iconSecure:tt.iconInsecure},[""]),i.html.span({className:"webview-title"},[_.readTitle(e,"Untitled")])])]),i.html.div({className:"webview-show-tabs-icon",style:j.Style(tt.iconShowTabs,r?tt.iconShowTabsDark:tt.iconShowTabsBright),onClick:i.forward(t,a.always(W))})]),p.view(e.progress,t),i.html.div({className:"global-create-tab-icon",style:j.Style(tt.iconCreateTab,r?tt.iconCreateTabDark:tt.iconCreateTabBright),onClick:i.forward(t,a.always(H))},[""])])};r.view=nt;var ot=(a.always(N),function(e){var t=e.detail;return t}),it=function(e){e.detail;return performance.now()},at=function(e){var t=e.detail;return{frameElement:t.frameElement,uri:t.url,name:t.name,features:t.features}},ut=s.compose(Q,at),st=s.compose(Q,at),ct=s.compose(re,ot),lt=s.compose(K,ot),ft=s.compose(X,ot),dt=s.compose(J,ot),pt=function(e){var t=e.detail;return te(t,performance.now())},mt=s.compose(Y,it),vt=s.compose(p.Connect,it),ht=s.compose(ee,it),yt=a.always(ge),bt=a.always(we),gt=s.compose(ke,ot),wt=s.compose(xe,ot),kt=function(e){var t=e.detail,r=t.name,n=t.content;return Ee(r,n)},xt=function(e){var t=e.detail,r=e.target;return Se(t.height>r.parentNode.clientHeight)},Et=function(e){var t=e.detail,r=t.state,n=t.extendedValidation;return ye(r,n)}},{"../common/cursor":200,"../common/focusable":204,"../common/prelude":208,"../common/stopwatch":213,"../common/style":214,"../common/unknown":217,"../common/url-helper":218,"../lang/functional":220,"./sidebar/tab":186,"./web-view/navigation":191,"./web-view/page":192,"./web-view/progress":193,"./web-view/security":194,"./web-view/shell":195,"./web-view/util":196,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/helpers/sliced-to-array":25,driver:219,eased:127,reflex:141}],191:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../../common/prelude"),i=e("../../common/result"),a=n(i),u=e("reflex"),s=e("../../common/unknown"),c=n(s),l={type:"Stop"};r.Stop=l;var f={type:"Reload"};r.Reload=f;var d={type:"GoBack"};r.GoBack=d;var p={type:"GoForward"};r.GoForward=p;var m=function(e){return{type:"Load",uri:e}};r.Load=m;var v=function(e){return{type:"LocationChanged",uri:e}};r.LocationChanged=v;var h=function(e){return{type:"CanGoBackChanged",result:e}};r.CanGoBackChanged=h;var y=function(e){return{type:"CanGoForwardChanged",result:e}};r.CanGoForwardChanged=y;var b=function(e){return{type:"Stopped",result:e}};r.Stopped=b;var g=function(e){return{type:"Reloaded",result:e}};r.Reloaded=g;var w=function(e){return{type:"WentBack",result:e}};r.WentBack=w;var k=function(e){return{type:"WentForward",result:e}};r.WentForward=k;var x=function(e){return u.Task.io(function(t){var r=document.getElementById("web-view-"+e);null==r?t(u.Task.succeed(a.error("WebView with id web-view-"+e+" not found"))):null==r.getCanGoBack?t(u.Task.succeed(a.error(".getCanGoBack is not supported by runtime"))):r.getCanGoBack().onsuccess=function(e){t(u.Task.succeed(a.ok(e.target.result)))}})};r.canGoBack=x;var E=function(e){return u.Task.io(function(t){var r=document.getElementById("web-view-"+e);null==r?t(u.Task.succeed(a.error("WebView with id web-view-"+e+" not found"))):null==r.getCanGoForward?t(u.Task.succeed(a.error(".getCanGoForward is not supported by runtime"))):r.getCanGoForward().onsuccess=function(e){t(u.Task.succeed(a.ok(e.target.result)))}})};r.canGoForward=E;var S=function(e){return function(t){return u.Task.io(function(r){var n=document.getElementById("web-view-"+t);r(u.Task.succeed(null==n?a.error("WebView with id web-view-"+t+" not found"):null==n[e]?a.error("."+e+" is not supported by runtime"):a.ok(void n[e]())))})}},O=S("stop");r.stop=O;var j=S("reload");r.reload=j;var _=S("goBack");r.goBack=_;var $=S("goForward");r.goForward=$;var C=function(e){return u.Task.io(function(t){console.warn(e)})},A=function(e,t){return[{id:e,canGoBack:!1,canGoForward:!1,initiatedURI:t,currentURI:t},u.Effects.none]};r.init=A;var P=function(e,t){return t.result.isOk?[e,u.Effects.none]:[e,u.Effects.task(C(t.result.error))]},T=function(e,t){return"CanGoForwardChanged"===t.type?t.result.isOk?[o.merge(e,{canGoForward:t.result.value}),u.Effects.none]:[e,u.Effects.task(C(t.result.error))]:"CanGoBackChanged"===t.type?t.result.isOk?[o.merge(e,{canGoBack:t.result.value}),u.Effects.none]:[e,u.Effects.task(C(t.result.error))]:"LocationChanged"===t.type?[o.merge(e,{currentURI:t.uri}),u.Effects.batch([u.Effects.task(x(e.id)).map(h),u.Effects.task(E(e.id)).map(y)])]:"Load"===t.type?[o.merge(e,{initiatedURI:t.uri,currentURI:t.uri}),u.Effects.none]:"Stop"===t.type?[e,u.Effects.task(O(e.id)).map(b)]:"Reload"===t.type?[e,u.Effects.task(j(e.id)).map(g)]:"GoBack"===t.type?[e,u.Effects.task(_(e.id)).map(w)]:"GoForward"===t.type?[e,u.Effects.task($(e.id)).map(k)]:"Stopped"===t.type?P(e,t):"Reloaded"===t.type?P(e,t):"WentBack"===t.type?P(e,t):"WentForward"===t.type?P(e,t):c.update(e,t)};r.update=T},{"../../common/prelude":208,"../../common/result":209,"../../common/unknown":217,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],192:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/to-consumable-array")["default"],o=e("babel-runtime/core-js/promise")["default"],i=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a=e("reflex"),u=e("../../common/prelude"),s=e("../../common/favicon"),c=i(s),l=e("../../browser/pallet"),f=i(l),d=e("../../common/unknown"),p=i(d),m={type:"DocumentFirstPaint"};r.DocumentFirstPaint=m;var v={type:"FirstPaint"};r.FirstPaint=v;var h=function(e,t){return{type:"MetaChanged",name:e,content:t}};r.MetaChanged=h;var y=function(e){return{type:"TitleChanged",title:e}};r.TitleChanged=y;var b=function(e){return{type:"IconChanged",icon:e}};r.IconChanged=b;var g=function(e){return{type:"OverflowChanged",isOverflown:e}};r.OverflowChanged=g;var w=function(e){return{type:"Scrolled",detail:e}};r.Scrolled=w;var k=function(e){return{type:"CuratedColorUpdate",color:e}};r.CuratedColorUpdate=k;var x={type:"CreatePallet"};r.CreatePallet=x;var E={type:"LoadStart"};r.LoadStart=E;var S={type:"LoadEnd"};r.LoadEnd=S;var O=function(e){return{type:"LocationChanged",uri:e}};r.LocationChanged=O;var j=function(e){return a.Task.future(function(){return o.resolve(e)})},_=function(e,t){var r=t.icon,n=c.getBestIcon([e.icon,r]),o=n.bestIcon,i=n.faviconURI;return[u.merge(e,{icon:o,faviconURI:i}),a.Effects.none]},$=function(e,t){var r=t.name,n=t.content;return["theme-color"===r?u.merge(e,{themeColor:n}):e,a.Effects.none]},C=function(e,t){return[u.merge(e,{pallet:null!=e.curatedColor?f.create(e.curatedColor.background,e.curatedColor.foreground):null!=e.themeColor?f.create.apply(f,n((e.themeColor+"|'").split("|"))):f.blank}),a.Effects.none]},A=function(e){return[{uri:e,title:null,icon:null,faviconURI:null,themeColor:null,curatedColor:null,pallet:f.blank},a.Effects.none]};r.init=A;var P=function(e,t){return"LoadStart"===t.type?[u.merge(e,{title:null,icon:null,faviconURI:null,themeColor:null,curatedColor:null,pallet:f.blank}),a.Effects.task(f.requestCuratedColor(e.uri)).map(k)]:"LoadEnd"===t.type?[e,a.Effects.task(j(x))]:"TitleChanged"===t.type?[u.merge(e,{title:t.title}),a.Effects.none]:"IconChanged"===t.type?_(e,t):"MetaChanged"===t.type?$(e,t):"CuratedColorUpdate"===t.type?[u.merge(e,{curatedColor:t.color}),a.Effects.none]:"DocumentFirstPaint"===t.type?[e,a.Effects.receive(x)]:"CreatePallet"===t.type?C(e):"LocationChanged"===t.type?t.uri!==e.uri?[u.merge(e,{uri:t.uri,curatedColor:null,themeColor:null}),a.Effects.task(f.requestCuratedColor(t.uri)).map(k)]:[e,a.Effects.none]:"FirstPaint"===t.type?[e,a.Effects.none]:"OverflowChanged"===t.type?[e,a.Effects.none]:"Scrolled"===t.type?[e,a.Effects.none]:p.update(e,t)};r.update=P},{"../../browser/pallet":181,"../../common/favicon":203,"../../common/prelude":208,"../../common/unknown":217,"babel-runtime/core-js/promise":14,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/helpers/to-consumable-array":26,reflex:141}],193:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=(e("eased"),e("../../common/style")),a=e("../../common/prelude"),u=e("../../common/unknown"),s=n(u),c=1e3,l=function(e){return{type:"Start",time:e}};r.Start=l;var f=function(e){return{type:"Connect",time:e}};r.Connect=f;var d=function(e){return{type:"LoadEnd",time:e}};r.LoadEnd=d;var p=function(e){return{type:"Tick",time:e}};r.Tick=p;var m=.2,v=.7,h=1*c,y=2*c,b=200,g=Math.PI/2,w=function(e,t){return Math.atan(g/2*(e/t))/g},k=function(e){var t=e.loadStart,r=e.updateTime;return m*w(r-t,h)},x=function(e){var t=e.connectTime,r=e.updateTime,n=k(e),o=v-n;return n+o*w(r-t,y)},E=function(e){return e.connectTime},S=function(e){return e.loadEnd},O=function(e){var t=e.loadEnd,r=e.updateTime,n=x(e),o=1-n;return n+o*(r-t)/b},j=function(e){return e?S(e)?O(e):E(e)?x(e):k(e):0};r.progress=j;var _=function(e){return[a.merge({loadStart:e,loadEnd:null,updateTime:e,connectTime:null,display:{opacity:1,x:0}}),o.Effects.tick(p)]},$=function(e,t){return[a.merge(t,{connectTime:e}),o.Effects.none]},C=function(e,t){return[a.merge(t,{loadEnd:e,updateTime:e}),o.Effects.none]},A=function(e,t){return[a.merge(t,{updateTime:e,display:{opacity:1,x:-100+100*j(t)}}),o.Effects.tick(p)]};r.tick=A;var P=function(e,t){return[a.merge(t,{display:{opacity:0,x:0}}),o.Effects.none]},T=function(){return[{loadStart:null,loadEnd:null,updateTime:null,connectTime:null,display:{opacity:0,x:0}},o.Effects.none]};r.init=T;var M=function(e,t){return"Start"===t.type?_(t.time):null==e?_(t.time):"LoadEnd"===t.type?C(t.time,e):"Connect"===t.type?$(t.time,e):"Tick"===t.type&&j(e)<1?A(t.time,e):"Tick"===t.type?P(t.time,e):s.update(e,t)};r.update=M;var F=i.StyleSheet.create({bar:{position:"absolute",top:"27px",height:"4px",width:"100%",pointerEvents:"none"},arrow:{width:"4px",height:"4px",position:"absolute",right:"-4px"}}),R=function(e){return o.html.div({className:"progressbar",style:i.Style(F.bar,{backgroundColor:"#4A90E2",transform:"translateX("+e.display.x+"%)",opacity:e.display.opacity})},[o.html.div({className:"progressbar-arrow",style:i.Style(F.arrow,{backgroundImage:"linear-gradient(135deg, #4A90E2 50%, transparent 50%)"})})])};r.view=R},{"../../common/prelude":208,"../../common/style":214,"../../common/unknown":217,"babel-runtime/helpers/interop-require-wildcard":24,eased:127,reflex:141}],194:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=e("../../common/unknown"),a=n(i),u=e("../../common/prelude"),s={type:"LoadStart"};r.LoadStart=s;var c=function(e,t){return{type:"Changed",state:e,extendedValidation:t}};r.Changed=c;var l=function(){return[{state:"insecure",secure:!1,extendedValidation:!1},o.Effects.none]};r.init=l;var f=function(e,t){return"LoadStart"===t.type?[u.merge(e,{state:"insecure",secure:!1,extendedValidation:!1}),o.Effects.none]:"Changed"===t.type?[u.merge(e,{state:t.state,secure:"secure"===t.state,extendedValidation:t.extendedValidation}),o.Effects.none]:a.update(e,t)};r.update=f},{"../../common/prelude":208,"../../common/unknown":217,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],195:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/promise")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("reflex"),a=e("../../common/prelude"),u=e("../../common/focusable"),s=o(u),c=e("../../common/result"),l=o(c),f={type:"MakeVisibile"};r.MakeVisibile=f;var d={type:"MakeNotVisible"};r.MakeNotVisible=d;var p={type:"ZoomIn"};r.ZoomIn=p;var m={type:"ZoomOut"};r.ZoomOut=m;var v={type:"ResetZoom"};r.ResetZoom=v;var h=function(e){return{type:"Focusable",action:e}},y=h(s.Focus);r.Focus=y;var b=h(s.Blur);r.Blur=b;var g=function(e){return{type:"VisibilityChanged",result:e}};r.VisibilityChanged=g;var w=function(e){return{type:"ZoomChanged",result:e}};r.ZoomChanged=w;var k=function(e,t){return i.Task.future(function(){var r=document.getElementById("web-view-"+e),o=null==r?l.error("WebView with id web-view-"+e+" not found"):"function"!=typeof r.zoom?l.error(".zoom is not supported by runtime"):l.ok(t);return o.isOk&&r.zoom(t),n.resolve(o)})},x=.5,E=2,S=.1,O=function(e,t){return k(e,Math.min(E,t+S))};r.zoomIn=O;var j=function(e,t){return k(e,Math.max(x,t-S))};r.zoomOut=j;var _=function(e){return k(e,1)};r.resetZoom=_;var $=function(e,t){return i.Task.future(function(){var r=document.getElementById("web-view-"+e),o=null==r?l.error("WebView with id web-view-"+e+" not found"):"function"!=typeof r.setVisible?l.error(".setVisible is not supported by runtime"):l.ok(t);return o.isOk&&r.setVisible(t),n.resolve(o)})};r.setVisibility=$;var C=function(e){return i.Task.io(function(t){console.warn(e)})},A=function(e,t){return[{id:e,isFocused:t,isVisible:!1,zoom:1},t?i.Effects.receive(y):i.Effects.none]};r.init=A;var P=function(e,t){return"ZoomIn"===t.type?[e,i.Effects.task(O(e.id,e.zoom)).map(w)]:"ZoomOut"===t.type?[e,i.Effects.task(j(e.id,e.zoom)).map(w)]:"ResetZoom"===t.type?[e,i.Effects.task(_(e.id)).map(w)]:"MakeVisibile"===t.type?[e,i.Effects.task($(e.id,!0)).map(g)]:"MakeNotVisible"===t.type?[e,i.Effects.task($(e.id,!1)).map(g)]:"VisibilityChanged"===t.type?t.result.isOk?[a.merge(e,{isVisible:t.result.value}),i.Effects.none]:[e,i.Effects.task(C(t.result.error))]:"ZoomChanged"===t.type?t.result.isOk?[a.merge(e,{zoom:t.result.value}),i.Effects.none]:[e,i.Effects.task(C(t.result.error))]:"Focusable"===t.type?s.update(e,t.action):[e,i.Effects.none]};r.update=P},{"../../common/focusable":204,"../../common/prelude":208,"../../common/result":209,"babel-runtime/core-js/promise":14,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],196:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../../common/url-helper"),i=n(o),a=e("../../common/favicon"),u=n(a),s=function(e,t){return e.page&&e.page.title&&""!==e.page.title?e.page.title:e.navigation.currentURI.search(/^\s*$/)?i.prettify(e.navigation.currentURI):t};r.readTitle=s;var c=function(e){return e.page&&e.page.faviconURI?e.page.faviconURI:u.getFallback(e.navigation.currentURI)};r.readFaviconURI=c;var l=function(e){return e.page?e.page.pallet.isDark:!1};r.isDark=l},{"../../common/favicon":203,"../../common/url-helper":218,"babel-runtime/helpers/interop-require-wildcard":24}],197:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/define-property")["default"],o=e("babel-runtime/helpers/sliced-to-array")["default"],i=e("babel-runtime/helpers/to-consumable-array")["default"],a=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("reflex"),s=e("driver"),c=a(s),l=e("../common/prelude"),f=(e("../common/cursor"),e("../common/selector")),d=e("../browser/web-view"),p=a(d),m=e("../common/unknown"),v=a(m),h=e("../common/stopwatch"),y=a(h),b=e("eased"),g=a(b),w=e("../common/style"),k=function(e){return 0===e.order.length},x=function(e){return{type:"NavigateTo",uri:e}};r.NavigateTo=x;var E=function(e){var t=e.uri,r=e.inBackground,n=e.name,o=e.features;return{type:"Open",options:{uri:t,inBackground:Boolean(r),name:null==n?"":n,features:null==o?"":o}}};r.Open=E;var S={type:"CloseActive"};r.CloseActive=S;var O=function(e){return{type:"CloseByID",id:e}};r.CloseByID=O;var j=function(e){return{type:"Closed",id:e}},_=function(e){return{type:"SelectByID",id:e}};r.SelectByID=_;var $=function(e){return{type:"SelectRelative",offset:e}},C=$(1);r.SelectNext=C;var A=$(-1);r.SelectPrevious=A;var P=function(e){return{type:"Selected",id:e}},T={type:"ActivateSelected"};r.ActivateSelected=T;var M=function(e){return{type:"ActivateByID",id:e}};r.ActivateByID=M;var F=function(e){return{type:"Activated",id:e}},R={type:"Fold"};r.Fold=R;var D={type:"Folded"};r.Folded=D;var B={type:"Unfold"};r.Unfold=B;var I={type:"Unfolded"};r.Unfolded=I;var z=function(e){return{type:"ActiveWebView",action:e}},q=function(e,t){return"Open!WithMyIFrameAndInTheCurrentTick"===t.type?t:"Selected"===t.type?P(e):"Activated"===t.type?F(e):"Closed"===t.type?j(e):"ShowTabs"===t.type?J:"Create"===t.type?Y:"Edit"===t.type?ee:{type:"WebView",id:e,action:t}},U=q;r.ActionByID=U;var N=function(e){return function(t){return q(e,t)}},L=function(e){return{type:"FoldAnimation",action:e}},V=z(p.ZoomIn);r.ZoomIn=V;var W=z(p.ZoomOut);r.ZoomOut=W;var H=z(p.ResetZoom);r.ResetZoom=H;var G=z(p.Stop);r.Stop=G;var Z=z(p.Reload);r.Reload=Z;var Q=z(p.GoBack);r.GoBack=Q;var K=z(p.GoForward);r.GoForward=K;var X=z(p.Focus);r.Focus=X;var J=p.ShowTabs;r.ShowTabs=J;var Y=p.Create;r.Create=Y;var ee=p.Edit;r.Edit=ee;var te=function(){return[{nextID:0,selector:null,order:[],entries:{},display:{depth:0},resizeAnimation:null,foldAnimation:null,isFolded:!0},u.Effects.none]};r.init=te;var re=function(e,t,r){if(e.order.indexOf(t)<0)return[e,u.Effects.task(v.error("WebView with id: "+t+" is not found"))];var i=p.update(e.entries[t],r),a=o(i,2),s=a[0],c=a[1];return[l.merge(e,{entries:l.merge(e.entries,n({},t,s))}),c.map(N(t))]},ne=function(e,t){return k(e)?[e,u.Effects.none]:null==e.selector?[e,u.Effects.task(v.error("Can not update non-existing active WebView"))]:re(e,e.selector.active,t)},oe=function(e,t){return k(e)?ae(e,{uri:t,inBackground:!1,name:"",features:""},!1):ie(e,t)},ie=function(e,t){return ne(e,p.Load(t))},ae=function(e,t){var r=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],a=e.nextID,s=p.init(a,t),f=o(s,2),d=f[0],m=f[1],v=l.merge(e,{nextID:e.nextID+1,order:[a].concat(i(e.order)),entries:l.merge(e.entries,n({},a,d))}),h=t.inBackground?[v,u.Effects.none]:fe(v,a),y=o(h,2),b=y[0],g=y[1];return[b,u.Effects.batch([m.map(N(a)),g,r?c.force:u.Effects.none])]},ue=function(e){return k(e)?[e,u.Effects.none]:null==e.selector?[e,u.Effects.task(v.error("Unable to close active WebView if none is Active"))]:se(e,e.selector.active)},se=function(e,t){return k(e)?[e,u.Effects.task(v.error("Can not close by id: "+t+" since there are 0 WebViews open"))]:null==e.selector?re(e,t,p.Close):e.selector.active===t?l.batch(ke,e,[M(e.order[0]===t?e.order[1]:e.order[e.order.indexOf(t)-1]),q(t,p.Close)]):re(e,t,p.Close)},ce=function(e,t){return[l.merge(e,{entries:l.merge(e.entries,n({},t,void 0)),order:l.remove(e.order,e.order.indexOf(t))}),1===e.order.length?u.Effects.receive(Y):u.Effects.none]},le=function(e){return k(e)?[e,u.Effects.none]:null==e.selector?[e,u.Effects.task(v.error("Unable to activate selected WebView if no WebView is selected"))]:fe(e,e.selector.selected)},fe=function(e,t){return k(e)?[e,u.Effects.task(v.warn("Can not activate web-view by id: "+t+" since there are 0 web-views"))]:null==e.selector?re(l.merge(e,{selector:{selected:t,active:t}}),t,p.Activate):e.selector.active===t?pe(e,t):l.batch(ke,l.merge(e,{
selector:l.merge(e.selector,{active:t})}),[_(t),q(t,p.Activate),q(e.selector.active,p.Deactivate)])},de=function(e,t){return k(e)?[e,u.Effects.none]:null==e.selector?[e,u.Effects.task(v.error("Unable to change selected WebView if no WebView is seleted"))]:pe(e,e.order[f.indexOfOffset(e.order.indexOf(e.selector.selected),t,e.order.length,!0)])},pe=function(e,t){return null==e.selector?ke(l.merge(e,{selector:{selected:t,active:t}}),q(t,p.Select)):e.selector.selected!==t?l.batch(ke,l.merge(e,{selector:l.merge(e.selector,{selected:t})}),[q(t,p.Select),q(e.selector.selected,p.Unselect)]):[e,u.Effects.none]},me=function(e){return e.isFolded?[e,u.Effects.none]:he(l.merge(e,{isFolded:!0}))},ve=function(e){return e.isFolded?he(l.merge(e,{isFolded:!1})):[e,u.Effects.none]},he=function(e){if(null!=e.foldAnimation)return[l.merge(e,{foldAnimation:l.merge(e.foldAnimation,{elapsed:0})}),u.Effects.none];var t=y.update(e.foldAnimation,y.Start),r=o(t,2),n=r[0],i=r[1];return[l.merge(e,{foldAnimation:n}),i.map(L)]},ye=function(e){{var t=y.update(e.foldAnimation,y.End),r=o(t,2),n=r[0];r[1]}return[l.merge(e,{foldAnimation:n}),u.Effects.none]},be=ye,ge=ye,we=function(e,t){var r=y.update(e.foldAnimation,t),n=o(r,2),i=n[0],a=n[1],s=e.isFolded?[-200,0,200]:[0,-200,500],c=o(s,3),f=c[0],d=c[1],p=c[2],m=p>i.elapsed?[l.merge(e,{foldAnimation:i,display:l.merge(e.display,{depth:g.ease(g.easeOutCubic,g["float"],f,d,p,i.elapsed)})}),a.map(L)]:[l.merge(e,{foldAnimation:i,display:l.merge(e.display,{depth:d})}),u.Effects.receive(e.isFolded?D:I)];return m},ke=function(e,t){return"NavigateTo"===t.type?oe(e,t.uri):"Open"===t.type?ae(e,t.options,!1):"Open!WithMyIFrameAndInTheCurrentTick"===t.type?ae(e,t.options,!0):"CloseActive"===t.type?ue(e):"CloseByID"===t.type?se(e,t.id):"Closed"===t.type?ce(e,t.id):"ActivateSelected"===t.type?le(e):"ActivateByID"===t.type?fe(e,t.id):"Activated"===t.type?[e,u.Effects.none]:"SelectRelative"===t.type?de(e,t.offset):"SelectByID"===t.type?pe(e,t.id):"Selected"===t.type?[e,u.Effects.none]:"Fold"===t.type?me(e):"Unfold"===t.type?ve(e):"FoldAnimation"===t.type?we(e,t.action):"Folded"===t.type?be(e):"Unfolded"===t.type?ge(e):"ActiveWebView"===t.type?ne(e,t.action):"WebView"===t.type?re(e,t.id,t.action):v.update(e,t)};r.update=ke;var xe=function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return null==e.selector?t:null==e.entries[e.selector.active]?t:e.entries[e.selector.active].navigation.currentURI};r.getActiveURI=xe;var Ee=w.StyleSheet.create({base:{height:"100%",width:"100%",left:0,overflow:"hidden",position:"absolute",top:0,willChange:"transform",transformOrigin:"left center"}}),Se=function(e,t){return u.html.div({className:"webviews-stack",style:w.Style(Ee.base,{transform:"translate3d(0, 0, "+e.display.depth+"px)"})},e.order.map(function(r){return u.thunk(String(r),p.view,e.entries[r],u.forward(t,N(r)))}))};r.view=Se},{"../browser/web-view":190,"../common/cursor":200,"../common/prelude":208,"../common/selector":211,"../common/stopwatch":213,"../common/style":214,"../common/unknown":217,"babel-runtime/helpers/define-property":20,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/helpers/sliced-to-array":25,"babel-runtime/helpers/to-consumable-array":26,driver:219,eased:127,reflex:141}],198:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/prelude"),i=e("../common/cursor"),a=e("../common/unknown"),u=n(a),s=e("../common/target"),c=n(s),l=e("../common/focusable"),f=n(l),d=e("../common/control"),p=n(d),m=e("../common/style"),v=e("reflex"),h=o.tag("Target"),y=o.tag("Focusable"),b=o.tag("Control"),g=o.tagged("Down");r.Down=g;var w=o.tagged("Press");r.Press=w;var k=o.tagged("Up");r.Up=k;var x=b(p.Disable);r.Disable=x;var E=b(p.Enable);r.Enable=E;var S=y(f.Focus);r.Focus=S;var O=y(f.Blur);r.Blur=O;var j=h(c.Over);r.Over=j;var _=h(c.Out);r.Out=_;var $=i.cursor({tag:y,update:f.update}),C=i.cursor({tag:h,update:c.update}),A=i.cursor({tag:b,update:p.update}),P=function(e,t,r,n){var o=arguments.length<=4||void 0===arguments[4]?"":arguments[4];return[{isDisabled:!1,isFocused:!1,isActive:!1,isPointerOver:!1,text:o},v.Effects.none]};r.init=P;var T=function(e){var t=e.isDisabled,r=e.isActive,n=e.isPointerOver,o=e.isFocused;return{isDisabled:t,isActive:r,isPointerOver:n,isFocused:o}};r.Model=T;var M=function(e,t){return"Down"===t.type?[o.merge(e,{isActive:!0}),v.Effects.none]:"Up"===t.type?[o.merge(e,{isActive:!1}),v.Effects.none]:"Press"===t.type?[e,v.Effects.none]:"Control"===t.type?A(e,t.source):"Target"===t.type?C(e,t.source):"Focusable"===t.type?$(e,t.source):u.update(e,t)};r.update=M;var F=function(e,t){return function(r,n,i){return v.html.button({key:e,className:e,style:m.Style(t.base,r.isFocused?t.focused:t.blured,r.isDisabled?t.disabled:t.enabled,r.isPointerOver?t.over:t.out,r.isActive?t.active:t.inactive,i),onFocus:v.forward(n,o.always(S)),onBlur:v.forward(n,o.always(O)),onMouseOver:v.forward(n,o.always(j)),onMouseOut:v.forward(n,o.always(_)),onMouseDown:v.forward(n,o.always(g)),onClick:v.forward(n,o.always(w)),onMouseUp:v.forward(n,o.always(k))},[r.text||""])}};r.view=F},{"../common/control":199,"../common/cursor":200,"../common/focusable":204,"../common/prelude":208,"../common/style":214,"../common/target":215,"../common/unknown":217,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],199:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/prelude"),i=(e("../common/cursor"),e("../common/unknown")),a=n(i),u=e("../common/target"),s=(n(u),e("../common/focusable")),c=(n(s),e("../common/style"),e("reflex")),l={type:"Disable"};r.Disable=l;var f={type:"Enable"};r.Enable=f;var d=function(e){return[o.merge(e,{isDisabled:!1}),c.Effects.none]},p=function(e){return[o.merge(e,{isDisabled:!0}),c.Effects.none]},m=function(e,t){return"Enable"===t.type?d(e):"Disable"===t.type?p(e):a.update(e,t)};r.update=m},{"../common/cursor":200,"../common/focusable":204,"../common/prelude":208,"../common/style":214,"../common/target":215,"../common/unknown":217,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],200:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/sliced-to-array")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("reflex"),a=o(i),u=function(e){var t=e.get,r=e.set,o=e.update,i=e.tag;return function(e,a){var u=null==t?e:t(e,a),s=o(u,a),c=n(s,2),l=c[0],f=c[1],d=null==r?l:r(e,l);return[d,null==i?f:f.map(i)]}};r.cursor=u;var s=function(e,t){return function(r,o){var i=e(r,o),u=n(i,2),s=(u[0],u[1]),c=t(r,o),l=n(c,2),f=l[0],d=l[1];return[f,a.Effects.batch([s,d])]}};r.join=s},{"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/helpers/sliced-to-array":25,reflex:141}],201:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/define-property")["default"],o=e("babel-runtime/helpers/sliced-to-array")["default"],i=e("babel-runtime/core-js/object/keys")["default"],a=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("../common/settings"),s=a(u),c=e("../common/runtime"),l=a(c),f=e("../common/unknown"),d=a(f),p=e("../common/prelude"),m=e("../common/cursor"),v=e("reflex"),h=e("../common/style"),y={"debugger.remote-mode":"Enable Remote DevTools","apz.overscroll.enabled":"Enable overscroll effect","debug.fps.enabled":"FPS","debug.paint-flashing.enabled":"Paint flashing","layers.low-precision":"Low precision buffer & paint","layers.low-opacity":"Low precision opacity","layers.draw-borders":"Draw layer borders","layers.draw-tile-borders":"Draw tile borders","layers.dump":"Layers dump","layers.enable-tiles":"Enable tiles","layers.async-pan-zoom.enabled":"Enable APZC (restart required)"},b=function(e,t){return"debugger.remote-mode"===e?t===!0?"adb-devtools":"disabled":t},g=function(e,t){return"debugger.remote-mode"===e?"adb-devtools"===t?!0:!1:t},w={type:"Toggle"};r.Toggle=w;var k={type:"Restart"};r.Restart=k;var x=function(e){return{type:"Report",result:e}},E={type:"CleanRestart"};r.CleanRestart=E;var S={type:"CleanReload"};r.CleanReload=S;var O=function(e,t){return{type:"Change",name:e,value:t}},j=function(e){return{type:"Settings",action:e}},_=m.cursor({get:function(e){return e.settings},set:function(e,t){return p.merge(e,{settings:t})},tag:j,update:s.update}),$=function(e){return[p.merge(e,{isActive:!e.isActive}),v.Effects.none]},C=function(e){return[e,v.Effects.task(l.restart).map(x)]},A=function(e){return[e,v.Effects.task(l.cleanRestart).map(x)]},P=function(e){return[e,v.Effects.task(l.cleanReload).map(x)]},T=function(e,t){var r=t.name,o=t.value;return[e,v.Effects.task(s.change(n({},r,o))).map(s.Changed).map(j)]},M=function(e,t){return[e,t.isOk?v.Effects.none:v.Effects.task(d.error(t.error))]},F=function(e){var t=e.isActive,r=s.init(i(y)),n=o(r,2),a=n[0],u=n[1],c=[{isActive:t,settings:a},u.map(j)];return c};r.init=F;var R=function(e,t){return"Toggle"===t.type?$(e):"Restart"===t.type?C(e):"CleanRestart"===t.type?A(e):"CleanReload"===t.type?P(e):"Report"===t.type?M(e,t.result):"Change"===t.type?T(e,t):"Settings"===t.type?_(e,t.action):d.update(e,t)};r.update=R;var D=h.StyleSheet.create({checkbox:{marginRight:"6px",MozAppearance:"checkbox"},label:{padding:"6px",MozUserSelect:"none",display:"block"},button:{display:"block",border:"1px solid #AAA",padding:"3px 6px",margin:"6px",borderRadius:"3px"},toolbox:{padding:"10px",position:"absolute",bottom:"10px",left:"10px",width:"300px",height:"400px",color:"black",backgroundColor:"white",border:"2px solid #F06",overflow:"scroll"},initializing:{display:"none"},hidden:{display:"none"},visible:{display:"block"}}),B=function(e,t,r){var n=g(e,t);return v.html.label({key:e,style:D.label},[v.html.input({type:"checkbox",checked:n,style:D.checkbox,onChange:v.forward(r,function(){return O(e,b(e,!n))})}),y[e]])},I=function(e,t){return v.html.div({key:"devtools-settings",className:"devtools settings"},i(e||{}).map(function(r){return v.thunk(r,B,r,e[r],t)}))},z=function(e,t){return v.html.div({className:"devtools toolbox",key:"devtools-toolbox",style:h.Style(D.toolbox,e.isActive?D.visible:D.hidden)},[null==e.settings?v.html.div({},["Initializing"]):v.thunk("settings",I,e.settings,t),v.html.button({style:D.button,onClick:v.forward(t,p.always(k))},["Restart"]),v.html.button({style:D.button,onClick:v.forward(t,p.always(E))},["Clear cache and restart"]),v.html.button({style:D.button,onClick:v.forward(t,p.always(S))},["Clear cache and reload"])])};r.view=z},{"../common/cursor":200,"../common/prelude":208,"../common/runtime":210,"../common/settings":212,"../common/style":214,"../common/unknown":217,"babel-runtime/core-js/object/keys":12,"babel-runtime/helpers/define-property":20,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/helpers/sliced-to-array":25,reflex:141}],202:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/prelude"),i=e("../common/unknown"),a=n(i),u=e("reflex"),s={type:"Clear"};r.Clear=s;var c=function(e){return{type:"Select",range:e}};r.Select=c;var l=function(e,t){return{type:"Change",value:e,selection:t}};r.Change=l;var f=function(e,t){return o.merge(e,{selection:t.range})},d=function(e,t){return o.merge(e,{selection:t.selection,value:t.value})},p=function(e){return o.merge(e,{value:"",selection:null})},m=function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return[{value:e,selection:t},u.Effects.none]};r.init=m;var v=function(e,t){return"Clear"===t.type?[p(e),u.Effects.none]:"Select"===t.type?[f(e,t),u.Effects.none]:"Change"===t.type?[d(e,t),u.Effects.none]:a.update(e,t)};r.update=v},{"../common/prelude":208,"../common/unknown":217,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],203:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/to-consumable-array")["default"],o=e("babel-runtime/core-js/map")["default"],i=e("babel-runtime/core-js/set")["default"],a=e("babel-runtime/core-js/get-iterator")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("../common/url-helper"),s=function(e,t){return e+"#-moz-resolution="+t+","+t},c=function(e){return e?s(u.getOrigin(e)+"/favicon.ico",l):null};r.getFallback=c;var l=16*devicePixelRatio,f=function(e){var t=new o,r=new i,u=!0,c=!1,f=void 0;try{for(var d,p=a(e);!(u=(d=p.next()).done);u=!0){var m=d.value;m&&("shortcut icon"!=m.rel?r.add(m):m.sizes?"any"==m.sizes?t.set(l,m):m.sizes.split(" ").map(function(e){return parseInt(e,10)}).forEach(function(e){return t.set(e,m)}):r.add(m))}}catch(v){c=!0,f=v}finally{try{!u&&p["return"]&&p["return"]()}finally{if(c)throw f}}var h=[].concat(n(t)).reduce(function(e,t){return e?Math.abs(e[0]-l)>Math.abs(t[0]-l)?t:e:t},void 0),y=[].concat(n(r)).reduce(function(e,t){return e?"shortcut icon"==t.rel?t:e:t},void 0);if(h){var b=h[0],g=h[1].href;return{bestIcon:h[1],faviconURI:s(g,b)}}if(y){var g=y.href;return{bestIcon:y,faviconURI:s(g,l)}}return{bestIcon:null,faviconURI:null}};r.getBestIcon=f},{"../common/url-helper":218,"babel-runtime/core-js/get-iterator":3,"babel-runtime/core-js/map":5,"babel-runtime/core-js/set":15,"babel-runtime/helpers/to-consumable-array":26}],204:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/prelude"),i=e("../common/unknown"),a=n(i),u=e("reflex"),s={isFocused:!1};r.blured=s;var c={isFocused:!0};r.focused=c;var l=s;r.initial=l;var f={type:"Focus"};r.Focus=f;var d={type:"Blur"};r.Blur=d;var p=function(e,t){return"Focus"===t.type?[o.merge(e,{isFocused:!0}),u.Effects.none]:"Blur"===t.type?[o.merge(e,{isFocused:!1}),u.Effects.none]:a.update(e,t)};r.update=p},{"../common/prelude":208,"../common/unknown":217,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],205:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("reflex"),o=e("../common/style"),i=function(e){var t=e.uri;return{uri:t}};r.Model=i;var a=o.StyleSheet.create({image:{backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",border:"none"}}),u=function(e,t){return function(e,r,i){return n.html.img({style:o.Style(a.image,t.base,{backgroundImage:"url("+e.uri+")"},i)})}};r.view=u},{"../common/style":214,reflex:141}],206:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/to-consumable-array")["default"],o=e("babel-runtime/core-js/object/assign")["default"],i=e("babel-runtime/core-js/object/create")["default"],a=e("babel-runtime/core-js/object/keys")["default"],u=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var s=(e("reflex"),e("./os")),c=u(s),l=c.platform(),f=function(e){var t=e.type,r=e.metaKey,n=e.shiftKey,o=e.altKey,i=e.ctrlKey,a=[];return"keyup"!=t&&(r&&a.push("Meta"),i&&a.push("Control"),o&&a.push("Alt"),n&&a.push("Shift")),a},d=function h(e){return h.table[e]||e};d.table=o(i(null),{ctrl:"Control",accel:"darwin"==l?"meta":"control",ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",esc:"Escape"});var p=function(e){return e.split(/\s+/).map(d).sort().join(" ").trim().toLowerCase()},m=function(e){var t=e.key,r=f(e),o=r.indexOf(t)<0?[].concat(n(r),[t]):r;return o.map(d).join(" ").toLowerCase().split(" ").sort().join(" ")},v=function y(e){var y=i(null);return a(e).forEach(function(t){y[p(t)]=e[t]}),function(e){var t=m(e),r=y[t];return null!=r?(e.stopPropagation(),e.preventDefault(),r(e)):{type:"AbortEvent",action:{type:"keyup"===e.type?"KeyUp":"keydown"===e.type?"KeyDown":"KeyPress",combination:t,key:e.key,metaKey:e.metaKey,shiftKey:e.shiftKey,altKey:e.altKey,ctrlKey:e.ctrlKey}}}};r.bindings=v},{"./os":207,"babel-runtime/core-js/object/assign":7,"babel-runtime/core-js/object/create":8,"babel-runtime/core-js/object/keys":12,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/helpers/to-consumable-array":26,reflex:141}],207:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=navigator.platform.startsWith("Win")?"win32":navigator.platform.startsWith("Mac")?"darwin":navigator.platform.startsWith("Linux")?"linux":navigator.platform.startsWith("FreeBSD")?"freebsd":navigator.platform,o=function(){return n};r.platform=o},{}],208:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/sliced-to-array")["default"],o=e("babel-runtime/core-js/symbol/for")["default"],i=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a=e("reflex"),u=i(a),s=u.Effects,c=function(e,t){var r=e;for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];if(e[n]!==o){if(r===e){r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i])}void 0===o?delete r[n]:r[n]=o}}return r};r.merge=c;var l=function(e,t){return e.length<=t?e:e.slice(0,t)};r.take=l;var f=function(e,t,r){var n=e.length;if(t===r)return e;if(t>=n)return e;if(r>=n)return e;var o=e.slice(0),i=o.splice(t,1)[0];return o.splice(r,0,i),o};r.move=f;var d=function(e,t){return 0>t?e:t>=e.length?e:0===t?e.slice(1):t===e.length-1?e.slice(0,t):e.slice(0,t).concat(e.slice(t+1))};r.remove=d;var p=function(e,t,r){if(e[t]===r)return e;var n=e.slice(0);return n[t]=r,n};r.setIn=p;var m={toString:function(){return"always("+this.value+")"}},v=o("always"),h=function(){return null},y=function(){return void 0},b=function(e){var t=e;if(null===t)return h;if(void 0===t)return y;if(null!=t[v])return t[v];var r=function(){return t};return r.value=t,r.toString=m.toString,t[v]=r,r};r.always=b;var g=function(e,t,r){for(var o=[],i=0,a=r.length;a>i;){var u=r[i],c=e(t,u),l=n(c,2),f=l[0],d=l[1];t=f,o.push(d),i+=1}return[t,s.batch(o)]};r.batch=g;var w=function(e){return function(t){return{type:e,source:t}}};r.tag=w;var k=function(e,t){return{type:e,source:t}};r.tagged=k},{"babel-runtime/core-js/symbol/for":17,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/helpers/sliced-to-array":25,reflex:141}],209:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){return{isOk:!0,isError:!1,value:e}};r.ok=n;var o=function(e){return{isOk:!1,isError:!0,error:e}};r.error=o},{}],210:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/promise")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("../common/prelude"),a=e("reflex"),u=e("../common/result"),s=o(u),c={type:"RemoteDebugRequest"};r.RemoteDebugRequest=c;var l={type:"UpdateAvailable"};r.UpdateAvailable=l;var f={type:"UpdateDownloaded"};r.UpdateDownloaded=f;var d={type:"Restart"};r.Restart=d;var p={type:"CleanRestart"};r.CleanRestart=p;var m={type:"CleanReload"};r.CleanReload=m;var v={type:"Reload"};r.Reload=v;var h={type:"Quit"};r.Quit=h;var y={type:"Minimized"};r.Minimized=y;var b={type:"FullscreenToggled"};r.FullscreenToggled=b;var g=function(e){return{type:"RemoteDebugResponse",value:e}};r.RemoteDebugResponse=g;var w=function(e){return{type:"DownloadUpdate",result:e}};r.DownloadUpdate=w;var k=a.Task.io(function(e){return void 0});r.never=k;var x=function(e){return a.Task.future(function(){return n.resolve(e)})};r.respond=x;var E=function(e){return a.Task.io(function(t){window.dispatchEvent(new window.CustomEvent("mozContentEvent",{bubbles:!0,cancelable:!1,detail:e})),t(a.Task.succeed(void 0))})};r.send=E;var S=function(e){return a.Task.io(function(t){var r=function n(r){var o=r.detail;o.type===e&&(window.removeEventListener("mozChromeEvent",n),t(a.Task.succeed(o)))};window.addEventListener("mozChromeEvent",r)})};r.receive=S;var O=function(e,t){return E(t).chain(i.always(S(e)))};r.request=O;var j=E({type:"shutdown-application"}).chain(i.always(k));r.quit=j;var _=E({type:"minimize-native-window"}).chain(i.always(x(s.ok(null))));r.minimize=_;var $=E({type:"toggle-fullscreen-native-window"}).chain(i.always(x(s.ok(null))));r.toggleFullscreen=$;var C=a.Task.io(function(e){try{window.location.reload(),e(s.ok(null))}catch(t){e(s.error(t))}});r.reload=C;var A=E({type:"restart"}).chain(i.always(x(s.error('Unsupported runtime task "restart" was triggered'))));r.restart=A;var P=E({type:"clear-cache-and-restart"}).chain(i.always(k));r.cleanRestart=P;var T=E({type:"clear-cache-and-reload"}).chain(i.always(k));r.cleanReload=T},{"../common/prelude":208,"../common/result":209,"babel-runtime/core-js/promise":14,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],211:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/math/trunc")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=function(e,t,r,o){var i=e+t;if(0===r)return e;if(o){var a=i-n(i/r)*r;return 0>a?a+r:a}return Math.min(r-1,Math.max(0,i))};r.indexOfOffset=o},{"babel-runtime/core-js/math/trunc":6}],212:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/define-property")["default"],o=e("babel-runtime/core-js/promise")["default"],i=e("babel-runtime/core-js/object/keys")["default"],a=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("../common/settings"),s=(a(u),e("../common/result")),c=a(s),l=e("../common/unknown"),f=a(l),d=e("../common/prelude"),p=e("reflex"),m=ReferenceError("navigator.mozSettings API is not available");r.NotSupported=m;var v=function(e){return{type:"Fetched",result:e}};r.Fetched=v;var h=function(e){return{type:"Updated",result:e}};r.Updated=h;var y=function(e){return{type:"Changed",result:e}};r.Changed=y;var b=function(e){return 1===e.length?e[0]:e.reduce(function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e})},g=function(e){return p.Task.future(function(){if(!navigator.mozSettings)return o.resolve(c.error(m));var t=function(){var t=navigator.mozSettings.createLock(),r=e.map(function(e){return t.get(e)});return{v:o.all(r).then(b).then(c.ok,c.error)}}();return"object"==typeof t?t.v:void 0})};r.fetch=g;var w=function(e){return p.Task.future(function(){return navigator.mozSettings?navigator.mozSettings.createLock().set(e).then(d.always(c.ok(e)),c.error):o.resolve(c.error(m))})};r.change=w;var k=function(e){return p.Task.io(function(t){var r=function o(r){navigator.mozSettings&&("*"===e?navigator.mozSettings.removeEventListener("settingchange",o):navigator.mozSettings.removeObserver(e,o)),t(p.Task.succeed(c.ok(n({},r.settingName,r.settingValue))))};navigator.mozSettings?"*"===e?navigator.mozSettings.addEventListener("settingchange",r):navigator.mozSettings.addObserver(e,r):t(p.Task.fail(c.error(m)))})};r.observe=k;var x=function(e){return[null,p.Effects.task(g(e)).map(v)]};r.init=x;var E=function(e,t){return[null==e?t:d.merge(e,t),p.Effects.batch(i(t).map(function(e){return p.Effects.task(k(e)).map(h)}))]},S=function(e,t){return console.error("Unhandled error occured ",t),[e,p.Effects.none]},O=function(e,t){return"Fetched"===t.type?t.result.isOk?E(e,t.result.value):S(e,t.result.error):"Updated"===t.type?t.result.isOk?E(e,t.result.value):S(e,t.result.error):"Changed"===t.type?t.result.isOk?E(e,t.result.value):S(e,t.result.error):f.update(e,t)};r.update=O},{"../common/prelude":208,"../common/result":209,"../common/settings":212,"../common/unknown":217,"babel-runtime/core-js/object/keys":12,"babel-runtime/core-js/promise":14,"babel-runtime/helpers/define-property":20,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],213:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=e("../common/prelude"),a=e("../common/unknown"),u=n(a),s={type:"Start"};r.Start=s;var c={type:"End"};r.End=c;var l=function(e){return{type:"Tick",time:e}};r.Tick=l;var f=function(){return[null,o.Effects.none]};r.init=f;var d=function(e,t){return"End"===t.type?[null,o.Effects.none]:"Start"===t.type?[null,o.Effects.tick(l)]:"Tick"===t.type?null==e?[{time:t.time,elapsed:0},o.Effects.tick(l)]:[i.merge(e,{time:t.time,elapsed:e.elapsed+(t.time-e.time)}),o.Effects.tick(l)]:u.update(e,t)};r.update=d},{"../common/prelude":208,"../common/unknown":217,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],214:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/create")["default"],o=e("babel-runtime/core-js/symbol")["default"],i=e("babel-runtime/core-js/object/assign")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a=n(null),u=o("style-sheet/id"),s=0,c={create:function(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];"object"==typeof n&&null!=n?(n[u]=++s,t[r]=n):t[r]=n}return t}};r.StyleSheet=c;var l=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];for(var n=t.length,o=0,s=null;n>o;){var c=t[o];if(c){if(c[u])s=s?s+"+"+c[u]:c[u];else{if("object"!=typeof c)throw TypeError("Style may only be given objects and falsy values");s=null}o+=1}else t.splice(o,1),n-=1}var l=null!==s?a[s]:null;if(null!=l)return l;if(null!=s){var f=i.apply(Object,[{}].concat(t));return f[u]=s,a[s]=f,f}var d=i.apply(Object,[{}].concat(t));return d[u]=null,d};r.Style=l},{"babel-runtime/core-js/object/assign":7,"babel-runtime/core-js/object/create":8,"babel-runtime/core-js/symbol":16}],215:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=e("../common/prelude"),a=e("../common/unknown"),u=n(a),s={type:"Over"};r.Over=s;var c={type:"Out"};r.Out=c;var l=function(e,t){return"Over"==t.type?[i.merge(e,{isPointerOver:!0}),o.Effects.none]:"Out"==t.type?[i.merge(e,{isPointerOver:!1}),o.Effects.none]:u.update(e,t)};r.update=l},{"../common/prelude":208,"../common/unknown":217,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],216:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/prelude"),i=e("../common/cursor"),a=e("../common/unknown"),u=n(a),s=e("../common/target"),c=n(s),l=e("../common/focusable"),f=n(l),d=e("../common/button"),p=n(d),m=e("../common/style"),v=e("reflex"),h=function(){return[{isDisabled:!1,isFocused:!1,isActive:!1,isPointerOver:!1,isChecked:!1},v.Effects.none]};r.init=h;var y=function(e){var t=e.isDisabled,r=e.isFocused,n=e.isActive,o=e.isPointerOver,i=e.isChecked;return{isDisabled:t,isFocused:r,isActive:n,isPointerOver:o,isChecked:i}};r.Model=y;var b={type:"Press"};r.Press=b;var g={type:"Check"};r.Check=g;var w={type:"Uncheck"};r.Uncheck=w;var k=function(e){return{type:"Target",action:e}},x=function(e){return{type:"Focusable",action:e}},E=function(e){return{type:"Button",action:e}};r.ButtonAction=E;var S=x(f.Focus);r.Focus=S;var O=x(f.Blur);r.Blur=O;var j=k(c.Over);r.Over=j;var _=k(c.Out);r.Out=_;var $=E(p.Down);r.Down=$;var C=E(p.Up);r.Up=C;var A=i.cursor({update:c.update,tag:k}),P=i.cursor({update:f.update,tag:x}),T=i.cursor({update:p.update,tag:E}),M=function(e,t){return"Press"===t.type?[o.merge(e,{isChecked:!e.isChecked}),v.Effects.task(e.isChecked?v.Task.succeed(w):v.Task.succeed(g))]:"Check"===t.type?[e,v.Effects.none]:"Uncheck"===t.type?[e,v.Effects.none]:"Button"===t.type?T(e,t.action):"Target"===t.type?A(e,t.action):"Focusable"===t.type?P(e,t.action):u.update(e,t)};r.update=M;var F=function(e,t){return function(r,n,i){return v.html.button({key:e,className:e,style:m.Style(t.base,r.isFocused?t.focused:t.blured,r.isDisabled?t.disabled:t.enabled,r.isPointerOver?t.over:t.out,r.isActive?t.active:t.inactive,r.isChecked?t.checked:t.unchecked,i),onFocus:v.forward(n,o.always(S)),onBlur:v.forward(n,o.always(O)),onMouseOver:v.forward(n,o.always(j)),onMouseOut:v.forward(n,o.always(_)),onMouseDown:v.forward(n,o.always($)),onMouseUp:v.forward(n,o.always(C)),onClick:v.forward(n,o.always(b))})}};r.view=F},{"../common/button":198,"../common/cursor":200,"../common/focusable":204,"../common/prelude":208,"../common/style":214,"../common/target":215,"../common/unknown":217,"babel-runtime/helpers/interop-require-wildcard":24,reflex:141}],217:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("reflex"),o=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return n.Task.io(function(e){console.warn.apply(console,t)})};r.warn=o;var i=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return n.Task.io(function(e){console.log.apply(console,t)})};r.log=i;var a=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return n.Task.io(function(e){console.error.apply(console,t)})};r.error=a;var u=function(e,t){return console.warn("Unknown action was passed & ignored: ",t,Error().stack),[e,n.Effects.none]};r.update=u},{reflex:141}],218:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={origin:null,hostname:null,protocol:null},o=function(e){try{return new URL(e)}catch(t){return n}};r.parse=o;var i=function(e){return!!(h.exec(e)||[])[0]};r.hasScheme=i;var a=function(e){return o(e).origin};r.getOrigin=a;var u=function(){return new URL("./",location)};r.getBaseURI=u;var s=function(e){return o(e).hostname};r.getHostname=s;var c=function(e){return(s(e)||"").replace(/^www\./,"")};r.getDomainName=c;var l=function(e){return o(e).protocol};r.getProtocol=l;var f=function(){return new URL("./manifest.webapp",u())};r.getManifestURL=f;var d=function(e){return o(e).pathname};r.getPathname=d;var p=function(e){var t=o(e),r=t.protocol;return"http:"===r||"https:"===r},m=function(e){return"about:"===o(e).protocol};r.isAboutURL=m;var v=function(e){return e&&e.startsWith(new URL("./components/about/",u()))};r.isPrivileged=v;var h=/^(?:[a-z\u00a1-\uffff0-9-+]+)(?::|:\/\/)/i,y=function(e){var t=e.trim(),r=/^(\?)|(\?.+\s)/,n=/[\?\.\s\:]/,o=/^\w+\:\/*$/;if("localhost"==t)return!1;if(r.test(t)||!n.test(t)||o.test(t))return!0;i(e)||(t="http://"+t);try{return new URL(t),!1}catch(a){return!0}};r.isNotURL=y;var b=function(e){return"https://duckduckgo.com/?q="+encodeURIComponent(e)},g=function(e){return"about:blank"===e?e:u()+"components/about/"+e.replace("about:","")+"/index.html"},w=function(e){return y(e)?b(e):i(e)?m(e)?g(e):e:"http://"+e};r.read=w;var k=function(e){return m(e)?g(e):e};r.normalize=k;var x=function(e,t){return new URL(t,e).href};r.resolve=x;var E=/\/about\/([^\/]+)\/index.html$/,S=function(e){var t=E.exec(e);return null!=t?t[1]:null},O=function(e){var t=u(),r=new URI(e),n=r.origin,o=r.pathname,i=t.origin===n?S(o):null;return null!=i?"about:"+i:null};r.asAboutURI=O;var j=function(e){return y(e)?e:p(e)?"/"!==d(e)?s(e)+d(e):s(e):e};r.prettify=j},{}],219:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/helpers/inherits")["default"],u=e("babel-runtime/core-js/symbol/for")["default"],s=e("babel-runtime/core-js/object/create")["default"],c=e("babel-runtime/core-js/promise")["default"],l=e("babel-runtime/core-js/get-iterator")["default"];Object.defineProperty(r,"__esModule",{value:!0});var f=e("../../lang/functional"),d=e("reflex"),p=e("reflex-virtual-dom-driver");Object.defineProperty(r,"Renderer",{enumerable:!0,get:function(){return p.Renderer}});var m=function(){function e(t,r,n,i){o(this,e),this.address=t,this.decode=r,this.getTarget=i,this.stopPropagation=!1,this.preventDefault=!1,this.type="On",null!=n&&(null!=n.stopPropagation&&(this.stopPropagation=n.stopPropagation),null!=n.preventDefault&&(this.preventDefault=n.preventDefault))}return n(e,null,[{key:"handleEvent",value:function(e){var t=e.currentTarget,r=e.type,n=t["on:"+r];if(n){var o=null==n.decode?void 0:n.decode(e);

(null==o||"AbortEvent"!==o.type)&&(n.stopPropagation&&n.stopPropagation(o)&&e.stopPropagation(),n.preventDefault&&n.preventDefault(o)&&e.preventDefault(),n.address(o))}}}]),n(e,[{key:"hook",value:function(e,t,r){var n=0===t.indexOf("on")?t.substr(2).toLowerCase():t,o=null!=this.getTarget?this.getTarget(e):e;(null==r||r.type!=this.type)&&o.addEventListener(n,this.constructor.handleEvent),o["on:"+n]=this}},{key:"unhook",value:function(e,t,r){{var n=0===t.indexOf("on")?t.substr(2).toLowerCase():t.toLowerCase();null!=this.getTarget?this.getTarget(e):e}(null==r||r.type!=this.type)&&e.removeEventListener(n,this.constructor.handleEvent),delete e["on:"+n]}}]),e}(),v=u("hash"),h=0,y=function(e){if(null==e)return"#_";if(e===!1)return"#f";if(e===!0)return"#t";if(null==e[v]&&(e[v]="f#"+ ++h),null==e[v])throw TypeError("Invalid value of type "+typeof value+" passed to a hashing function");return e[v]},b=s(null),g=function(e,t,r,n){var o=r||b,i=o.stopPropagation,a=o.preventDefault,u="on:"+y(t)+"@"+y(n)+":"+y(i)+":"+y(a)+"}";return e[u]||(e[u]=new m(e,t,r,n)),e[u]};r.on=g;var w=function(e){return e.ownerDocument},k=function(e,t,r){return g(e,t,r,w)};r.onWindow=k;var x=function(){function e(t,r){o(this,e),this.value=t,this.update=r,this.type="MetaProperty"}return n(e,[{key:"hook",value:function(e,t,r){var n=null==r?r:r.type!=this.type?r:r.value;this.update(e,this.value,n)}},{key:"unhook",value:function(e,t,r){}}]),e}(),E=function(e){return function(t){return new x(t,e)}};r.metaProperty=E;var S=E(function(e,t,r){r!=t&&e.zoom&&c.resolve().then(function(){try{e.zoom(t)}catch(r){e.isZoomBroken||console.error(r)}})});r.zoom=S;var O=function(e){var t=null,r=null,n=E(e);return function(e){return e===!1||null==e?(null==r&&(r=n(!1)),r):(null==t&&(t=n(!0)),t)}},j=O(function(e,t,r){t!=r&&e.setVisible&&c.resolve().then(function(){try{e.setVisible(t)}catch(r){e.isSetVisibleBroken||console.error(r)}})});r.visiblity=j;var _=O(function(e,t,r){t!=r&&c.resolve().then(function(){t?e.focus():e.blur()})});r.focus=_;var $=E(function(e,t,r){t!=r&&t&&(t.isStop&&e.stop(),t.isReload&&e.reload(),t.isGoBack&&e.goBack(),t.isGoForward&&e.goForward())});r.navigate=$;var C=function(){function e(){o(this,e)}return n(e,[{key:"use",value:function(e){this.element=e}},{key:"hook",value:function(e,t,r){var n=this.element;if(null!=n){if(this.element=null,e!=n){var o=!0,i=!1,a=void 0;try{for(var u,s=l(e);!(o=(u=s.next()).done);o=!0){var c=u.value,f=c.name,d=c.value;n.setAttribute(f,d)}}catch(p){i=!0,a=p}finally{try{!o&&s["return"]&&s["return"]()}finally{if(i)throw a}}var m=!0,v=!1,h=void 0;try{for(var y,b=l(e.properties.names);!(m=(y=b.next()).done);m=!0){var g=y.value;n[g]=e[g]}}catch(p){v=!0,h=p}finally{try{!m&&b["return"]&&b["return"]()}finally{if(v)throw h}}}return n}}}]),e}(),A=new C;r.element=A;var P=u("onAnimationFrame"),T=function(){function e(t){o(this,e),this.address=t,this.field=u("onAnimationFrame"),this.type="OnAnimationFrame"}return n(e,null,[{key:"request",value:function(t){var r=this.targets||(this.targets=[]);if(r.indexOf(t)<0&&r.push(t),!e.id){var n=t.ownerDocument.defaultView;e.id=n.requestAnimationFrame(this.run)}}},{key:"run",value:function(t){e.id=null;for(var r=e.targets.splice(0),n=r.length,o=0;n>o;){var i=r[o][P];null!=i&&i(t),o+=1}}}]),n(e,[{key:"hook",value:function(e,t,r){this.constructor.request(e),e[P]=this.address}},{key:"onhook",value:function(e,t,r){(null==previous||previous.type!==this.type)&&delete e[P]}}]),e}(),M=function(e,t){return e=null!=t?d.forward(e,t):e,null==e[P]&&(e[P]=new T(e)),e[P]};r.onAnimationFrame=M;var F=function(e,t){return e&&t&&e.start===t.start&&e.end===t.end&&e.direction===t.direction},R=E(function(e,t,r){if(null!=t&&!F(t,r)){{t.start,t.end,t.direction}e.setSelectionRange&&!function(){var r=t.start,n=t.end,o=t.direction;c.resolve().then(function(){e.setSelectionRange(r===1/0?e.value.length:r,n===1/0?e.value.length:n,o)})}()}});r.selection=R;var D=E(function(e,t,r){t!=r&&(e.ownerDocument.title=t)});r.title=D;var B=f.identity;r.scrollGrab=B;var I="mozbrowsercangoforwardchange",z="mozbrowsercangobackchange",q="mozbrowserlocationchange",U=function(e){function t(e,r,n){o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,r,n,null,null),this.eventType=e,this.type="OnNavigationStateChange"}return a(t,e),n(t,null,[{key:"handleEvent",value:function(e){var t=e.target,r=e.currentTarget;t.getCanGoForward().onsuccess=function(e){m.handleEvent({type:I,target:t,currentTarget:r,detail:e.target.result})},t.getCanGoBack().onsuccess=function(e){m.handleEvent({type:z,target:t,currentTarget:r,detail:e.target.result})}}}]),n(t,[{key:"hook",value:function(e,r,n){i(Object.getPrototypeOf(t.prototype),"hook",this).call(this,e,this.eventType,n),(null==n||n.type!==this.type)&&e.addEventListener(q,this.constructor.handleEvent)}},{key:"unhook",value:function(e,r,n){i(Object.getPrototypeOf(t.prototype),"unhook",this).call(this,e,this.eventType,n),(null==n||n.type!==this.type)&&e.removeEventListener(q,this.constructor.handleEvent)}}]),t}(m),N=function(e,t){var r="onCanGoBackChange:"+y(t);return e[r]||(e[r]=new U(z,e,t)),e[r]};r.onCanGoBackChange=N;var L=function(e,t){var r="onCanGoForwardChange:"+y(t);return e[r]||(e[r]=new U(I,e,t)),e[r]};r.onCanGoForwardChange=L;var V=d.Effects.task(d.Task.succeed({type:"Driver.Execute"}));r.force=V},{"../../lang/functional":220,"babel-runtime/core-js/get-iterator":3,"babel-runtime/core-js/object/create":8,"babel-runtime/core-js/promise":14,"babel-runtime/core-js/symbol/for":17,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":21,"babel-runtime/helpers/inherits":22,reflex:141,"reflex-virtual-dom-driver":133}],220:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/to-consumable-array")["default"],o=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];var n=function(){for(var e=t.length,r=t[--e].apply(t,arguments);--e>=0;)r=t[e](r);return r};return n.lambdas=t,n.toString=i,n},i=function(){return"compose("+this.lambdas.join(", ")+")"},a=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;t>n;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),o=0;t>o;o++)n[o]=arguments[o];return e.apply(void 0,r.concat(n))}},u=function w(e,t,r){return void 0===t&&(t=e.length),function(){return function(){for(var o=arguments.length,i=Array(o),a=0;o>a;a++)i[a]=arguments[a];var u=r?[].concat(n(r),i):i;return u.length>=t?e.apply(void 0,n(u)):w(e,t,u)}}()},s=function(e,t){return function(){for(var r=arguments.length,o=Array(r),i=0;r>i;i++)o[i]=arguments[i];return t.apply(void 0,n(o.slice(0,e)))}},c=function(e,t){return function(){return t[e].apply(t,arguments)}},l=function(e){return function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;r>o;o++)n[o-1]=arguments[o];return t[e].apply(t,n)}},f=function(e){return e},d=function(e){return function(){return e}},p=d(!0),m=d(!1),v=function(e){return function(){return!e.apply(void 0,arguments)}},h=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return function(){for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];return t.every(function(e){return e.apply(void 0,r)})}},y=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return function(){for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];return t.some(function(e){return e.apply(void 0,r)})}},b=function(e,t){var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],o=null,i=null,a=null,u=0,s=r.leading,c=r.trailing,l=function(){u=s===!1?0:Date.now(),a=null,i=e.apply(void 0,n(o)),o=null};return function(){for(var r=arguments.length,f=Array(r),d=0;r>d;d++)f[d]=arguments[d];var p=Date.now();u||s!==!1||(u=p);var m=t-(p-u);return o=f,0>=m?(clearTimeout(a),a=null,u=p,i=e.apply(void 0,n(o)),o=null):a||c===!1||(a=setTimeout(l,m)),i}},g=function(e,t,r){var o=null,i=null,a=null,u=null,s=function c(){var s=Date.now()-a;t>s&&s>=0?o=setTimeout(c,t-s):(o=null,r||(u=e.apply(void 0,n(i)),o||(i=null)))};return function(){for(var c=arguments.length,l=Array(c),f=0;c>f;f++)l[f]=arguments[f];i=l,a=Date.now();var d=r&&!o;return o||(o=setTimeout(s,t)),d&&(u=e.apply(void 0,n(i)),i=null),u}};r.compose=o,r.partial=a,r.curry=u,r.arity=s,r.invokerFrom=c,r.invokerOf=l,r.identity=f,r.constant=d,r.True=p,r.False=m,r.not=v,r.and=h,r.or=y,r.throttle=b,r.debounce=g},{"babel-runtime/helpers/to-consumable-array":26}],221:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/get-own-property-names")["default"],o=e("babel-runtime/core-js/promise")["default"];!function(){function e(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function t(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):e&&n(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){return e.bodyUsed?o.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function a(e){return new o(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function u(e){var t=new FileReader;return t.readAsArrayBuffer(e),a(t)}function s(e){var t=new FileReader;return t.readAsText(e),a(t)}function c(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(e){if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText=""},v.blob?(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return o.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return o.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(u)},this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return o.resolve(this._bodyText)}):this.text=function(){var e=i(this);return e?e:o.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(e){var t=e.toUpperCase();return h.indexOf(t)>-1?t:e}function f(e,t){t=t||{};var n=t.body;if(f.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",(t.headers||!this.headers)&&(this.headers=new r(t.headers)),this.method=l(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}}),t}function p(e){var t=new r,n=e.getAllResponseHeaders().trim().split("\n");return n.forEach(function(e){var r=e.trim().split(":"),n=r.shift().trim(),o=r.join(":").trim();t.append(n,o)}),t}function m(e,t){t||(t={}),this._initBody(e),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof r?t.headers:new r(t.headers),this.url=t.url||""}if(!self.fetch){r.prototype.append=function(r,n){r=e(r),n=t(n);var o=this.map[r];o||(o=[],this.map[r]=o),o.push(n)},r.prototype["delete"]=function(t){delete this.map[e(t)]},r.prototype.get=function(t){var r=this.map[e(t)];return r?r[0]:null},r.prototype.getAll=function(t){return this.map[e(t)]||[]},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(r,n){this.map[e(r)]=[t(n)]},r.prototype.forEach=function(e,t){n(this.map).forEach(function(r){this.map[r].forEach(function(n){e.call(t,n,r,this)},this)},this)};var v={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self},h=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},c.call(f.prototype),c.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var y=[301,302,303,307,308];m.redirect=function(e,t){if(-1===y.indexOf(t))throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},self.Headers=r,self.Request=f,self.Response=m,self.fetch=function(e,t){return new o(function(r,n){function o(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var i;i=f.prototype.isPrototypeOf(e)&&!t?e:new f(e,t);var a=new XMLHttpRequest;a.onload=function(){var e=1223===a.status?204:a.status;if(100>e||e>599)return void n(new TypeError("Network request failed"));var t={status:e,statusText:a.statusText,headers:p(a),url:o()},i="response"in a?a.response:a.responseText;r(new m(i,t))},a.onerror=function(){n(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&v.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},self.fetch.polyfill=!0}}()},{"babel-runtime/core-js/object/get-own-property-names":11,"babel-runtime/core-js/promise":14}]},{},[178]);
//# sourceMappingURL=../browser/index.js.map